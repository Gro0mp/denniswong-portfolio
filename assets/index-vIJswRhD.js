function oU(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function vh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var nA={exports:{}},eg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iT;function lU(){if(iT)return eg;iT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var o=null;if(a!==void 0&&(o=""+a),r.key!==void 0&&(o=""+r.key),"key"in r){a={};for(var c in r)c!=="key"&&(a[c]=r[c])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:o,ref:r!==void 0?r:null,props:a}}return eg.Fragment=e,eg.jsx=t,eg.jsxs=t,eg}var rT;function cU(){return rT||(rT=1,nA.exports=lU()),nA.exports}var J=cU(),iA={exports:{}},an={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aT;function uU(){if(aT)return an;aT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function x(Y){return Y===null||typeof Y!="object"?null:(Y=v&&Y[v]||Y["@@iterator"],typeof Y=="function"?Y:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function M(Y,ae,Se){this.props=Y,this.context=ae,this.refs=T,this.updater=Se||_}M.prototype.isReactComponent={},M.prototype.setState=function(Y,ae){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ae,"setState")},M.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function b(){}b.prototype=M.prototype;function R(Y,ae,Se){this.props=Y,this.context=ae,this.refs=T,this.updater=Se||_}var B=R.prototype=new b;B.constructor=R,S(B,M.prototype),B.isPureReactComponent=!0;var D=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function F(Y,ae,Se,Re,Ue,pe){return Se=pe.ref,{$$typeof:n,type:Y,key:ae,ref:Se!==void 0?Se:null,props:pe}}function V(Y,ae){return F(Y.type,ae,void 0,void 0,void 0,Y.props)}function P(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function L(Y){var ae={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(Se){return ae[Se]})}var k=/\/+/g;function ie(Y,ae){return typeof Y=="object"&&Y!==null&&Y.key!=null?L(""+Y.key):ae.toString(36)}function te(){}function ue(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(te,te):(Y.status="pending",Y.then(function(ae){Y.status==="pending"&&(Y.status="fulfilled",Y.value=ae)},function(ae){Y.status==="pending"&&(Y.status="rejected",Y.reason=ae)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function fe(Y,ae,Se,Re,Ue){var pe=typeof Y;(pe==="undefined"||pe==="boolean")&&(Y=null);var Be=!1;if(Y===null)Be=!0;else switch(pe){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(Y.$$typeof){case n:case e:Be=!0;break;case m:return Be=Y._init,fe(Be(Y._payload),ae,Se,Re,Ue)}}if(Be)return Ue=Ue(Y),Be=Re===""?"."+ie(Y,0):Re,D(Ue)?(Se="",Be!=null&&(Se=Be.replace(k,"$&/")+"/"),fe(Ue,ae,Se,"",function(st){return st})):Ue!=null&&(P(Ue)&&(Ue=V(Ue,Se+(Ue.key==null||Y&&Y.key===Ue.key?"":(""+Ue.key).replace(k,"$&/")+"/")+Be)),ae.push(Ue)),1;Be=0;var Fe=Re===""?".":Re+":";if(D(Y))for(var We=0;We<Y.length;We++)Re=Y[We],pe=Fe+ie(Re,We),Be+=fe(Re,ae,Se,pe,Ue);else if(We=x(Y),typeof We=="function")for(Y=We.call(Y),We=0;!(Re=Y.next()).done;)Re=Re.value,pe=Fe+ie(Re,We++),Be+=fe(Re,ae,Se,pe,Ue);else if(pe==="object"){if(typeof Y.then=="function")return fe(ue(Y),ae,Se,Re,Ue);throw ae=String(Y),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Be}function G(Y,ae,Se){if(Y==null)return Y;var Re=[],Ue=0;return fe(Y,Re,"","",function(pe){return ae.call(Se,pe,Ue++)}),Re}function $(Y){if(Y._status===-1){var ae=Y._result;ae=ae(),ae.then(function(Se){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=Se)},function(Se){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=Se)}),Y._status===-1&&(Y._status=0,Y._result=ae)}if(Y._status===1)return Y._result.default;throw Y._result}var Q=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function he(){}return an.Children={map:G,forEach:function(Y,ae,Se){G(Y,function(){ae.apply(this,arguments)},Se)},count:function(Y){var ae=0;return G(Y,function(){ae++}),ae},toArray:function(Y){return G(Y,function(ae){return ae})||[]},only:function(Y){if(!P(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},an.Component=M,an.Fragment=t,an.Profiler=r,an.PureComponent=R,an.StrictMode=i,an.Suspense=f,an.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,an.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return I.H.useMemoCache(Y)}},an.cache=function(Y){return function(){return Y.apply(null,arguments)}},an.cloneElement=function(Y,ae,Se){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var Re=S({},Y.props),Ue=Y.key,pe=void 0;if(ae!=null)for(Be in ae.ref!==void 0&&(pe=void 0),ae.key!==void 0&&(Ue=""+ae.key),ae)!U.call(ae,Be)||Be==="key"||Be==="__self"||Be==="__source"||Be==="ref"&&ae.ref===void 0||(Re[Be]=ae[Be]);var Be=arguments.length-2;if(Be===1)Re.children=Se;else if(1<Be){for(var Fe=Array(Be),We=0;We<Be;We++)Fe[We]=arguments[We+2];Re.children=Fe}return F(Y.type,Ue,void 0,void 0,pe,Re)},an.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:a,_context:Y},Y},an.createElement=function(Y,ae,Se){var Re,Ue={},pe=null;if(ae!=null)for(Re in ae.key!==void 0&&(pe=""+ae.key),ae)U.call(ae,Re)&&Re!=="key"&&Re!=="__self"&&Re!=="__source"&&(Ue[Re]=ae[Re]);var Be=arguments.length-2;if(Be===1)Ue.children=Se;else if(1<Be){for(var Fe=Array(Be),We=0;We<Be;We++)Fe[We]=arguments[We+2];Ue.children=Fe}if(Y&&Y.defaultProps)for(Re in Be=Y.defaultProps,Be)Ue[Re]===void 0&&(Ue[Re]=Be[Re]);return F(Y,pe,void 0,void 0,null,Ue)},an.createRef=function(){return{current:null}},an.forwardRef=function(Y){return{$$typeof:c,render:Y}},an.isValidElement=P,an.lazy=function(Y){return{$$typeof:m,_payload:{_status:-1,_result:Y},_init:$}},an.memo=function(Y,ae){return{$$typeof:p,type:Y,compare:ae===void 0?null:ae}},an.startTransition=function(Y){var ae=I.T,Se={};I.T=Se;try{var Re=Y(),Ue=I.S;Ue!==null&&Ue(Se,Re),typeof Re=="object"&&Re!==null&&typeof Re.then=="function"&&Re.then(he,Q)}catch(pe){Q(pe)}finally{I.T=ae}},an.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},an.use=function(Y){return I.H.use(Y)},an.useActionState=function(Y,ae,Se){return I.H.useActionState(Y,ae,Se)},an.useCallback=function(Y,ae){return I.H.useCallback(Y,ae)},an.useContext=function(Y){return I.H.useContext(Y)},an.useDebugValue=function(){},an.useDeferredValue=function(Y,ae){return I.H.useDeferredValue(Y,ae)},an.useEffect=function(Y,ae,Se){var Re=I.H;if(typeof Se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Re.useEffect(Y,ae)},an.useId=function(){return I.H.useId()},an.useImperativeHandle=function(Y,ae,Se){return I.H.useImperativeHandle(Y,ae,Se)},an.useInsertionEffect=function(Y,ae){return I.H.useInsertionEffect(Y,ae)},an.useLayoutEffect=function(Y,ae){return I.H.useLayoutEffect(Y,ae)},an.useMemo=function(Y,ae){return I.H.useMemo(Y,ae)},an.useOptimistic=function(Y,ae){return I.H.useOptimistic(Y,ae)},an.useReducer=function(Y,ae,Se){return I.H.useReducer(Y,ae,Se)},an.useRef=function(Y){return I.H.useRef(Y)},an.useState=function(Y){return I.H.useState(Y)},an.useSyncExternalStore=function(Y,ae,Se){return I.H.useSyncExternalStore(Y,ae,Se)},an.useTransition=function(){return I.H.useTransition()},an.version="19.1.0",an}var sT;function Sp(){return sT||(sT=1,iA.exports=uU()),iA.exports}var N=Sp();const re=vh(N),fU=oU({__proto__:null,default:re},[N]);var rA={exports:{}},tg={},aA={exports:{}},sA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT;function hU(){return oT||(oT=1,function(n){function e(G,$){var Q=G.length;G.push($);e:for(;0<Q;){var he=Q-1>>>1,Y=G[he];if(0<r(Y,$))G[he]=$,G[Q]=Y,Q=he;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var $=G[0],Q=G.pop();if(Q!==$){G[0]=Q;e:for(var he=0,Y=G.length,ae=Y>>>1;he<ae;){var Se=2*(he+1)-1,Re=G[Se],Ue=Se+1,pe=G[Ue];if(0>r(Re,Q))Ue<Y&&0>r(pe,Re)?(G[he]=pe,G[Ue]=Q,he=Ue):(G[he]=Re,G[Se]=Q,he=Se);else if(Ue<Y&&0>r(pe,Q))G[he]=pe,G[Ue]=Q,he=Ue;else break e}}return $}function r(G,$){var Q=G.sortIndex-$.sortIndex;return Q!==0?Q:G.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var f=[],p=[],m=1,v=null,x=3,_=!1,S=!1,T=!1,M=!1,b=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function D(G){for(var $=t(p);$!==null;){if($.callback===null)i(p);else if($.startTime<=G)i(p),$.sortIndex=$.expirationTime,e(f,$);else break;$=t(p)}}function I(G){if(T=!1,D(G),!S)if(t(f)!==null)S=!0,U||(U=!0,ie());else{var $=t(p);$!==null&&fe(I,$.startTime-G)}}var U=!1,F=-1,V=5,P=-1;function L(){return M?!0:!(n.unstable_now()-P<V)}function k(){if(M=!1,U){var G=n.unstable_now();P=G;var $=!0;try{e:{S=!1,T&&(T=!1,R(F),F=-1),_=!0;var Q=x;try{t:{for(D(G),v=t(f);v!==null&&!(v.expirationTime>G&&L());){var he=v.callback;if(typeof he=="function"){v.callback=null,x=v.priorityLevel;var Y=he(v.expirationTime<=G);if(G=n.unstable_now(),typeof Y=="function"){v.callback=Y,D(G),$=!0;break t}v===t(f)&&i(f),D(G)}else i(f);v=t(f)}if(v!==null)$=!0;else{var ae=t(p);ae!==null&&fe(I,ae.startTime-G),$=!1}}break e}finally{v=null,x=Q,_=!1}$=void 0}}finally{$?ie():U=!1}}}var ie;if(typeof B=="function")ie=function(){B(k)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ue=te.port2;te.port1.onmessage=k,ie=function(){ue.postMessage(null)}}else ie=function(){b(k,0)};function fe(G,$){F=b(function(){G(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(G){switch(x){case 1:case 2:case 3:var $=3;break;default:$=x}var Q=x;x=$;try{return G()}finally{x=Q}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(G,$){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Q=x;x=G;try{return $()}finally{x=Q}},n.unstable_scheduleCallback=function(G,$,Q){var he=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?he+Q:he):Q=he,G){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=Q+Y,G={id:m++,callback:$,priorityLevel:G,startTime:Q,expirationTime:Y,sortIndex:-1},Q>he?(G.sortIndex=Q,e(p,G),t(f)===null&&G===t(p)&&(T?(R(F),F=-1):T=!0,fe(I,Q-he))):(G.sortIndex=Y,e(f,G),S||_||(S=!0,U||(U=!0,ie()))),G},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(G){var $=x;return function(){var Q=x;x=$;try{return G.apply(this,arguments)}finally{x=Q}}}}(sA)),sA}var lT;function dU(){return lT||(lT=1,aA.exports=hU()),aA.exports}var oA={exports:{}},Ir={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT;function pU(){if(cT)return Ir;cT=1;var n=Sp();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(f,p,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:p,implementation:m}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ir.createPortal=function(f,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return a(f,p,null,m)},Ir.flushSync=function(f){var p=o.T,m=i.p;try{if(o.T=null,i.p=2,f)return f()}finally{o.T=p,i.p=m,i.d.f()}},Ir.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},Ir.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Ir.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var m=p.as,v=c(m,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:_}):m==="script"&&i.d.X(f,{crossOrigin:v,integrity:x,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ir.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=c(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},Ir.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,v=c(m,p.crossOrigin);i.d.L(f,m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ir.preloadModule=function(f,p){if(typeof f=="string")if(p){var m=c(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},Ir.requestFormReset=function(f){i.d.r(f)},Ir.unstable_batchedUpdates=function(f,p){return f(p)},Ir.useFormState=function(f,p,m){return o.H.useFormState(f,p,m)},Ir.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ir.version="19.1.0",Ir}var uT;function j2(){if(uT)return oA.exports;uT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),oA.exports=pU(),oA.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT;function mU(){if(fT)return tg;fT=1;var n=dU(),e=Sp(),t=j2();function i(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,d=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(d=l.return),s=l.return;while(s)}return l.tag===3?d:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function c(s){if(a(s)!==s)throw Error(i(188))}function f(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(i(188));return l!==s?null:s}for(var d=s,g=l;;){var A=d.return;if(A===null)break;var C=A.alternate;if(C===null){if(g=A.return,g!==null){d=g;continue}break}if(A.child===C.child){for(C=A.child;C;){if(C===d)return c(A),s;if(C===g)return c(A),l;C=C.sibling}throw Error(i(188))}if(d.return!==g.return)d=A,g=C;else{for(var z=!1,X=A.child;X;){if(X===d){z=!0,d=A,g=C;break}if(X===g){z=!0,g=A,d=C;break}X=X.sibling}if(!z){for(X=C.child;X;){if(X===d){z=!0,d=C,g=A;break}if(X===g){z=!0,g=C,d=A;break}X=X.sibling}if(!z)throw Error(i(189))}}if(d.alternate!==g)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?s:l}function p(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=p(s),l!==null)return l;s=s.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),B=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function ie(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var te=Symbol.for("react.client.reference");function ue(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===te?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case M:return"Profiler";case T:return"StrictMode";case I:return"Suspense";case U:return"SuspenseList";case P:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case _:return"Portal";case B:return(s.displayName||"Context")+".Provider";case R:return(s._context.displayName||"Context")+".Consumer";case D:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case F:return l=s.displayName||null,l!==null?l:ue(s.type)||"Memo";case V:l=s._payload,s=s._init;try{return ue(s(l))}catch{}}return null}var fe=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},he=[],Y=-1;function ae(s){return{current:s}}function Se(s){0>Y||(s.current=he[Y],he[Y]=null,Y--)}function Re(s,l){Y++,he[Y]=s.current,s.current=l}var Ue=ae(null),pe=ae(null),Be=ae(null),Fe=ae(null);function We(s,l){switch(Re(Be,l),Re(pe,s),Re(Ue,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?DM(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=DM(l),s=OM(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Se(Ue),Re(Ue,s)}function st(){Se(Ue),Se(pe),Se(Be)}function St(s){s.memoizedState!==null&&Re(Fe,s);var l=Ue.current,d=OM(l,s.type);l!==d&&(Re(pe,s),Re(Ue,d))}function ln(s){pe.current===s&&(Se(Ue),Se(pe)),Fe.current===s&&(Se(Fe),Jm._currentValue=Q)}var Et=Object.prototype.hasOwnProperty,Z=n.unstable_scheduleCallback,Pe=n.unstable_cancelCallback,Oe=n.unstable_shouldYield,Xe=n.unstable_requestPaint,De=n.unstable_now,et=n.unstable_getCurrentPriorityLevel,Ve=n.unstable_ImmediatePriority,Ye=n.unstable_UserBlockingPriority,Mt=n.unstable_NormalPriority,Tt=n.unstable_LowPriority,j=n.unstable_IdlePriority,H=n.log,de=n.unstable_setDisableYieldValue,be=null,Ne=null;function we(s){if(typeof H=="function"&&de(s),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(be,s)}catch{}}var at=Math.clz32?Math.clz32:mt,Qe=Math.log,pt=Math.LN2;function mt(s){return s>>>=0,s===0?32:31-(Qe(s)/pt|0)|0}var je=256,tt=4194304;function vt(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function gt(s,l,d){var g=s.pendingLanes;if(g===0)return 0;var A=0,C=s.suspendedLanes,z=s.pingedLanes;s=s.warmLanes;var X=g&134217727;return X!==0?(g=X&~C,g!==0?A=vt(g):(z&=X,z!==0?A=vt(z):d||(d=X&~s,d!==0&&(A=vt(d))))):(X=g&~C,X!==0?A=vt(X):z!==0?A=vt(z):d||(d=g&~s,d!==0&&(A=vt(d)))),A===0?0:l!==0&&l!==A&&(l&C)===0&&(C=A&-A,d=l&-l,C>=d||C===32&&(d&4194048)!==0)?l:A}function nt(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function zt(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function le(){var s=je;return je<<=1,(je&4194048)===0&&(je=256),s}function Ke(){var s=tt;return tt<<=1,(tt&62914560)===0&&(tt=4194304),s}function it(s){for(var l=[],d=0;31>d;d++)l.push(s);return l}function ht(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function qe(s,l,d,g,A,C){var z=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var X=s.entanglements,ee=s.expirationTimes,_e=s.hiddenUpdates;for(d=z&~d;0<d;){var Ie=31-at(d),ke=1<<Ie;X[Ie]=0,ee[Ie]=-1;var Ee=_e[Ie];if(Ee!==null)for(_e[Ie]=null,Ie=0;Ie<Ee.length;Ie++){var Te=Ee[Ie];Te!==null&&(Te.lane&=-536870913)}d&=~ke}g!==0&&He(s,g,0),C!==0&&A===0&&s.tag!==0&&(s.suspendedLanes|=C&~(z&~l))}function He(s,l,d){s.pendingLanes|=l,s.suspendedLanes&=~l;var g=31-at(l);s.entangledLanes|=l,s.entanglements[g]=s.entanglements[g]|1073741824|d&4194090}function yt(s,l){var d=s.entangledLanes|=l;for(s=s.entanglements;d;){var g=31-at(d),A=1<<g;A&l|s[g]&l&&(s[g]|=l),d&=~A}}function Lt(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function gn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function un(){var s=$.p;return s!==0?s:(s=window.event,s===void 0?32:$M(s.type))}function xa(s,l){var d=$.p;try{return $.p=s,l()}finally{$.p=d}}var bi=Math.random().toString(36).slice(2),Ai="__reactFiber$"+bi,Qn="__reactProps$"+bi,_a="__reactContainer$"+bi,qr="__reactEvents$"+bi,Iu="__reactListeners$"+bi,Wr="__reactHandles$"+bi,Jr="__reactResources$"+bi,Kr="__reactMarker$"+bi;function Hn(s){delete s[Ai],delete s[Qn],delete s[qr],delete s[Iu],delete s[Wr]}function ka(s){var l=s[Ai];if(l)return l;for(var d=s.parentNode;d;){if(l=d[_a]||d[Ai]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(s=IM(s);s!==null;){if(d=s[Ai])return d;s=IM(s)}return l}s=d,d=s.parentNode}return null}function ls(s){if(s=s[Ai]||s[_a]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function So(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(i(33))}function zs(s){var l=s[Jr];return l||(l=s[Jr]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Si(s){s[Kr]=!0}var yc=new Set,xc={};function q(s,l){ce(s,l),ce(s+"Capture",l)}function ce(s,l){for(xc[s]=l,s=0;s<l.length;s++)yc.add(l[s])}var ye=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Me={},me={};function Je(s){return Et.call(me,s)?!0:Et.call(Me,s)?!1:ye.test(s)?me[s]=!0:(Me[s]=!0,!1)}function rt(s,l,d){if(Je(l))if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+d)}}function dt(s,l,d){if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+d)}}function lt(s,l,d,g){if(g===null)s.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(l,d,""+g)}}var wt,Nt;function At(s){if(wt===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);wt=l&&l[1]||"",Nt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wt+s+Nt}var Zt=!1;function yn(s,l){if(!s||Zt)return"";Zt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(Te){var Ee=Te}Reflect.construct(s,[],ke)}else{try{ke.call()}catch(Te){Ee=Te}s.call(ke.prototype)}}else{try{throw Error()}catch(Te){Ee=Te}(ke=s())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(Te){if(Te&&Ee&&typeof Te.stack=="string")return[Te.stack,Ee.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=g.DetermineComponentFrameRoot(),z=C[0],X=C[1];if(z&&X){var ee=z.split(`
`),_e=X.split(`
`);for(A=g=0;g<ee.length&&!ee[g].includes("DetermineComponentFrameRoot");)g++;for(;A<_e.length&&!_e[A].includes("DetermineComponentFrameRoot");)A++;if(g===ee.length||A===_e.length)for(g=ee.length-1,A=_e.length-1;1<=g&&0<=A&&ee[g]!==_e[A];)A--;for(;1<=g&&0<=A;g--,A--)if(ee[g]!==_e[A]){if(g!==1||A!==1)do if(g--,A--,0>A||ee[g]!==_e[A]){var Ie=`
`+ee[g].replace(" at new "," at ");return s.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",s.displayName)),Ie}while(1<=g&&0<=A);break}}}finally{Zt=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?At(d):""}function Wn(s){switch(s.tag){case 26:case 27:case 5:return At(s.type);case 16:return At("Lazy");case 13:return At("Suspense");case 19:return At("SuspenseList");case 0:case 15:return yn(s.type,!1);case 11:return yn(s.type.render,!1);case 1:return yn(s.type,!0);case 31:return At("Activity");default:return""}}function Dn(s){try{var l="";do l+=Wn(s),s=s.return;while(s);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Jt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Rt(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Jn(s){var l=Rt(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),g=""+s[l];if(!s.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var A=d.get,C=d.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return A.call(this)},set:function(z){g=""+z,C.call(this,z)}}),Object.defineProperty(s,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(z){g=""+z},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function sn(s){s._valueTracker||(s._valueTracker=Jn(s))}function Yi(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return s&&(g=Rt(s)?s.checked?"true":"false":s.value),s=g,s!==d?(l.setValue(s),!0):!1}function ba(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var qi=/[\n"\\]/g;function Bi(s){return s.replace(qi,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Nn(s,l,d,g,A,C,z,X){s.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?s.type=z:s.removeAttribute("type"),l!=null?z==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Jt(l)):s.value!==""+Jt(l)&&(s.value=""+Jt(l)):z!=="submit"&&z!=="reset"||s.removeAttribute("value"),l!=null?Wi(s,z,Jt(l)):d!=null?Wi(s,z,Jt(d)):g!=null&&s.removeAttribute("value"),A==null&&C!=null&&(s.defaultChecked=!!C),A!=null&&(s.checked=A&&typeof A!="function"&&typeof A!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?s.name=""+Jt(X):s.removeAttribute("name")}function lr(s,l,d,g,A,C,z,X){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.type=C),l!=null||d!=null){if(!(C!=="submit"&&C!=="reset"||l!=null))return;d=d!=null?""+Jt(d):"",l=l!=null?""+Jt(l):d,X||l===s.value||(s.value=l),s.defaultValue=l}g=g??A,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=X?s.checked:!!g,s.defaultChecked=!!g,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(s.name=z)}function Wi(s,l,d){l==="number"&&ba(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function ti(s,l,d,g){if(s=s.options,l){l={};for(var A=0;A<d.length;A++)l["$"+d[A]]=!0;for(d=0;d<s.length;d++)A=l.hasOwnProperty("$"+s[d].value),s[d].selected!==A&&(s[d].selected=A),A&&g&&(s[d].defaultSelected=!0)}else{for(d=""+Jt(d),l=null,A=0;A<s.length;A++){if(s[A].value===d){s[A].selected=!0,g&&(s[A].defaultSelected=!0);return}l!==null||s[A].disabled||(l=s[A])}l!==null&&(l.selected=!0)}}function Ji(s,l,d){if(l!=null&&(l=""+Jt(l),l!==s.value&&(s.value=l),d==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=d!=null?""+Jt(d):""}function vl(s,l,d,g){if(l==null){if(g!=null){if(d!=null)throw Error(i(92));if(fe(g)){if(1<g.length)throw Error(i(93));g=g[0]}d=g}d==null&&(d=""),l=d}d=Jt(l),s.defaultValue=d,g=s.textContent,g===d&&g!==""&&g!==null&&(s.value=g)}function Di(s,l){if(l){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=l;return}}s.textContent=l}var O0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pu(s,l,d){var g=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":g?s.setProperty(l,d):typeof d!="number"||d===0||O0.has(l)?l==="float"?s.cssFloat=d:s[l]=(""+d).trim():s[l]=d+"px"}function zu(s,l,d){if(l!=null&&typeof l!="object")throw Error(i(62));if(s=s.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var A in l)g=l[A],l.hasOwnProperty(A)&&d[A]!==g&&Pu(s,A,g)}else for(var C in l)l.hasOwnProperty(C)&&Pu(s,C,l[C])}function Ah(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),N0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fu(s){return N0.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Sh=null;function Eh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Eo=null,yl=null;function Vp(s){var l=ls(s);if(l&&(s=l.stateNode)){var d=s[Qn]||null;e:switch(s=l.stateNode,l.type){case"input":if(Nn(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Bi(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==s&&g.form===s.form){var A=g[Qn]||null;if(!A)throw Error(i(90));Nn(g,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(l=0;l<d.length;l++)g=d[l],g.form===s.form&&Yi(g)}break e;case"textarea":Ji(s,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&ti(s,!!d.multiple,l,!1)}}}var Hu=!1;function kp(s,l,d){if(Hu)return s(l,d);Hu=!0;try{var g=s(l);return g}finally{if(Hu=!1,(Eo!==null||yl!==null)&&(Es(),Eo&&(l=Eo,s=yl,yl=Eo=null,Vp(l),s)))for(l=0;l<s.length;l++)Vp(s[l])}}function _c(s,l){var d=s.stateNode;if(d===null)return null;var g=d[Qn]||null;if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(i(231,l,typeof d));return d}var cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gu=!1;if(cs)try{var bc={};Object.defineProperty(bc,"passive",{get:function(){Gu=!0}}),window.addEventListener("test",bc,bc),window.removeEventListener("test",bc,bc)}catch{Gu=!1}var Fs=null,jp=null,Mh=null;function Xp(){if(Mh)return Mh;var s,l=jp,d=l.length,g,A="value"in Fs?Fs.value:Fs.textContent,C=A.length;for(s=0;s<d&&l[s]===A[s];s++);var z=d-s;for(g=1;g<=z&&l[d-g]===A[C-g];g++);return Mh=A.slice(s,1<g?1-g:void 0)}function Mo(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Ac(){return!0}function Vu(){return!1}function yr(s){function l(d,g,A,C,z){this._reactName=d,this._targetInst=A,this.type=g,this.nativeEvent=C,this.target=z,this.currentTarget=null;for(var X in s)s.hasOwnProperty(X)&&(d=s[X],this[X]=d?d(C):C[X]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Ac:Vu,this.isPropagationStopped=Vu,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ac)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ac)},persist:function(){},isPersistent:Ac}),l}var To={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sc=yr(To),Ec=m({},To,{view:0,detail:0}),U0=yr(Ec),Hs,Mc,Tc,Cc=m({},Ec,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ju,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Tc&&(Tc&&s.type==="mousemove"?(Hs=s.screenX-Tc.screenX,Mc=s.screenY-Tc.screenY):Mc=Hs=0,Tc=s),Hs)},movementY:function(s){return"movementY"in s?s.movementY:Mc}}),Yp=yr(Cc),L0=m({},Cc,{dataTransfer:0}),_b=yr(L0),Ki=m({},Ec,{relatedTarget:0}),Th=yr(Ki),I0=m({},To,{animationName:0,elapsedTime:0,pseudoElement:0}),P0=yr(I0),z0=m({},To,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),F0=yr(z0),ku=m({},To,{data:0}),Ch=yr(ku),H0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},V0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qp(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=V0[s])?!!l[s]:!1}function ju(){return qp}var k0=m({},Ec,{key:function(s){if(s.key){var l=H0[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Mo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?G0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ju,charCode:function(s){return s.type==="keypress"?Mo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Mo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Wp=yr(k0),Jp=m({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wh=yr(Jp),j0=m({},Ec,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ju}),Kp=yr(j0),X0=m({},To,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gs=yr(X0),$p=m({},Cc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),bb=yr($p),Y0=m({},To,{newState:0,oldState:0}),Co=yr(Y0),Vs=[9,13,27,32],Xu=cs&&"CompositionEvent"in window,xl=null;cs&&"documentMode"in document&&(xl=document.documentMode);var Yu=cs&&"TextEvent"in window&&!xl,qu=cs&&(!Xu||xl&&8<xl&&11>=xl),wo=" ",$i=!1;function Wu(s,l){switch(s){case"keyup":return Vs.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qp(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ro=!1;function Ju(s,l){switch(s){case"compositionend":return Qp(l);case"keypress":return l.which!==32?null:($i=!0,wo);case"textInput":return s=l.data,s===wo&&$i?null:s;default:return null}}function Zp(s,l){if(Ro)return s==="compositionend"||!Xu&&Wu(s,l)?(s=Xp(),Mh=jp=Fs=null,Ro=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return qu&&l.locale!=="ko"?null:l.data;default:return null}}var Rh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function em(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!Rh[s.type]:l==="textarea"}function wr(s,l,d,g){Eo?yl?yl.push(g):yl=[g]:Eo=g,l=Xv(l,"onChange"),0<l.length&&(d=new Sc("onChange","change",null,d,g),s.push({event:d,listeners:l}))}var wc=null,_l=null;function q0(s){TM(s,0)}function Ku(s){var l=So(s);if(Yi(l))return s}function Bh(s,l){if(s==="change")return l}var Dh=!1;if(cs){var Oh;if(cs){var Rc="oninput"in document;if(!Rc){var Bc=document.createElement("div");Bc.setAttribute("oninput","return;"),Rc=typeof Bc.oninput=="function"}Oh=Rc}else Oh=!1;Dh=Oh&&(!document.documentMode||9<document.documentMode)}function Zn(){wc&&(wc.detachEvent("onpropertychange",W0),_l=wc=null)}function W0(s){if(s.propertyName==="value"&&Ku(_l)){var l=[];wr(l,_l,s,Eh(s)),kp(q0,l)}}function Ab(s,l,d){s==="focusin"?(Zn(),wc=l,_l=d,wc.attachEvent("onpropertychange",W0)):s==="focusout"&&Zn()}function J0(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ku(_l)}function $u(s,l){if(s==="click")return Ku(l)}function Bo(s,l){if(s==="input"||s==="change")return Ku(l)}function K0(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Rr=typeof Object.is=="function"?Object.is:K0;function ja(s,l){if(Rr(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var d=Object.keys(s),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var A=d[g];if(!Et.call(l,A)||!Rr(s[A],l[A]))return!1}return!0}function Br(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function tm(s,l){var d=Br(s);s=0;for(var g;d;){if(d.nodeType===3){if(g=s+d.textContent.length,s<=l&&g>=l)return{node:d,offset:l-s};s=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Br(d)}}function nm(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?nm(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function im(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=ba(s.document);l instanceof s.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)s=l.contentWindow;else break;l=ba(s.document)}return l}function Qu(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var rm=cs&&"documentMode"in document&&11>=document.documentMode,ks=null,Nh=null,Zu=null,Uh=!1;function am(s,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Uh||ks==null||ks!==ba(g)||(g=ks,"selectionStart"in g&&Qu(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Zu&&ja(Zu,g)||(Zu=g,g=Xv(Nh,"onSelect"),0<g.length&&(l=new Sc("onSelect","select",null,l,d),s.push({event:l,listeners:g}),l.target=ks)))}function Qi(s,l){var d={};return d[s.toLowerCase()]=l.toLowerCase(),d["Webkit"+s]="webkit"+l,d["Moz"+s]="moz"+l,d}var Do={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionrun:Qi("Transition","TransitionRun"),transitionstart:Qi("Transition","TransitionStart"),transitioncancel:Qi("Transition","TransitionCancel"),transitionend:Qi("Transition","TransitionEnd")},Lh={},$0={};cs&&($0=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function js(s){if(Lh[s])return Lh[s];if(!Do[s])return s;var l=Do[s],d;for(d in l)if(l.hasOwnProperty(d)&&d in $0)return Lh[s]=l[d];return s}var xr=js("animationend"),sm=js("animationiteration"),Dr=js("animationstart"),Q0=js("transitionrun"),Xs=js("transitionstart"),Dc=js("transitioncancel"),Ys=js("transitionend"),Ih=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function Fi(s,l){Ih.set(s,l),q(l,[s])}var om=new WeakMap;function Zi(s,l){if(typeof s=="object"&&s!==null){var d=om.get(s);return d!==void 0?d:(l={value:s,source:l,stack:Dn(l)},om.set(s,l),l)}return{value:s,source:l,stack:Dn(l)}}var cr=[],Aa=0,Ph=0;function tf(){for(var s=Aa,l=Ph=Aa=0;l<s;){var d=cr[l];cr[l++]=null;var g=cr[l];cr[l++]=null;var A=cr[l];cr[l++]=null;var C=cr[l];if(cr[l++]=null,g!==null&&A!==null){var z=g.pending;z===null?A.next=A:(A.next=z.next,z.next=A),g.pending=A}C!==0&&lm(d,A,C)}}function Oo(s,l,d,g){cr[Aa++]=s,cr[Aa++]=l,cr[Aa++]=d,cr[Aa++]=g,Ph|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function zh(s,l,d,g){return Oo(s,l,d,g),Oc(s)}function qs(s,l){return Oo(s,null,null,l),Oc(s)}function lm(s,l,d){s.lanes|=d;var g=s.alternate;g!==null&&(g.lanes|=d);for(var A=!1,C=s.return;C!==null;)C.childLanes|=d,g=C.alternate,g!==null&&(g.childLanes|=d),C.tag===22&&(s=C.stateNode,s===null||s._visibility&1||(A=!0)),s=C,C=C.return;return s.tag===3?(C=s.stateNode,A&&l!==null&&(A=31-at(d),s=C.hiddenUpdates,g=s[A],g===null?s[A]=[l]:g.push(l),l.lane=d|536870912),C):null}function Oc(s){if(50<Ss)throw Ss=0,zl=null,Error(i(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var No={};function cm(s,l,d,g){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(s,l,d,g){return new cm(s,l,d,g)}function nf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function fi(s,l){var d=s.alternate;return d===null?(d=Or(s.tag,l,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=l,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,l=s.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function um(s,l){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,l=d.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Hi(s,l,d,g,A,C){var z=0;if(g=s,typeof s=="function")nf(s)&&(z=1);else if(typeof s=="string")z=WN(s,d,Ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case P:return s=Or(31,d,l,A),s.elementType=P,s.lanes=C,s;case S:return Uo(d.children,A,C,l);case T:z=8,A|=24;break;case M:return s=Or(12,d,l,A|2),s.elementType=M,s.lanes=C,s;case I:return s=Or(13,d,l,A),s.elementType=I,s.lanes=C,s;case U:return s=Or(19,d,l,A),s.elementType=U,s.lanes=C,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case b:case B:z=10;break e;case R:z=9;break e;case D:z=11;break e;case F:z=14;break e;case V:z=16,g=null;break e}z=29,d=Error(i(130,s===null?"null":typeof s,"")),g=null}return l=Or(z,d,l,A),l.elementType=s,l.type=g,l.lanes=C,l}function Uo(s,l,d,g){return s=Or(7,s,g,l),s.lanes=d,s}function rf(s,l,d){return s=Or(6,s,null,l),s.lanes=d,s}function Fh(s,l,d){return l=Or(4,s.children!==null?s.children:[],s.key,l),l.lanes=d,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var Nc=[],Nr=0,af=null,Uc=0,er=[],$r=0,Lo=null,us=1,fs="";function Ws(s,l){Nc[Nr++]=Uc,Nc[Nr++]=af,af=s,Uc=l}function Hh(s,l,d){er[$r++]=us,er[$r++]=fs,er[$r++]=Lo,Lo=s;var g=us;s=fs;var A=32-at(g)-1;g&=~(1<<A),d+=1;var C=32-at(l)+A;if(30<C){var z=A-A%5;C=(g&(1<<z)-1).toString(32),g>>=z,A-=z,us=1<<32-at(l)+A|d<<A|g,fs=C+s}else us=1<<C|d<<A|g,fs=s}function fm(s){s.return!==null&&(Ws(s,1),Hh(s,1,0))}function hm(s){for(;s===af;)af=Nc[--Nr],Nc[Nr]=null,Uc=Nc[--Nr],Nc[Nr]=null;for(;s===Lo;)Lo=er[--$r],er[$r]=null,fs=er[--$r],er[$r]=null,us=er[--$r],er[$r]=null}var _r=null,ni=null,Sn=!1,Sa=null,Qr=!1,Gh=Error(i(519));function Io(s){var l=Error(i(418,""));throw bl(Zi(l,s)),Gh}function Z0(s){var l=s.stateNode,d=s.type,g=s.memoizedProps;switch(l[Ai]=s,l[Qn]=g,d){case"dialog":dn("cancel",l),dn("close",l);break;case"iframe":case"object":case"embed":dn("load",l);break;case"video":case"audio":for(d=0;d<km.length;d++)dn(km[d],l);break;case"source":dn("error",l);break;case"img":case"image":case"link":dn("error",l),dn("load",l);break;case"details":dn("toggle",l);break;case"input":dn("invalid",l),lr(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),sn(l);break;case"select":dn("invalid",l);break;case"textarea":dn("invalid",l),vl(l,g.value,g.defaultValue,g.children),sn(l)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||g.suppressHydrationWarning===!0||BM(l.textContent,d)?(g.popover!=null&&(dn("beforetoggle",l),dn("toggle",l)),g.onScroll!=null&&dn("scroll",l),g.onScrollEnd!=null&&dn("scrollend",l),g.onClick!=null&&(l.onclick=Yv),l=!0):l=!1,l||Io(s)}function dm(s){for(_r=s.return;_r;)switch(_r.tag){case 5:case 13:Qr=!1;return;case 27:case 3:Qr=!0;return;default:_r=_r.return}}function Xa(s){if(s!==_r)return!1;if(!Sn)return dm(s),Sn=!0,!1;var l=s.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||Vb(s.type,s.memoizedProps)),d=!d),d&&ni&&Io(s),dm(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(d=s.data,d==="/$"){if(l===0){ni=lo(s.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;s=s.nextSibling}ni=null}}else l===27?(l=ni,au(s.type)?(s=Yb,Yb=null,ni=s):ni=l):ni=_r?lo(s.stateNode.nextSibling):null;return!0}function Lc(){ni=_r=null,Sn=!1}function Cn(){var s=Sa;return s!==null&&(It===null?It=s:It.push.apply(It,s),Sa=null),s}function bl(s){Sa===null?Sa=[s]:Sa.push(s)}var pm=ae(null),Po=null,Js=null;function zo(s,l,d){Re(pm,l._currentValue),l._currentValue=d}function Ks(s){s._currentValue=pm.current,Se(pm)}function mm(s,l,d){for(;s!==null;){var g=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),s===d)break;s=s.return}}function sf(s,l,d,g){var A=s.child;for(A!==null&&(A.return=s);A!==null;){var C=A.dependencies;if(C!==null){var z=A.child;C=C.firstContext;e:for(;C!==null;){var X=C;C=A;for(var ee=0;ee<l.length;ee++)if(X.context===l[ee]){C.lanes|=d,X=C.alternate,X!==null&&(X.lanes|=d),mm(C.return,d,s),g||(z=null);break e}C=X.next}}else if(A.tag===18){if(z=A.return,z===null)throw Error(i(341));z.lanes|=d,C=z.alternate,C!==null&&(C.lanes|=d),mm(z,d,s),z=null}else z=A.child;if(z!==null)z.return=A;else for(z=A;z!==null;){if(z===s){z=null;break}if(A=z.sibling,A!==null){A.return=z.return,z=A;break}z=z.return}A=z}}function Ea(s,l,d,g){s=null;for(var A=l,C=!1;A!==null;){if(!C){if((A.flags&524288)!==0)C=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var z=A.alternate;if(z===null)throw Error(i(387));if(z=z.memoizedProps,z!==null){var X=A.type;Rr(A.pendingProps.value,z.value)||(s!==null?s.push(X):s=[X])}}else if(A===Fe.current){if(z=A.alternate,z===null)throw Error(i(387));z.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(s!==null?s.push(Jm):s=[Jm])}A=A.return}s!==null&&sf(l,s,d,g),l.flags|=262144}function of(s){for(s=s.firstContext;s!==null;){if(!Rr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function hs(s){Po=s,Js=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ai(s){return Vh(Po,s)}function lf(s,l){return Po===null&&hs(s),Vh(s,l)}function Vh(s,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Js===null){if(s===null)throw Error(i(308));Js=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Js=Js.next=l;return d}var gm=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(d,g){s.push(g)}};this.abort=function(){l.aborted=!0,s.forEach(function(d){return d()})}},Sb=n.unstable_scheduleCallback,ev=n.unstable_NormalPriority,Ei={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kh(){return{controller:new gm,data:new Map,refCount:0}}function Ic(s){s.refCount--,s.refCount===0&&Sb(ev,function(){s.controller.abort()})}var Pc=null,cf=0,Kt=0,zc=null;function Zr(s,l){if(Pc===null){var d=Pc=[];cf=0,Kt=Nb(),zc={status:"pending",value:void 0,then:function(g){d.push(g)}}}return cf++,l.then(jh,jh),l}function jh(){if(--cf===0&&Pc!==null){zc!==null&&(zc.status="fulfilled");var s=Pc;Pc=null,Kt=0,zc=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function Eb(s,l){var d=[],g={status:"pending",value:null,reason:null,then:function(A){d.push(A)}};return s.then(function(){g.status="fulfilled",g.value=l;for(var A=0;A<d.length;A++)(0,d[A])(l)},function(A){for(g.status="rejected",g.reason=A,A=0;A<d.length;A++)(0,d[A])(void 0)}),g}var uf=G.S;G.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&Zr(s,l),uf!==null&&uf(s,l)};var Ma=ae(null);function Fo(){var s=Ma.current;return s!==null?s:Yt.pooledCache}function ff(s,l){l===null?Re(Ma,Ma.current):Re(Ma,l.pool)}function Xh(){var s=Fo();return s===null?null:{parent:Ei._currentValue,pool:s}}var hf=Error(i(460)),vm=Error(i(474)),Ya=Error(i(542)),df={then:function(){}};function Yh(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Fc(){}function qh(s,l,d){switch(d=s[d],d===void 0?s.push(l):d!==l&&(l.then(Fc,Fc),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,tv(s),s;default:if(typeof l.status=="string")l.then(Fc,Fc);else{if(s=Yt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=l,s.status="pending",s.then(function(g){if(l.status==="pending"){var A=l;A.status="fulfilled",A.value=g}},function(g){if(l.status==="pending"){var A=l;A.status="rejected",A.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,tv(s),s}throw Ta=l,hf}}var Ta=null;function ym(){if(Ta===null)throw Error(i(459));var s=Ta;return Ta=null,s}function tv(s){if(s===hf||s===Ya)throw Error(i(483))}var $s=!1;function xm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gt(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ds(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Qs(s,l,d){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(wn&2)!==0){var A=g.pending;return A===null?l.next=l:(l.next=A.next,A.next=l),g.pending=l,l=Oc(s),lm(s,null,d),l}return Oo(s,g,l,d),Oc(s)}function Al(s,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var g=l.lanes;g&=s.pendingLanes,d|=g,l.lanes=d,yt(s,d)}}function Hc(s,l){var d=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var A=null,C=null;if(d=d.firstBaseUpdate,d!==null){do{var z={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};C===null?A=C=z:C=C.next=z,d=d.next}while(d!==null);C===null?A=C=l:C=C.next=l}else A=C=l;d={baseState:g.baseState,firstBaseUpdate:A,lastBaseUpdate:C,shared:g.shared,callbacks:g.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=l:s.next=l,d.lastBaseUpdate=l}var _m=!1;function pf(){if(_m){var s=zc;if(s!==null)throw s}}function Gc(s,l,d,g){_m=!1;var A=s.updateQueue;$s=!1;var C=A.firstBaseUpdate,z=A.lastBaseUpdate,X=A.shared.pending;if(X!==null){A.shared.pending=null;var ee=X,_e=ee.next;ee.next=null,z===null?C=_e:z.next=_e,z=ee;var Ie=s.alternate;Ie!==null&&(Ie=Ie.updateQueue,X=Ie.lastBaseUpdate,X!==z&&(X===null?Ie.firstBaseUpdate=_e:X.next=_e,Ie.lastBaseUpdate=ee))}if(C!==null){var ke=A.baseState;z=0,Ie=_e=ee=null,X=C;do{var Ee=X.lane&-536870913,Te=Ee!==X.lane;if(Te?(Dt&Ee)===Ee:(g&Ee)===Ee){Ee!==0&&Ee===Kt&&(_m=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});e:{var Xt=s,Ft=X;Ee=l;var Xn=d;switch(Ft.tag){case 1:if(Xt=Ft.payload,typeof Xt=="function"){ke=Xt.call(Xn,ke,Ee);break e}ke=Xt;break e;case 3:Xt.flags=Xt.flags&-65537|128;case 0:if(Xt=Ft.payload,Ee=typeof Xt=="function"?Xt.call(Xn,ke,Ee):Xt,Ee==null)break e;ke=m({},ke,Ee);break e;case 2:$s=!0}}Ee=X.callback,Ee!==null&&(s.flags|=64,Te&&(s.flags|=8192),Te=A.callbacks,Te===null?A.callbacks=[Ee]:Te.push(Ee))}else Te={lane:Ee,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Ie===null?(_e=Ie=Te,ee=ke):Ie=Ie.next=Te,z|=Ee;if(X=X.next,X===null){if(X=A.shared.pending,X===null)break;Te=X,X=Te.next,Te.next=null,A.lastBaseUpdate=Te,A.shared.pending=null}}while(!0);Ie===null&&(ee=ke),A.baseState=ee,A.firstBaseUpdate=_e,A.lastBaseUpdate=Ie,C===null&&(A.shared.lanes=0),es|=z,s.lanes=z,s.memoizedState=ke}}function Vc(s,l){if(typeof s!="function")throw Error(i(191,s));s.call(l)}function nv(s,l){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)Vc(d[s],l)}var kc=ae(null),Wh=ae(0);function iv(s,l){s=Oa,Re(Wh,s),Re(kc,l),Oa=s|l.baseLanes}function bm(){Re(Wh,Oa),Re(kc,kc.current)}function mf(){Oa=Wh.current,Se(kc),Se(Wh)}var Zs=0,$t=null,On=null,Mi=null,Jh=!1,Ho=!1,br=!1,Oi=0,Ca=0,tr=null,rv=0;function hi(){throw Error(i(321))}function ur(s,l){if(l===null)return!1;for(var d=0;d<l.length&&d<s.length;d++)if(!Rr(s[d],l[d]))return!1;return!0}function eo(s,l,d,g,A,C){return Zs=C,$t=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,G.H=s===null||s.memoizedState===null?rd:Pm,br=!1,C=d(g,A),br=!1,Ho&&(C=sv(l,d,g,A)),av(s),C}function av(s){G.H=yf;var l=On!==null&&On.next!==null;if(Zs=0,Mi=On=$t=null,Jh=!1,Ca=0,tr=null,l)throw Error(i(300));s===null||Gi||(s=s.dependencies,s!==null&&of(s)&&(Gi=!0))}function sv(s,l,d,g){$t=s;var A=0;do{if(Ho&&(tr=null),Ca=0,Ho=!1,25<=A)throw Error(i(301));if(A+=1,Mi=On=null,s.updateQueue!=null){var C=s.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}G.H=Ov,C=l(d,g)}while(Ho);return C}function Mb(){var s=G.H,l=s.useState()[0];return l=typeof l.then=="function"?qa(l):l,s=s.useState()[0],(On!==null?On.memoizedState:null)!==s&&($t.flags|=1024),l}function Am(){var s=Oi!==0;return Oi=0,s}function Kh(s,l,d){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~d}function Sm(s){if(Jh){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Jh=!1}Zs=0,Mi=On=$t=null,Ho=!1,Ca=Oi=0,tr=null}function Ar(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mi===null?$t.memoizedState=Mi=s:Mi=Mi.next=s,Mi}function Ti(){if(On===null){var s=$t.alternate;s=s!==null?s.memoizedState:null}else s=On.next;var l=Mi===null?$t.memoizedState:Mi.next;if(l!==null)Mi=l,On=s;else{if(s===null)throw $t.alternate===null?Error(i(467)):Error(i(310));On=s,s={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},Mi===null?$t.memoizedState=Mi=s:Mi=Mi.next=s}return Mi}function Go(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qa(s){var l=Ca;return Ca+=1,tr===null&&(tr=[]),s=qh(tr,s,l),l=$t,(Mi===null?l.memoizedState:Mi.next)===null&&(l=l.alternate,G.H=l===null||l.memoizedState===null?rd:Pm),s}function $h(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return qa(s);if(s.$$typeof===B)return ai(s)}throw Error(i(438,String(s)))}function Em(s){var l=null,d=$t.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var g=$t.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(A){return A.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Go(),$t.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(s),g=0;g<s;g++)d[g]=L;return l.index++,d}function to(s,l){return typeof l=="function"?l(s):l}function Vo(s){var l=Ti();return Mm(l,On,s)}function Mm(s,l,d){var g=s.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=d;var A=s.baseQueue,C=g.pending;if(C!==null){if(A!==null){var z=A.next;A.next=C.next,C.next=z}l.baseQueue=A=C,g.pending=null}if(C=s.baseState,A===null)s.memoizedState=C;else{l=A.next;var X=z=null,ee=null,_e=l,Ie=!1;do{var ke=_e.lane&-536870913;if(ke!==_e.lane?(Dt&ke)===ke:(Zs&ke)===ke){var Ee=_e.revertLane;if(Ee===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),ke===Kt&&(Ie=!0);else if((Zs&Ee)===Ee){_e=_e.next,Ee===Kt&&(Ie=!0);continue}else ke={lane:0,revertLane:_e.revertLane,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},ee===null?(X=ee=ke,z=C):ee=ee.next=ke,$t.lanes|=Ee,es|=Ee;ke=_e.action,br&&d(C,ke),C=_e.hasEagerState?_e.eagerState:d(C,ke)}else Ee={lane:ke,revertLane:_e.revertLane,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},ee===null?(X=ee=Ee,z=C):ee=ee.next=Ee,$t.lanes|=ke,es|=ke;_e=_e.next}while(_e!==null&&_e!==l);if(ee===null?z=C:ee.next=X,!Rr(C,s.memoizedState)&&(Gi=!0,Ie&&(d=zc,d!==null)))throw d;s.memoizedState=C,s.baseState=z,s.baseQueue=ee,g.lastRenderedState=C}return A===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function Tm(s){var l=Ti(),d=l.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=s;var g=d.dispatch,A=d.pending,C=l.memoizedState;if(A!==null){d.pending=null;var z=A=A.next;do C=s(C,z.action),z=z.next;while(z!==A);Rr(C,l.memoizedState)||(Gi=!0),l.memoizedState=C,l.baseQueue===null&&(l.baseState=C),d.lastRenderedState=C}return[C,g]}function ov(s,l,d){var g=$t,A=Ti(),C=Sn;if(C){if(d===void 0)throw Error(i(407));d=d()}else d=l();var z=!Rr((On||A).memoizedState,d);z&&(A.memoizedState=d,Gi=!0),A=A.queue;var X=cv.bind(null,g,A,s);if(Yc(2048,8,X,[s]),A.getSnapshot!==l||z||Mi!==null&&Mi.memoizedState.tag&1){if(g.flags|=2048,Xc(9,gf(),lv.bind(null,g,A,d,l),null),Yt===null)throw Error(i(349));C||(Zs&124)!==0||jc(g,l,d)}return d}function jc(s,l,d){s.flags|=16384,s={getSnapshot:l,value:d},l=$t.updateQueue,l===null?(l=Go(),$t.updateQueue=l,l.stores=[s]):(d=l.stores,d===null?l.stores=[s]:d.push(s))}function lv(s,l,d,g){l.value=d,l.getSnapshot=g,uv(l)&&fv(s)}function cv(s,l,d){return d(function(){uv(l)&&fv(s)})}function uv(s){var l=s.getSnapshot;s=s.value;try{var d=l();return!Rr(s,d)}catch{return!0}}function fv(s){var l=qs(s,2);l!==null&&Mr(l,s,2)}function Cm(s){var l=Ar();if(typeof s=="function"){var d=s;if(s=d(),br){we(!0);try{d()}finally{we(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:to,lastRenderedState:s},l}function hv(s,l,d,g){return s.baseState=d,Mm(s,On,typeof g=="function"?g:to)}function Tb(s,l,d,g,A){if(id(s))throw Error(i(485));if(s=l.action,s!==null){var C={payload:A,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){C.listeners.push(z)}};G.T!==null?d(!0):C.isTransition=!1,g(C),d=l.pending,d===null?(C.next=l.pending=C,dv(l,C)):(C.next=d.next,l.pending=d.next=C)}}function dv(s,l){var d=l.action,g=l.payload,A=s.state;if(l.isTransition){var C=G.T,z={};G.T=z;try{var X=d(A,g),ee=G.S;ee!==null&&ee(z,X),pv(s,l,X)}catch(_e){wm(s,l,_e)}finally{G.T=C}}else try{C=d(A,g),pv(s,l,C)}catch(_e){wm(s,l,_e)}}function pv(s,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){mv(s,l,g)},function(g){return wm(s,l,g)}):mv(s,l,d)}function mv(s,l,d){l.status="fulfilled",l.value=d,gv(l),s.state=d,l=s.pending,l!==null&&(d=l.next,d===l?s.pending=null:(d=d.next,l.next=d,dv(s,d)))}function wm(s,l,d){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=d,gv(l),l=l.next;while(l!==g)}s.action=null}function gv(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function Rm(s,l){return l}function vv(s,l){if(Sn){var d=Yt.formState;if(d!==null){e:{var g=$t;if(Sn){if(ni){t:{for(var A=ni,C=Qr;A.nodeType!==8;){if(!C){A=null;break t}if(A=lo(A.nextSibling),A===null){A=null;break t}}C=A.data,A=C==="F!"||C==="F"?A:null}if(A){ni=lo(A.nextSibling),g=A.data==="F!";break e}}Io(g)}g=!1}g&&(l=d[0])}}return d=Ar(),d.memoizedState=d.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rm,lastRenderedState:l},d.queue=g,d=Bv.bind(null,$t,g),g.dispatch=d,g=Cm(!1),C=nd.bind(null,$t,!1,g.queue),g=Ar(),A={state:l,dispatch:null,action:s,pending:null},g.queue=A,d=Tb.bind(null,$t,A,C,d),A.dispatch=d,g.memoizedState=s,[l,d,!1]}function yv(s){var l=Ti();return xv(l,On,s)}function xv(s,l,d){if(l=Mm(s,l,Rm)[0],s=Vo(to)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=qa(l)}catch(z){throw z===hf?Ya:z}else g=l;l=Ti();var A=l.queue,C=A.dispatch;return d!==l.memoizedState&&($t.flags|=2048,Xc(9,gf(),Cb.bind(null,A,d),null)),[g,C,s]}function Cb(s,l){s.action=l}function _v(s){var l=Ti(),d=On;if(d!==null)return xv(l,d,s);Ti(),l=l.memoizedState,d=Ti();var g=d.queue.dispatch;return d.memoizedState=s,[l,g,!1]}function Xc(s,l,d,g){return s={tag:s,create:d,deps:g,inst:l,next:null},l=$t.updateQueue,l===null&&(l=Go(),$t.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=s.next=s:(g=d.next,d.next=s,s.next=g,l.lastEffect=s),s}function gf(){return{destroy:void 0,resource:void 0}}function Bm(){return Ti().memoizedState}function Qh(s,l,d,g){var A=Ar();g=g===void 0?null:g,$t.flags|=s,A.memoizedState=Xc(1|l,gf(),d,g)}function Yc(s,l,d,g){var A=Ti();g=g===void 0?null:g;var C=A.memoizedState.inst;On!==null&&g!==null&&ur(g,On.memoizedState.deps)?A.memoizedState=Xc(l,C,d,g):($t.flags|=s,A.memoizedState=Xc(1|l,C,d,g))}function Dm(s,l){Qh(8390656,8,s,l)}function Om(s,l){Yc(2048,8,s,l)}function Zh(s,l){return Yc(4,2,s,l)}function ed(s,l){return Yc(4,4,s,l)}function bv(s,l){if(typeof l=="function"){s=s();var d=l(s);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function Av(s,l,d){d=d!=null?d.concat([s]):null,Yc(4,4,bv.bind(null,l,s),d)}function Nm(){}function Sv(s,l){var d=Ti();l=l===void 0?null:l;var g=d.memoizedState;return l!==null&&ur(l,g[1])?g[0]:(d.memoizedState=[s,l],s)}function Um(s,l){var d=Ti();l=l===void 0?null:l;var g=d.memoizedState;if(l!==null&&ur(l,g[1]))return g[0];if(g=s(),br){we(!0);try{s()}finally{we(!1)}}return d.memoizedState=[g,l],g}function td(s,l,d){return d===void 0||(Zs&1073741824)!==0?s.memoizedState=l:(s.memoizedState=d,s=md(),$t.lanes|=s,es|=s,d)}function Ev(s,l,d,g){return Rr(d,l)?d:kc.current!==null?(s=td(s,d,g),Rr(s,l)||(Gi=!0),s):(Zs&42)===0?(Gi=!0,s.memoizedState=d):(s=md(),$t.lanes|=s,es|=s,l)}function Mv(s,l,d,g,A){var C=$.p;$.p=C!==0&&8>C?C:8;var z=G.T,X={};G.T=X,nd(s,!1,l,d);try{var ee=A(),_e=G.S;if(_e!==null&&_e(X,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var Ie=Eb(ee,g);vf(s,l,Ie,li(s))}else vf(s,l,g,li(s))}catch(ke){vf(s,l,{then:function(){},status:"rejected",reason:ke},li())}finally{$.p=C,G.T=z}}function wb(){}function Lm(s,l,d,g){if(s.tag!==5)throw Error(i(476));var A=Tv(s).queue;Mv(s,A,l,Q,d===null?wb:function(){return Cv(s),d(g)})}function Tv(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:to,lastRenderedState:Q},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:to,lastRenderedState:d},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function Cv(s){var l=Tv(s).next.queue;vf(s,l,{},li())}function Im(){return ai(Jm)}function wv(){return Ti().memoizedState}function Rv(){return Ti().memoizedState}function Rb(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var d=li();s=ds(d);var g=Qs(l,s,d);g!==null&&(Mr(g,l,d),Al(g,l,d)),l={cache:kh()},s.payload=l;return}l=l.return}}function Bb(s,l,d){var g=li();d={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},id(s)?Dv(l,d):(d=zh(s,l,d,g),d!==null&&(Mr(d,s,g),ea(d,l,g)))}function Bv(s,l,d){var g=li();vf(s,l,d,g)}function vf(s,l,d,g){var A={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(id(s))Dv(l,A);else{var C=s.alternate;if(s.lanes===0&&(C===null||C.lanes===0)&&(C=l.lastRenderedReducer,C!==null))try{var z=l.lastRenderedState,X=C(z,d);if(A.hasEagerState=!0,A.eagerState=X,Rr(X,z))return Oo(s,l,A,0),Yt===null&&tf(),!1}catch{}finally{}if(d=zh(s,l,A,g),d!==null)return Mr(d,s,g),ea(d,l,g),!0}return!1}function nd(s,l,d,g){if(g={lane:2,revertLane:Nb(),action:g,hasEagerState:!1,eagerState:null,next:null},id(s)){if(l)throw Error(i(479))}else l=zh(s,d,g,2),l!==null&&Mr(l,s,2)}function id(s){var l=s.alternate;return s===$t||l!==null&&l===$t}function Dv(s,l){Ho=Jh=!0;var d=s.pending;d===null?l.next=l:(l.next=d.next,d.next=l),s.pending=l}function ea(s,l,d){if((d&4194048)!==0){var g=l.lanes;g&=s.pendingLanes,d|=g,l.lanes=d,yt(s,d)}}var yf={readContext:ai,use:$h,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useLayoutEffect:hi,useInsertionEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useSyncExternalStore:hi,useId:hi,useHostTransitionStatus:hi,useFormState:hi,useActionState:hi,useOptimistic:hi,useMemoCache:hi,useCacheRefresh:hi},rd={readContext:ai,use:$h,useCallback:function(s,l){return Ar().memoizedState=[s,l===void 0?null:l],s},useContext:ai,useEffect:Dm,useImperativeHandle:function(s,l,d){d=d!=null?d.concat([s]):null,Qh(4194308,4,bv.bind(null,l,s),d)},useLayoutEffect:function(s,l){return Qh(4194308,4,s,l)},useInsertionEffect:function(s,l){Qh(4,2,s,l)},useMemo:function(s,l){var d=Ar();l=l===void 0?null:l;var g=s();if(br){we(!0);try{s()}finally{we(!1)}}return d.memoizedState=[g,l],g},useReducer:function(s,l,d){var g=Ar();if(d!==void 0){var A=d(l);if(br){we(!0);try{d(l)}finally{we(!1)}}}else A=l;return g.memoizedState=g.baseState=A,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:A},g.queue=s,s=s.dispatch=Bb.bind(null,$t,s),[g.memoizedState,s]},useRef:function(s){var l=Ar();return s={current:s},l.memoizedState=s},useState:function(s){s=Cm(s);var l=s.queue,d=Bv.bind(null,$t,l);return l.dispatch=d,[s.memoizedState,d]},useDebugValue:Nm,useDeferredValue:function(s,l){var d=Ar();return td(d,s,l)},useTransition:function(){var s=Cm(!1);return s=Mv.bind(null,$t,s.queue,!0,!1),Ar().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,d){var g=$t,A=Ar();if(Sn){if(d===void 0)throw Error(i(407));d=d()}else{if(d=l(),Yt===null)throw Error(i(349));(Dt&124)!==0||jc(g,l,d)}A.memoizedState=d;var C={value:d,getSnapshot:l};return A.queue=C,Dm(cv.bind(null,g,C,s),[s]),g.flags|=2048,Xc(9,gf(),lv.bind(null,g,C,d,l),null),d},useId:function(){var s=Ar(),l=Yt.identifierPrefix;if(Sn){var d=fs,g=us;d=(g&~(1<<32-at(g)-1)).toString(32)+d,l=""+l+"R"+d,d=Oi++,0<d&&(l+="H"+d.toString(32)),l+=""}else d=rv++,l=""+l+"r"+d.toString(32)+"";return s.memoizedState=l},useHostTransitionStatus:Im,useFormState:vv,useActionState:vv,useOptimistic:function(s){var l=Ar();l.memoizedState=l.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=nd.bind(null,$t,!0,d),d.dispatch=l,[s,l]},useMemoCache:Em,useCacheRefresh:function(){return Ar().memoizedState=Rb.bind(null,$t)}},Pm={readContext:ai,use:$h,useCallback:Sv,useContext:ai,useEffect:Om,useImperativeHandle:Av,useInsertionEffect:Zh,useLayoutEffect:ed,useMemo:Um,useReducer:Vo,useRef:Bm,useState:function(){return Vo(to)},useDebugValue:Nm,useDeferredValue:function(s,l){var d=Ti();return Ev(d,On.memoizedState,s,l)},useTransition:function(){var s=Vo(to)[0],l=Ti().memoizedState;return[typeof s=="boolean"?s:qa(s),l]},useSyncExternalStore:ov,useId:wv,useHostTransitionStatus:Im,useFormState:yv,useActionState:yv,useOptimistic:function(s,l){var d=Ti();return hv(d,On,s,l)},useMemoCache:Em,useCacheRefresh:Rv},Ov={readContext:ai,use:$h,useCallback:Sv,useContext:ai,useEffect:Om,useImperativeHandle:Av,useInsertionEffect:Zh,useLayoutEffect:ed,useMemo:Um,useReducer:Tm,useRef:Bm,useState:function(){return Tm(to)},useDebugValue:Nm,useDeferredValue:function(s,l){var d=Ti();return On===null?td(d,s,l):Ev(d,On.memoizedState,s,l)},useTransition:function(){var s=Tm(to)[0],l=Ti().memoizedState;return[typeof s=="boolean"?s:qa(s),l]},useSyncExternalStore:ov,useId:wv,useHostTransitionStatus:Im,useFormState:_v,useActionState:_v,useOptimistic:function(s,l){var d=Ti();return On!==null?hv(d,On,s,l):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:Em,useCacheRefresh:Rv},Sl=null,xf=0;function _f(s){var l=xf;return xf+=1,Sl===null&&(Sl=[]),qh(Sl,s,l)}function qc(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function ad(s,l){throw l.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(l),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function Nv(s){var l=s._init;return l(s._payload)}function Uv(s){function l(ge,oe){if(s){var xe=ge.deletions;xe===null?(ge.deletions=[oe],ge.flags|=16):xe.push(oe)}}function d(ge,oe){if(!s)return null;for(;oe!==null;)l(ge,oe),oe=oe.sibling;return null}function g(ge){for(var oe=new Map;ge!==null;)ge.key!==null?oe.set(ge.key,ge):oe.set(ge.index,ge),ge=ge.sibling;return oe}function A(ge,oe){return ge=fi(ge,oe),ge.index=0,ge.sibling=null,ge}function C(ge,oe,xe){return ge.index=xe,s?(xe=ge.alternate,xe!==null?(xe=xe.index,xe<oe?(ge.flags|=67108866,oe):xe):(ge.flags|=67108866,oe)):(ge.flags|=1048576,oe)}function z(ge){return s&&ge.alternate===null&&(ge.flags|=67108866),ge}function X(ge,oe,xe,ze){return oe===null||oe.tag!==6?(oe=rf(xe,ge.mode,ze),oe.return=ge,oe):(oe=A(oe,xe),oe.return=ge,oe)}function ee(ge,oe,xe,ze){var _t=xe.type;return _t===S?Ie(ge,oe,xe.props.children,ze,xe.key):oe!==null&&(oe.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===V&&Nv(_t)===oe.type)?(oe=A(oe,xe.props),qc(oe,xe),oe.return=ge,oe):(oe=Hi(xe.type,xe.key,xe.props,null,ge.mode,ze),qc(oe,xe),oe.return=ge,oe)}function _e(ge,oe,xe,ze){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==xe.containerInfo||oe.stateNode.implementation!==xe.implementation?(oe=Fh(xe,ge.mode,ze),oe.return=ge,oe):(oe=A(oe,xe.children||[]),oe.return=ge,oe)}function Ie(ge,oe,xe,ze,_t){return oe===null||oe.tag!==7?(oe=Uo(xe,ge.mode,ze,_t),oe.return=ge,oe):(oe=A(oe,xe),oe.return=ge,oe)}function ke(ge,oe,xe){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=rf(""+oe,ge.mode,xe),oe.return=ge,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case x:return xe=Hi(oe.type,oe.key,oe.props,null,ge.mode,xe),qc(xe,oe),xe.return=ge,xe;case _:return oe=Fh(oe,ge.mode,xe),oe.return=ge,oe;case V:var ze=oe._init;return oe=ze(oe._payload),ke(ge,oe,xe)}if(fe(oe)||ie(oe))return oe=Uo(oe,ge.mode,xe,null),oe.return=ge,oe;if(typeof oe.then=="function")return ke(ge,_f(oe),xe);if(oe.$$typeof===B)return ke(ge,lf(ge,oe),xe);ad(ge,oe)}return null}function Ee(ge,oe,xe,ze){var _t=oe!==null?oe.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return _t!==null?null:X(ge,oe,""+xe,ze);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case x:return xe.key===_t?ee(ge,oe,xe,ze):null;case _:return xe.key===_t?_e(ge,oe,xe,ze):null;case V:return _t=xe._init,xe=_t(xe._payload),Ee(ge,oe,xe,ze)}if(fe(xe)||ie(xe))return _t!==null?null:Ie(ge,oe,xe,ze,null);if(typeof xe.then=="function")return Ee(ge,oe,_f(xe),ze);if(xe.$$typeof===B)return Ee(ge,oe,lf(ge,xe),ze);ad(ge,xe)}return null}function Te(ge,oe,xe,ze,_t){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return ge=ge.get(xe)||null,X(oe,ge,""+ze,_t);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case x:return ge=ge.get(ze.key===null?xe:ze.key)||null,ee(oe,ge,ze,_t);case _:return ge=ge.get(ze.key===null?xe:ze.key)||null,_e(oe,ge,ze,_t);case V:var hn=ze._init;return ze=hn(ze._payload),Te(ge,oe,xe,ze,_t)}if(fe(ze)||ie(ze))return ge=ge.get(xe)||null,Ie(oe,ge,ze,_t,null);if(typeof ze.then=="function")return Te(ge,oe,xe,_f(ze),_t);if(ze.$$typeof===B)return Te(ge,oe,xe,lf(oe,ze),_t);ad(oe,ze)}return null}function Xt(ge,oe,xe,ze){for(var _t=null,hn=null,Bt=oe,Ht=oe=0,dr=null;Bt!==null&&Ht<xe.length;Ht++){Bt.index>Ht?(dr=Bt,Bt=null):dr=Bt.sibling;var Bn=Ee(ge,Bt,xe[Ht],ze);if(Bn===null){Bt===null&&(Bt=dr);break}s&&Bt&&Bn.alternate===null&&l(ge,Bt),oe=C(Bn,oe,Ht),hn===null?_t=Bn:hn.sibling=Bn,hn=Bn,Bt=dr}if(Ht===xe.length)return d(ge,Bt),Sn&&Ws(ge,Ht),_t;if(Bt===null){for(;Ht<xe.length;Ht++)Bt=ke(ge,xe[Ht],ze),Bt!==null&&(oe=C(Bt,oe,Ht),hn===null?_t=Bt:hn.sibling=Bt,hn=Bt);return Sn&&Ws(ge,Ht),_t}for(Bt=g(Bt);Ht<xe.length;Ht++)dr=Te(Bt,ge,Ht,xe[Ht],ze),dr!==null&&(s&&dr.alternate!==null&&Bt.delete(dr.key===null?Ht:dr.key),oe=C(dr,oe,Ht),hn===null?_t=dr:hn.sibling=dr,hn=dr);return s&&Bt.forEach(function(uu){return l(ge,uu)}),Sn&&Ws(ge,Ht),_t}function Ft(ge,oe,xe,ze){if(xe==null)throw Error(i(151));for(var _t=null,hn=null,Bt=oe,Ht=oe=0,dr=null,Bn=xe.next();Bt!==null&&!Bn.done;Ht++,Bn=xe.next()){Bt.index>Ht?(dr=Bt,Bt=null):dr=Bt.sibling;var uu=Ee(ge,Bt,Bn.value,ze);if(uu===null){Bt===null&&(Bt=dr);break}s&&Bt&&uu.alternate===null&&l(ge,Bt),oe=C(uu,oe,Ht),hn===null?_t=uu:hn.sibling=uu,hn=uu,Bt=dr}if(Bn.done)return d(ge,Bt),Sn&&Ws(ge,Ht),_t;if(Bt===null){for(;!Bn.done;Ht++,Bn=xe.next())Bn=ke(ge,Bn.value,ze),Bn!==null&&(oe=C(Bn,oe,Ht),hn===null?_t=Bn:hn.sibling=Bn,hn=Bn);return Sn&&Ws(ge,Ht),_t}for(Bt=g(Bt);!Bn.done;Ht++,Bn=xe.next())Bn=Te(Bt,ge,Ht,Bn.value,ze),Bn!==null&&(s&&Bn.alternate!==null&&Bt.delete(Bn.key===null?Ht:Bn.key),oe=C(Bn,oe,Ht),hn===null?_t=Bn:hn.sibling=Bn,hn=Bn);return s&&Bt.forEach(function(sU){return l(ge,sU)}),Sn&&Ws(ge,Ht),_t}function Xn(ge,oe,xe,ze){if(typeof xe=="object"&&xe!==null&&xe.type===S&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case x:e:{for(var _t=xe.key;oe!==null;){if(oe.key===_t){if(_t=xe.type,_t===S){if(oe.tag===7){d(ge,oe.sibling),ze=A(oe,xe.props.children),ze.return=ge,ge=ze;break e}}else if(oe.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===V&&Nv(_t)===oe.type){d(ge,oe.sibling),ze=A(oe,xe.props),qc(ze,xe),ze.return=ge,ge=ze;break e}d(ge,oe);break}else l(ge,oe);oe=oe.sibling}xe.type===S?(ze=Uo(xe.props.children,ge.mode,ze,xe.key),ze.return=ge,ge=ze):(ze=Hi(xe.type,xe.key,xe.props,null,ge.mode,ze),qc(ze,xe),ze.return=ge,ge=ze)}return z(ge);case _:e:{for(_t=xe.key;oe!==null;){if(oe.key===_t)if(oe.tag===4&&oe.stateNode.containerInfo===xe.containerInfo&&oe.stateNode.implementation===xe.implementation){d(ge,oe.sibling),ze=A(oe,xe.children||[]),ze.return=ge,ge=ze;break e}else{d(ge,oe);break}else l(ge,oe);oe=oe.sibling}ze=Fh(xe,ge.mode,ze),ze.return=ge,ge=ze}return z(ge);case V:return _t=xe._init,xe=_t(xe._payload),Xn(ge,oe,xe,ze)}if(fe(xe))return Xt(ge,oe,xe,ze);if(ie(xe)){if(_t=ie(xe),typeof _t!="function")throw Error(i(150));return xe=_t.call(xe),Ft(ge,oe,xe,ze)}if(typeof xe.then=="function")return Xn(ge,oe,_f(xe),ze);if(xe.$$typeof===B)return Xn(ge,oe,lf(ge,xe),ze);ad(ge,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint"?(xe=""+xe,oe!==null&&oe.tag===6?(d(ge,oe.sibling),ze=A(oe,xe),ze.return=ge,ge=ze):(d(ge,oe),ze=rf(xe,ge.mode,ze),ze.return=ge,ge=ze),z(ge)):d(ge,oe)}return function(ge,oe,xe,ze){try{xf=0;var _t=Xn(ge,oe,xe,ze);return Sl=null,_t}catch(Bt){if(Bt===hf||Bt===Ya)throw Bt;var hn=Or(29,Bt,null,ge.mode);return hn.lanes=ze,hn.return=ge,hn}finally{}}}var El=Uv(!0),Lv=Uv(!1),Ln=ae(null),Wa=null;function ko(s){var l=s.alternate;Re(di,di.current&1),Re(Ln,s),Wa===null&&(l===null||kc.current!==null||l.memoizedState!==null)&&(Wa=s)}function Iv(s){if(s.tag===22){if(Re(di,di.current),Re(Ln,s),Wa===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(Wa=s)}}else jo()}function jo(){Re(di,di.current),Re(Ln,Ln.current)}function ps(s){Se(Ln),Wa===s&&(Wa=null),Se(di)}var di=ae(0);function no(s){for(var l=s;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||Xb(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Xo(s,l,d,g){l=s.memoizedState,d=d(g,l),d=d==null?l:m({},l,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Sr={enqueueSetState:function(s,l,d){s=s._reactInternals;var g=li(),A=ds(g);A.payload=l,d!=null&&(A.callback=d),l=Qs(s,A,g),l!==null&&(Mr(l,s,g),Al(l,s,g))},enqueueReplaceState:function(s,l,d){s=s._reactInternals;var g=li(),A=ds(g);A.tag=1,A.payload=l,d!=null&&(A.callback=d),l=Qs(s,A,g),l!==null&&(Mr(l,s,g),Al(l,s,g))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var d=li(),g=ds(d);g.tag=2,l!=null&&(g.callback=l),l=Qs(s,g,d),l!==null&&(Mr(l,s,d),Al(l,s,d))}};function Pv(s,l,d,g,A,C,z){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,C,z):l.prototype&&l.prototype.isPureReactComponent?!ja(d,g)||!ja(A,C):!0}function zv(s,l,d,g){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==s&&Sr.enqueueReplaceState(l,l.state,null)}function ms(s,l){var d=l;if("ref"in l){d={};for(var g in l)g!=="ref"&&(d[g]=l[g])}if(s=s.defaultProps){d===l&&(d=m({},d));for(var A in s)d[A]===void 0&&(d[A]=s[A])}return d}var Ml=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function bf(s){Ml(s)}function sd(s){console.error(s)}function Fv(s){Ml(s)}function od(s,l){try{var d=s.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function wa(s,l,d){try{var g=s.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function ld(s,l,d){return d=ds(d),d.tag=3,d.payload={element:null},d.callback=function(){od(s,l)},d}function Hv(s){return s=ds(s),s.tag=3,s}function cd(s,l,d,g){var A=d.type.getDerivedStateFromError;if(typeof A=="function"){var C=g.value;s.payload=function(){return A(C)},s.callback=function(){wa(l,d,g)}}var z=d.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(s.callback=function(){wa(l,d,g),typeof A!="function"&&(la===null?la=new Set([this]):la.add(this));var X=g.stack;this.componentDidCatch(g.value,{componentStack:X!==null?X:""})})}function Db(s,l,d,g,A){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=d.alternate,l!==null&&Ea(l,d,A,!0),d=Ln.current,d!==null){switch(d.tag){case 13:return Wa===null?u():d.alternate===null&&Kn===0&&(Kn=3),d.flags&=-257,d.flags|=65536,d.lanes=A,g===df?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([g]):l.add(g),Ce(s,g,A)),!1;case 22:return d.flags|=65536,g===df?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([g]):d.add(g)),Ce(s,g,A)),!1}throw Error(i(435,d.tag))}return Ce(s,g,A),u(),!1}if(Sn)return l=Ln.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=A,g!==Gh&&(s=Error(i(422),{cause:g}),bl(Zi(s,d)))):(g!==Gh&&(l=Error(i(423),{cause:g}),bl(Zi(l,d))),s=s.current.alternate,s.flags|=65536,A&=-A,s.lanes|=A,g=Zi(g,d),A=ld(s.stateNode,g,A),Hc(s,A),Kn!==4&&(Kn=2)),!1;var C=Error(i(520),{cause:g});if(C=Zi(C,d),Rn===null?Rn=[C]:Rn.push(C),Kn!==4&&(Kn=2),l===null)return!0;g=Zi(g,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,s=A&-A,d.lanes|=s,s=ld(d.stateNode,g,s),Hc(d,s),!1;case 1:if(l=d.type,C=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(la===null||!la.has(C))))return d.flags|=65536,A&=-A,d.lanes|=A,A=Hv(A),cd(A,s,d,g),Hc(d,A),!1}d=d.return}while(d!==null);return!1}var Gv=Error(i(461)),Gi=!1;function pi(s,l,d,g){l.child=s===null?Lv(l,null,d,g):El(l,s.child,d,g)}function Ur(s,l,d,g,A){d=d.render;var C=l.ref;if("ref"in g){var z={};for(var X in g)X!=="ref"&&(z[X]=g[X])}else z=g;return hs(l),g=eo(s,l,d,z,C,A),X=Am(),s!==null&&!Gi?(Kh(s,l,A),Vi(s,l,A)):(Sn&&X&&fm(l),l.flags|=1,pi(s,l,g,A),l.child)}function Lr(s,l,d,g,A){if(s===null){var C=d.type;return typeof C=="function"&&!nf(C)&&C.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=C,zm(s,l,C,g,A)):(s=Hi(d.type,null,g,l,l.mode,A),s.ref=l.ref,s.return=l,l.child=s)}if(C=s.child,!Af(s,A)){var z=C.memoizedProps;if(d=d.compare,d=d!==null?d:ja,d(z,g)&&s.ref===l.ref)return Vi(s,l,A)}return l.flags|=1,s=fi(C,g),s.ref=l.ref,s.return=l,l.child=s}function zm(s,l,d,g,A){if(s!==null){var C=s.memoizedProps;if(ja(C,g)&&s.ref===l.ref)if(Gi=!1,l.pendingProps=g=C,Af(s,A))(s.flags&131072)!==0&&(Gi=!0);else return l.lanes=s.lanes,Vi(s,l,A)}return Wc(s,l,d,g,A)}function Tl(s,l,d){var g=l.pendingProps,A=g.children,C=s!==null?s.memoizedState:null;if(g.mode==="hidden"){if((l.flags&128)!==0){if(g=C!==null?C.baseLanes|d:d,s!==null){for(A=l.child=s.child,C=0;A!==null;)C=C|A.lanes|A.childLanes,A=A.sibling;l.childLanes=C&~g}else l.childLanes=0,l.child=null;return Cl(s,l,g,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&ff(l,C!==null?C.cachePool:null),C!==null?iv(l,C):bm(),Iv(l);else return l.lanes=l.childLanes=536870912,Cl(s,l,C!==null?C.baseLanes|d:d,d)}else C!==null?(ff(l,C.cachePool),iv(l,C),jo(),l.memoizedState=null):(s!==null&&ff(l,null),bm(),jo());return pi(s,l,A,d),l.child}function Cl(s,l,d,g){var A=Fo();return A=A===null?null:{parent:Ei._currentValue,pool:A},l.memoizedState={baseLanes:d,cachePool:A},s!==null&&ff(l,null),bm(),Iv(l),s!==null&&Ea(s,l,g,!0),null}function wl(s,l){var d=l.ref;if(d===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(s===null||s.ref!==d)&&(l.flags|=4194816)}}function Wc(s,l,d,g,A){return hs(l),d=eo(s,l,d,g,void 0,A),g=Am(),s!==null&&!Gi?(Kh(s,l,A),Vi(s,l,A)):(Sn&&g&&fm(l),l.flags|=1,pi(s,l,d,A),l.child)}function ta(s,l,d,g,A,C){return hs(l),l.updateQueue=null,d=sv(l,g,d,A),av(s),g=Am(),s!==null&&!Gi?(Kh(s,l,C),Vi(s,l,C)):(Sn&&g&&fm(l),l.flags|=1,pi(s,l,d,C),l.child)}function na(s,l,d,g,A){if(hs(l),l.stateNode===null){var C=No,z=d.contextType;typeof z=="object"&&z!==null&&(C=ai(z)),C=new d(g,C),l.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Sr,l.stateNode=C,C._reactInternals=l,C=l.stateNode,C.props=g,C.state=l.memoizedState,C.refs={},xm(l),z=d.contextType,C.context=typeof z=="object"&&z!==null?ai(z):No,C.state=l.memoizedState,z=d.getDerivedStateFromProps,typeof z=="function"&&(Xo(l,d,z,g),C.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(z=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),z!==C.state&&Sr.enqueueReplaceState(C,C.state,null),Gc(l,g,C,A),pf(),C.state=l.memoizedState),typeof C.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(s===null){C=l.stateNode;var X=l.memoizedProps,ee=ms(d,X);C.props=ee;var _e=C.context,Ie=d.contextType;z=No,typeof Ie=="object"&&Ie!==null&&(z=ai(Ie));var ke=d.getDerivedStateFromProps;Ie=typeof ke=="function"||typeof C.getSnapshotBeforeUpdate=="function",X=l.pendingProps!==X,Ie||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(X||_e!==z)&&zv(l,C,g,z),$s=!1;var Ee=l.memoizedState;C.state=Ee,Gc(l,g,C,A),pf(),_e=l.memoizedState,X||Ee!==_e||$s?(typeof ke=="function"&&(Xo(l,d,ke,g),_e=l.memoizedState),(ee=$s||Pv(l,d,ee,g,Ee,_e,z))?(Ie||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=_e),C.props=g,C.state=_e,C.context=z,g=ee):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{C=l.stateNode,Gt(s,l),z=l.memoizedProps,Ie=ms(d,z),C.props=Ie,ke=l.pendingProps,Ee=C.context,_e=d.contextType,ee=No,typeof _e=="object"&&_e!==null&&(ee=ai(_e)),X=d.getDerivedStateFromProps,(_e=typeof X=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(z!==ke||Ee!==ee)&&zv(l,C,g,ee),$s=!1,Ee=l.memoizedState,C.state=Ee,Gc(l,g,C,A),pf();var Te=l.memoizedState;z!==ke||Ee!==Te||$s||s!==null&&s.dependencies!==null&&of(s.dependencies)?(typeof X=="function"&&(Xo(l,d,X,g),Te=l.memoizedState),(Ie=$s||Pv(l,d,Ie,g,Ee,Te,ee)||s!==null&&s.dependencies!==null&&of(s.dependencies))?(_e||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,Te,ee),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,Te,ee)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||z===s.memoizedProps&&Ee===s.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&Ee===s.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Te),C.props=g,C.state=Te,C.context=ee,g=Ie):(typeof C.componentDidUpdate!="function"||z===s.memoizedProps&&Ee===s.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&Ee===s.memoizedState||(l.flags|=1024),g=!1)}return C=g,wl(s,l),g=(l.flags&128)!==0,C||g?(C=l.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:C.render(),l.flags|=1,s!==null&&g?(l.child=El(l,s.child,null,A),l.child=El(l,null,d,A)):pi(s,l,d,A),l.memoizedState=C.state,s=l.child):s=Vi(s,l,A),s}function Yo(s,l,d,g){return Lc(),l.flags|=256,pi(s,l,d,g),l.child}var Ja={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ka(s){return{baseLanes:s,cachePool:Xh()}}function Ni(s,l,d){return s=s!==null?s.childLanes&~d:0,l&&(s|=Na),s}function Jc(s,l,d){var g=l.pendingProps,A=!1,C=(l.flags&128)!==0,z;if((z=C)||(z=s!==null&&s.memoizedState===null?!1:(di.current&2)!==0),z&&(A=!0,l.flags&=-129),z=(l.flags&32)!==0,l.flags&=-33,s===null){if(Sn){if(A?ko(l):jo(),Sn){var X=ni,ee;if(ee=X){e:{for(ee=X,X=Qr;ee.nodeType!==8;){if(!X){X=null;break e}if(ee=lo(ee.nextSibling),ee===null){X=null;break e}}X=ee}X!==null?(l.memoizedState={dehydrated:X,treeContext:Lo!==null?{id:us,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},ee=Or(18,null,null,0),ee.stateNode=X,ee.return=l,l.child=ee,_r=l,ni=null,ee=!0):ee=!1}ee||Io(l)}if(X=l.memoizedState,X!==null&&(X=X.dehydrated,X!==null))return Xb(X)?l.lanes=32:l.lanes=536870912,null;ps(l)}return X=g.children,g=g.fallback,A?(jo(),A=l.mode,X=Rl({mode:"hidden",children:X},A),g=Uo(g,A,d,null),X.return=l,g.return=l,X.sibling=g,l.child=X,A=l.child,A.memoizedState=Ka(d),A.childLanes=Ni(s,z,d),l.memoizedState=Ja,g):(ko(l),gs(l,X))}if(ee=s.memoizedState,ee!==null&&(X=ee.dehydrated,X!==null)){if(C)l.flags&256?(ko(l),l.flags&=-257,l=nr(s,l,d)):l.memoizedState!==null?(jo(),l.child=s.child,l.flags|=128,l=null):(jo(),A=g.fallback,X=l.mode,g=Rl({mode:"visible",children:g.children},X),A=Uo(A,X,d,null),A.flags|=2,g.return=l,A.return=l,g.sibling=A,l.child=g,El(l,s.child,null,d),g=l.child,g.memoizedState=Ka(d),g.childLanes=Ni(s,z,d),l.memoizedState=Ja,l=A);else if(ko(l),Xb(X)){if(z=X.nextSibling&&X.nextSibling.dataset,z)var _e=z.dgst;z=_e,g=Error(i(419)),g.stack="",g.digest=z,bl({value:g,source:null,stack:null}),l=nr(s,l,d)}else if(Gi||Ea(s,l,d,!1),z=(d&s.childLanes)!==0,Gi||z){if(z=Yt,z!==null&&(g=d&-d,g=(g&42)!==0?1:Lt(g),g=(g&(z.suspendedLanes|d))!==0?0:g,g!==0&&g!==ee.retryLane))throw ee.retryLane=g,qs(s,g),Mr(z,s,g),Gv;X.data==="$?"||u(),l=nr(s,l,d)}else X.data==="$?"?(l.flags|=192,l.child=s.child,l=null):(s=ee.treeContext,ni=lo(X.nextSibling),_r=l,Sn=!0,Sa=null,Qr=!1,s!==null&&(er[$r++]=us,er[$r++]=fs,er[$r++]=Lo,us=s.id,fs=s.overflow,Lo=l),l=gs(l,g.children),l.flags|=4096);return l}return A?(jo(),A=g.fallback,X=l.mode,ee=s.child,_e=ee.sibling,g=fi(ee,{mode:"hidden",children:g.children}),g.subtreeFlags=ee.subtreeFlags&65011712,_e!==null?A=fi(_e,A):(A=Uo(A,X,d,null),A.flags|=2),A.return=l,g.return=l,g.sibling=A,l.child=g,g=A,A=l.child,X=s.child.memoizedState,X===null?X=Ka(d):(ee=X.cachePool,ee!==null?(_e=Ei._currentValue,ee=ee.parent!==_e?{parent:_e,pool:_e}:ee):ee=Xh(),X={baseLanes:X.baseLanes|d,cachePool:ee}),A.memoizedState=X,A.childLanes=Ni(s,z,d),l.memoizedState=Ja,g):(ko(l),d=s.child,s=d.sibling,d=fi(d,{mode:"visible",children:g.children}),d.return=l,d.sibling=null,s!==null&&(z=l.deletions,z===null?(l.deletions=[s],l.flags|=16):z.push(s)),l.child=d,l.memoizedState=null,d)}function gs(s,l){return l=Rl({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function Rl(s,l){return s=Or(22,s,null,l),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function nr(s,l,d){return El(l,s.child,null,d),s=gs(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function ir(s,l,d){s.lanes|=l;var g=s.alternate;g!==null&&(g.lanes|=l),mm(s.return,l,d)}function vn(s,l,d,g,A){var C=s.memoizedState;C===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:A}:(C.isBackwards=l,C.rendering=null,C.renderingStartTime=0,C.last=g,C.tail=d,C.tailMode=A)}function Ra(s,l,d){var g=l.pendingProps,A=g.revealOrder,C=g.tail;if(pi(s,l,g.children,d),g=di.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ir(s,d,l);else if(s.tag===19)ir(s,d,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}switch(Re(di,g),A){case"forwards":for(d=l.child,A=null;d!==null;)s=d.alternate,s!==null&&no(s)===null&&(A=d),d=d.sibling;d=A,d===null?(A=l.child,l.child=null):(A=d.sibling,d.sibling=null),vn(l,!1,A,d,C);break;case"backwards":for(d=null,A=l.child,l.child=null;A!==null;){if(s=A.alternate,s!==null&&no(s)===null){l.child=A;break}s=A.sibling,A.sibling=d,d=A,A=s}vn(l,!0,d,null,C);break;case"together":vn(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Vi(s,l,d){if(s!==null&&(l.dependencies=s.dependencies),es|=l.lanes,(d&l.childLanes)===0)if(s!==null){if(Ea(s,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(i(153));if(l.child!==null){for(s=l.child,d=fi(s,s.pendingProps),l.child=d,d.return=l;s.sibling!==null;)s=s.sibling,d=d.sibling=fi(s,s.pendingProps),d.return=l;d.sibling=null}return l.child}function Af(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&of(s)))}function Ba(s,l,d){switch(l.tag){case 3:We(l,l.stateNode.containerInfo),zo(l,Ei,s.memoizedState.cache),Lc();break;case 27:case 5:St(l);break;case 4:We(l,l.stateNode.containerInfo);break;case 10:zo(l,l.type,l.memoizedProps.value);break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(ko(l),l.flags|=128,null):(d&l.child.childLanes)!==0?Jc(s,l,d):(ko(l),s=Vi(s,l,d),s!==null?s.sibling:null);ko(l);break;case 19:var A=(s.flags&128)!==0;if(g=(d&l.childLanes)!==0,g||(Ea(s,l,d,!1),g=(d&l.childLanes)!==0),A){if(g)return Ra(s,l,d);l.flags|=128}if(A=l.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Re(di,di.current),g)break;return null;case 22:case 23:return l.lanes=0,Tl(s,l,d);case 24:zo(l,Ei,s.memoizedState.cache)}return Vi(s,l,d)}function Bl(s,l,d){if(s!==null)if(s.memoizedProps!==l.pendingProps)Gi=!0;else{if(!Af(s,d)&&(l.flags&128)===0)return Gi=!1,Ba(s,l,d);Gi=(s.flags&131072)!==0}else Gi=!1,Sn&&(l.flags&1048576)!==0&&Hh(l,Uc,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var g=l.elementType,A=g._init;if(g=A(g._payload),l.type=g,typeof g=="function")nf(g)?(s=ms(g,s),l.tag=1,l=na(null,l,g,s,d)):(l.tag=0,l=Wc(null,l,g,s,d));else{if(g!=null){if(A=g.$$typeof,A===D){l.tag=11,l=Ur(null,l,g,s,d);break e}else if(A===F){l.tag=14,l=Lr(null,l,g,s,d);break e}}throw l=ue(g)||g,Error(i(306,l,""))}}return l;case 0:return Wc(s,l,l.type,l.pendingProps,d);case 1:return g=l.type,A=ms(g,l.pendingProps),na(s,l,g,A,d);case 3:e:{if(We(l,l.stateNode.containerInfo),s===null)throw Error(i(387));g=l.pendingProps;var C=l.memoizedState;A=C.element,Gt(s,l),Gc(l,g,null,d);var z=l.memoizedState;if(g=z.cache,zo(l,Ei,g),g!==C.cache&&sf(l,[Ei],d,!0),pf(),g=z.element,C.isDehydrated)if(C={element:g,isDehydrated:!1,cache:z.cache},l.updateQueue.baseState=C,l.memoizedState=C,l.flags&256){l=Yo(s,l,g,d);break e}else if(g!==A){A=Zi(Error(i(424)),l),bl(A),l=Yo(s,l,g,d);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ni=lo(s.firstChild),_r=l,Sn=!0,Sa=null,Qr=!0,d=Lv(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Lc(),g===A){l=Vi(s,l,d);break e}pi(s,l,g,d)}l=l.child}return l;case 26:return wl(s,l),s===null?(d=HM(l.type,null,l.pendingProps,null))?l.memoizedState=d:Sn||(d=l.type,s=l.pendingProps,g=qv(Be.current).createElement(d),g[Ai]=l,g[Qn]=s,Tr(g,d,s),Si(g),l.stateNode=g):l.memoizedState=HM(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return St(l),s===null&&Sn&&(g=l.stateNode=PM(l.type,l.pendingProps,Be.current),_r=l,Qr=!0,A=ni,au(l.type)?(Yb=A,ni=lo(g.firstChild)):ni=A),pi(s,l,l.pendingProps.children,d),wl(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&Sn&&((A=g=ni)&&(g=LN(g,l.type,l.pendingProps,Qr),g!==null?(l.stateNode=g,_r=l,ni=lo(g.firstChild),Qr=!1,A=!0):A=!1),A||Io(l)),St(l),A=l.type,C=l.pendingProps,z=s!==null?s.memoizedProps:null,g=C.children,Vb(A,C)?g=null:z!==null&&Vb(A,z)&&(l.flags|=32),l.memoizedState!==null&&(A=eo(s,l,Mb,null,null,d),Jm._currentValue=A),wl(s,l),pi(s,l,g,d),l.child;case 6:return s===null&&Sn&&((s=d=ni)&&(d=IN(d,l.pendingProps,Qr),d!==null?(l.stateNode=d,_r=l,ni=null,s=!0):s=!1),s||Io(l)),null;case 13:return Jc(s,l,d);case 4:return We(l,l.stateNode.containerInfo),g=l.pendingProps,s===null?l.child=El(l,null,g,d):pi(s,l,g,d),l.child;case 11:return Ur(s,l,l.type,l.pendingProps,d);case 7:return pi(s,l,l.pendingProps,d),l.child;case 8:return pi(s,l,l.pendingProps.children,d),l.child;case 12:return pi(s,l,l.pendingProps.children,d),l.child;case 10:return g=l.pendingProps,zo(l,l.type,g.value),pi(s,l,g.children,d),l.child;case 9:return A=l.type._context,g=l.pendingProps.children,hs(l),A=ai(A),g=g(A),l.flags|=1,pi(s,l,g,d),l.child;case 14:return Lr(s,l,l.type,l.pendingProps,d);case 15:return zm(s,l,l.type,l.pendingProps,d);case 19:return Ra(s,l,d);case 31:return g=l.pendingProps,d=l.mode,g={mode:g.mode,children:g.children},s===null?(d=Rl(g,d),d.ref=l.ref,l.child=d,d.return=l,l=d):(d=fi(s.child,g),d.ref=l.ref,l.child=d,d.return=l,l=d),l;case 22:return Tl(s,l,d);case 24:return hs(l),g=ai(Ei),s===null?(A=Fo(),A===null&&(A=Yt,C=kh(),A.pooledCache=C,C.refCount++,C!==null&&(A.pooledCacheLanes|=d),A=C),l.memoizedState={parent:g,cache:A},xm(l),zo(l,Ei,A)):((s.lanes&d)!==0&&(Gt(s,l),Gc(l,null,null,d),pf()),A=s.memoizedState,C=l.memoizedState,A.parent!==g?(A={parent:g,cache:g},l.memoizedState=A,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=A),zo(l,Ei,g)):(g=C.cache,zo(l,Ei,g),g!==A.cache&&sf(l,[Ei],d,!0))),pi(s,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function $a(s){s.flags|=4}function Sf(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!XM(l)){if(l=Ln.current,l!==null&&((Dt&4194048)===Dt?Wa!==null:(Dt&62914560)!==Dt&&(Dt&536870912)===0||l!==Wa))throw Ta=df,vm;s.flags|=8192}}function io(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Ke():536870912,s.lanes|=l,_n|=l)}function Dl(s,l){if(!Sn)switch(s.tailMode){case"hidden":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Gn(s){var l=s.alternate!==null&&s.alternate.child===s.child,d=0,g=0;if(l)for(var A=s.child;A!==null;)d|=A.lanes|A.childLanes,g|=A.subtreeFlags&65011712,g|=A.flags&65011712,A.return=s,A=A.sibling;else for(A=s.child;A!==null;)d|=A.lanes|A.childLanes,g|=A.subtreeFlags,g|=A.flags,A.return=s,A=A.sibling;return s.subtreeFlags|=g,s.childLanes=d,l}function Fm(s,l,d){var g=l.pendingProps;switch(hm(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(l),null;case 1:return Gn(l),null;case 3:return d=l.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),Ks(Ei),st(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Xa(l)?$a(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Cn())),Gn(l),null;case 26:return d=l.memoizedState,s===null?($a(l),d!==null?(Gn(l),Sf(l,d)):(Gn(l),l.flags&=-16777217)):d?d!==s.memoizedState?($a(l),Gn(l),Sf(l,d)):(Gn(l),l.flags&=-16777217):(s.memoizedProps!==g&&$a(l),Gn(l),l.flags&=-16777217),null;case 27:ln(l),d=Be.current;var A=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==g&&$a(l);else{if(!g){if(l.stateNode===null)throw Error(i(166));return Gn(l),null}s=Ue.current,Xa(l)?Z0(l):(s=PM(A,g,d),l.stateNode=s,$a(l))}return Gn(l),null;case 5:if(ln(l),d=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==g&&$a(l);else{if(!g){if(l.stateNode===null)throw Error(i(166));return Gn(l),null}if(s=Ue.current,Xa(l))Z0(l);else{switch(A=qv(Be.current),s){case 1:s=A.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:s=A.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":s=A.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":s=A.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":s=A.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof g.is=="string"?A.createElement("select",{is:g.is}):A.createElement("select"),g.multiple?s.multiple=!0:g.size&&(s.size=g.size);break;default:s=typeof g.is=="string"?A.createElement(d,{is:g.is}):A.createElement(d)}}s[Ai]=l,s[Qn]=g;e:for(A=l.child;A!==null;){if(A.tag===5||A.tag===6)s.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===l)break e;for(;A.sibling===null;){if(A.return===null||A.return===l)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}l.stateNode=s;e:switch(Tr(s,d,g),d){case"button":case"input":case"select":case"textarea":s=!!g.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&$a(l)}}return Gn(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==g&&$a(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(i(166));if(s=Be.current,Xa(l)){if(s=l.stateNode,d=l.memoizedProps,g=null,A=_r,A!==null)switch(A.tag){case 27:case 5:g=A.memoizedProps}s[Ai]=l,s=!!(s.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||BM(s.nodeValue,d)),s||Io(l)}else s=qv(s).createTextNode(g),s[Ai]=l,l.stateNode=s}return Gn(l),null;case 13:if(g=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(A=Xa(l),g!==null&&g.dehydrated!==null){if(s===null){if(!A)throw Error(i(318));if(A=l.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));A[Ai]=l}else Lc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Gn(l),A=!1}else A=Cn(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=A),A=!0;if(!A)return l.flags&256?(ps(l),l):(ps(l),null)}if(ps(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=g!==null,s=s!==null&&s.memoizedState!==null,d){g=l.child,A=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(A=g.alternate.memoizedState.cachePool.pool);var C=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(C=g.memoizedState.cachePool.pool),C!==A&&(g.flags|=2048)}return d!==s&&d&&(l.child.flags|=8192),io(l,l.updateQueue),Gn(l),null;case 4:return st(),s===null&&Pb(l.stateNode.containerInfo),Gn(l),null;case 10:return Ks(l.type),Gn(l),null;case 19:if(Se(di),A=l.memoizedState,A===null)return Gn(l),null;if(g=(l.flags&128)!==0,C=A.rendering,C===null)if(g)Dl(A,!1);else{if(Kn!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(C=no(s),C!==null){for(l.flags|=128,Dl(A,!1),s=C.updateQueue,l.updateQueue=s,io(l,s),l.subtreeFlags=0,s=d,d=l.child;d!==null;)um(d,s),d=d.sibling;return Re(di,di.current&1|2),l.child}s=s.sibling}A.tail!==null&&De()>fr&&(l.flags|=128,g=!0,Dl(A,!1),l.lanes=4194304)}else{if(!g)if(s=no(C),s!==null){if(l.flags|=128,g=!0,s=s.updateQueue,l.updateQueue=s,io(l,s),Dl(A,!0),A.tail===null&&A.tailMode==="hidden"&&!C.alternate&&!Sn)return Gn(l),null}else 2*De()-A.renderingStartTime>fr&&d!==536870912&&(l.flags|=128,g=!0,Dl(A,!1),l.lanes=4194304);A.isBackwards?(C.sibling=l.child,l.child=C):(s=A.last,s!==null?s.sibling=C:l.child=C,A.last=C)}return A.tail!==null?(l=A.tail,A.rendering=l,A.tail=l.sibling,A.renderingStartTime=De(),l.sibling=null,s=di.current,Re(di,g?s&1|2:s&1),l):(Gn(l),null);case 22:case 23:return ps(l),mf(),g=l.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(d&536870912)!==0&&(l.flags&128)===0&&(Gn(l),l.subtreeFlags&6&&(l.flags|=8192)):Gn(l),d=l.updateQueue,d!==null&&io(l,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==d&&(l.flags|=2048),s!==null&&Se(Ma),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Ks(Ei),Gn(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function Kc(s,l){switch(hm(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Ks(Ei),st(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return ln(l),null;case 13:if(ps(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(i(340));Lc()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return Se(di),null;case 4:return st(),null;case 10:return Ks(l.type),null;case 22:case 23:return ps(l),mf(),s!==null&&Se(Ma),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Ks(Ei),null;case 25:return null;default:return null}}function $c(s,l){switch(hm(l),l.tag){case 3:Ks(Ei),st();break;case 26:case 27:case 5:ln(l);break;case 4:st();break;case 13:ps(l);break;case 19:Se(di);break;case 10:Ks(l.type);break;case 22:case 23:ps(l),mf(),s!==null&&Se(Ma);break;case 24:Ks(Ei)}}function Ol(s,l){try{var d=l.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var A=g.next;d=A;do{if((d.tag&s)===s){g=void 0;var C=d.create,z=d.inst;g=C(),z.destroy=g}d=d.next}while(d!==A)}}catch(X){se(l,l.return,X)}}function ia(s,l,d){try{var g=l.updateQueue,A=g!==null?g.lastEffect:null;if(A!==null){var C=A.next;g=C;do{if((g.tag&s)===s){var z=g.inst,X=z.destroy;if(X!==void 0){z.destroy=void 0,A=l;var ee=d,_e=X;try{_e()}catch(Ie){se(A,ee,Ie)}}}g=g.next}while(g!==C)}}catch(Ie){se(l,l.return,Ie)}}function Nl(s){var l=s.updateQueue;if(l!==null){var d=s.stateNode;try{nv(l,d)}catch(g){se(s,s.return,g)}}}function ro(s,l,d){d.props=ms(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(g){se(s,l,g)}}function Ul(s,l){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof d=="function"?s.refCleanup=d(g):d.current=g}}catch(A){se(s,l,A)}}function vs(s,l){var d=s.ref,g=s.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(A){se(s,l,A)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(A){se(s,l,A)}else d.current=null}function Qc(s){var l=s.type,d=s.memoizedProps,g=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(A){se(s,s.return,A)}}function Ef(s,l,d){try{var g=s.stateNode;BN(g,s.type,d,l),g[Qn]=l}catch(A){se(s,s.return,A)}}function Mf(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&au(s.type)||s.tag===4}function qo(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Mf(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&au(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Wo(s,l,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(s),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Yv));else if(g!==4&&(g===27&&au(s.type)&&(d=s.stateNode,l=null),s=s.child,s!==null))for(Wo(s,l,d),s=s.sibling;s!==null;)Wo(s,l,d),s=s.sibling}function Jo(s,l,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?d.insertBefore(s,l):d.appendChild(s);else if(g!==4&&(g===27&&au(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(Jo(s,l,d),s=s.sibling;s!==null;)Jo(s,l,d),s=s.sibling}function Ko(s){var l=s.stateNode,d=s.memoizedProps;try{for(var g=s.type,A=l.attributes;A.length;)l.removeAttributeNode(A[0]);Tr(l,g,d),l[Ai]=s,l[Qn]=d}catch(C){se(s,s.return,C)}}var ys=!1,Vn=!1,Zc=!1,ra=typeof WeakSet=="function"?WeakSet:Set,In=null;function Ui(s,l){if(s=s.containerInfo,Hb=Zv,s=im(s),Qu(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var A=g.anchorOffset,C=g.focusNode;g=g.focusOffset;try{d.nodeType,C.nodeType}catch{d=null;break e}var z=0,X=-1,ee=-1,_e=0,Ie=0,ke=s,Ee=null;t:for(;;){for(var Te;ke!==d||A!==0&&ke.nodeType!==3||(X=z+A),ke!==C||g!==0&&ke.nodeType!==3||(ee=z+g),ke.nodeType===3&&(z+=ke.nodeValue.length),(Te=ke.firstChild)!==null;)Ee=ke,ke=Te;for(;;){if(ke===s)break t;if(Ee===d&&++_e===A&&(X=z),Ee===C&&++Ie===g&&(ee=z),(Te=ke.nextSibling)!==null)break;ke=Ee,Ee=ke.parentNode}ke=Te}d=X===-1||ee===-1?null:{start:X,end:ee}}else d=null}d=d||{start:0,end:0}}else d=null;for(Gb={focusedElem:s,selectionRange:d},Zv=!1,In=l;In!==null;)if(l=In,s=l.child,(l.subtreeFlags&1024)!==0&&s!==null)s.return=l,In=s;else for(;In!==null;){switch(l=In,C=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&C!==null){s=void 0,d=l,A=C.memoizedProps,C=C.memoizedState,g=d.stateNode;try{var Xt=ms(d.type,A,d.elementType===d.type);s=g.getSnapshotBeforeUpdate(Xt,C),g.__reactInternalSnapshotBeforeUpdate=s}catch(Ft){se(d,d.return,Ft)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,d=s.nodeType,d===9)jb(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":jb(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=l.sibling,s!==null){s.return=l.return,In=s;break}In=l.return}}function ao(s,l,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:Er(s,d),g&4&&Ol(5,d);break;case 1:if(Er(s,d),g&4)if(s=d.stateNode,l===null)try{s.componentDidMount()}catch(z){se(d,d.return,z)}else{var A=ms(d.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(A,l,s.__reactInternalSnapshotBeforeUpdate)}catch(z){se(d,d.return,z)}}g&64&&Nl(d),g&512&&Ul(d,d.return);break;case 3:if(Er(s,d),g&64&&(s=d.updateQueue,s!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{nv(s,l)}catch(z){se(d,d.return,z)}}break;case 27:l===null&&g&4&&Ko(d);case 26:case 5:Er(s,d),l===null&&g&4&&Qc(d),g&512&&Ul(d,d.return);break;case 12:Er(s,d);break;case 13:Er(s,d),g&4&&$o(s,d),g&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=$n.bind(null,d),PN(s,d))));break;case 22:if(g=d.memoizedState!==null||ys,!g){l=l!==null&&l.memoizedState!==null||Vn,A=ys;var C=Vn;ys=g,(Vn=l)&&!C?xs(s,d,(d.subtreeFlags&8772)!==0):Er(s,d),ys=A,Vn=C}break;case 30:break;default:Er(s,d)}}function nn(s){var l=s.alternate;l!==null&&(s.alternate=null,nn(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Hn(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ut=null,xn=!1;function Da(s,l,d){for(d=d.child;d!==null;)Ll(s,l,d),d=d.sibling}function Ll(s,l,d){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(be,d)}catch{}switch(d.tag){case 26:Vn||vs(d,l),Da(s,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Vn||vs(d,l);var g=Ut,A=xn;au(d.type)&&(Ut=d.stateNode,xn=!1),Da(s,l,d),Xm(d.stateNode),Ut=g,xn=A;break;case 5:Vn||vs(d,l);case 6:if(g=Ut,A=xn,Ut=null,Da(s,l,d),Ut=g,xn=A,Ut!==null)if(xn)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(d.stateNode)}catch(C){se(d,l,C)}else try{Ut.removeChild(d.stateNode)}catch(C){se(d,l,C)}break;case 18:Ut!==null&&(xn?(s=Ut,LM(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),Zm(s)):LM(Ut,d.stateNode));break;case 4:g=Ut,A=xn,Ut=d.stateNode.containerInfo,xn=!0,Da(s,l,d),Ut=g,xn=A;break;case 0:case 11:case 14:case 15:Vn||ia(2,d,l),Vn||ia(4,d,l),Da(s,l,d);break;case 1:Vn||(vs(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"&&ro(d,l,g)),Da(s,l,d);break;case 21:Da(s,l,d);break;case 22:Vn=(g=Vn)||d.memoizedState!==null,Da(s,l,d),Vn=g;break;default:Da(s,l,d)}}function $o(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Zm(s)}catch(d){se(l,l.return,d)}}function ud(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new ra),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new ra),l;default:throw Error(i(435,s.tag))}}function Il(s,l){var d=ud(s);l.forEach(function(g){var A=Vt.bind(null,s,g);d.has(g)||(d.add(g),g.then(A,A))})}function ki(s,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var A=d[g],C=s,z=l,X=z;e:for(;X!==null;){switch(X.tag){case 27:if(au(X.type)){Ut=X.stateNode,xn=!1;break e}break;case 5:Ut=X.stateNode,xn=!1;break e;case 3:case 4:Ut=X.stateNode.containerInfo,xn=!0;break e}X=X.return}if(Ut===null)throw Error(i(160));Ll(C,z,A),Ut=null,xn=!1,C=A.alternate,C!==null&&(C.return=null),A.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)fd(l,s),l=l.sibling}var Qa=null;function fd(s,l){var d=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ki(l,s),si(s),g&4&&(ia(3,s,s.return),Ol(3,s),ia(5,s,s.return));break;case 1:ki(l,s),si(s),g&512&&(Vn||d===null||vs(d,d.return)),g&64&&ys&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var A=Qa;if(ki(l,s),si(s),g&512&&(Vn||d===null||vs(d,d.return)),g&4){var C=d!==null?d.memoizedState:null;if(g=s.memoizedState,d===null)if(g===null)if(s.stateNode===null){e:{g=s.type,d=s.memoizedProps,A=A.ownerDocument||A;t:switch(g){case"title":C=A.getElementsByTagName("title")[0],(!C||C[Kr]||C[Ai]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=A.createElement(g),A.head.insertBefore(C,A.querySelector("head > title"))),Tr(C,g,d),C[Ai]=s,Si(C),g=C;break e;case"link":var z=kM("link","href",A).get(g+(d.href||""));if(z){for(var X=0;X<z.length;X++)if(C=z[X],C.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&C.getAttribute("rel")===(d.rel==null?null:d.rel)&&C.getAttribute("title")===(d.title==null?null:d.title)&&C.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){z.splice(X,1);break t}}C=A.createElement(g),Tr(C,g,d),A.head.appendChild(C);break;case"meta":if(z=kM("meta","content",A).get(g+(d.content||""))){for(X=0;X<z.length;X++)if(C=z[X],C.getAttribute("content")===(d.content==null?null:""+d.content)&&C.getAttribute("name")===(d.name==null?null:d.name)&&C.getAttribute("property")===(d.property==null?null:d.property)&&C.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&C.getAttribute("charset")===(d.charSet==null?null:d.charSet)){z.splice(X,1);break t}}C=A.createElement(g),Tr(C,g,d),A.head.appendChild(C);break;default:throw Error(i(468,g))}C[Ai]=s,Si(C),g=C}s.stateNode=g}else jM(A,s.type,s.stateNode);else s.stateNode=VM(A,g,s.memoizedProps);else C!==g?(C===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):C.count--,g===null?jM(A,s.type,s.stateNode):VM(A,g,s.memoizedProps)):g===null&&s.stateNode!==null&&Ef(s,s.memoizedProps,d.memoizedProps)}break;case 27:ki(l,s),si(s),g&512&&(Vn||d===null||vs(d,d.return)),d!==null&&g&4&&Ef(s,s.memoizedProps,d.memoizedProps);break;case 5:if(ki(l,s),si(s),g&512&&(Vn||d===null||vs(d,d.return)),s.flags&32){A=s.stateNode;try{Di(A,"")}catch(Te){se(s,s.return,Te)}}g&4&&s.stateNode!=null&&(A=s.memoizedProps,Ef(s,A,d!==null?d.memoizedProps:A)),g&1024&&(Zc=!0);break;case 6:if(ki(l,s),si(s),g&4){if(s.stateNode===null)throw Error(i(162));g=s.memoizedProps,d=s.stateNode;try{d.nodeValue=g}catch(Te){se(s,s.return,Te)}}break;case 3:if(Kv=null,A=Qa,Qa=Wv(l.containerInfo),ki(l,s),Qa=A,si(s),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Zm(l.containerInfo)}catch(Te){se(s,s.return,Te)}Zc&&(Zc=!1,Qo(s));break;case 4:g=Qa,Qa=Wv(s.stateNode.containerInfo),ki(l,s),si(s),Qa=g;break;case 12:ki(l,s),si(s);break;case 13:ki(l,s),si(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Un=De()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Il(s,g)));break;case 22:A=s.memoizedState!==null;var ee=d!==null&&d.memoizedState!==null,_e=ys,Ie=Vn;if(ys=_e||A,Vn=Ie||ee,ki(l,s),Vn=Ie,ys=_e,si(s),g&8192)e:for(l=s.stateNode,l._visibility=A?l._visibility&-2:l._visibility|1,A&&(d===null||ee||ys||Vn||aa(s)),d=null,l=s;;){if(l.tag===5||l.tag===26){if(d===null){ee=d=l;try{if(C=ee.stateNode,A)z=C.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{X=ee.stateNode;var ke=ee.memoizedProps.style,Ee=ke!=null&&ke.hasOwnProperty("display")?ke.display:null;X.style.display=Ee==null||typeof Ee=="boolean"?"":(""+Ee).trim()}}catch(Te){se(ee,ee.return,Te)}}}else if(l.tag===6){if(d===null){ee=l;try{ee.stateNode.nodeValue=A?"":ee.memoizedProps}catch(Te){se(ee,ee.return,Te)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=s.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Il(s,d))));break;case 19:ki(l,s),si(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Il(s,g)));break;case 30:break;case 21:break;default:ki(l,s),si(s)}}function si(s){var l=s.flags;if(l&2){try{for(var d,g=s.return;g!==null;){if(Mf(g)){d=g;break}g=g.return}if(d==null)throw Error(i(160));switch(d.tag){case 27:var A=d.stateNode,C=qo(s);Jo(s,C,A);break;case 5:var z=d.stateNode;d.flags&32&&(Di(z,""),d.flags&=-33);var X=qo(s);Jo(s,X,z);break;case 3:case 4:var ee=d.stateNode.containerInfo,_e=qo(s);Wo(s,_e,ee);break;default:throw Error(i(161))}}catch(Ie){se(s,s.return,Ie)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function Qo(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;Qo(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Er(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)ao(s,l.alternate,l),l=l.sibling}function aa(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:ia(4,l,l.return),aa(l);break;case 1:vs(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&ro(l,l.return,d),aa(l);break;case 27:Xm(l.stateNode);case 26:case 5:vs(l,l.return),aa(l);break;case 22:l.memoizedState===null&&aa(l);break;case 30:aa(l);break;default:aa(l)}s=s.sibling}}function xs(s,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,A=s,C=l,z=C.flags;switch(C.tag){case 0:case 11:case 15:xs(A,C,d),Ol(4,C);break;case 1:if(xs(A,C,d),g=C,A=g.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(_e){se(g,g.return,_e)}if(g=C,A=g.updateQueue,A!==null){var X=g.stateNode;try{var ee=A.shared.hiddenCallbacks;if(ee!==null)for(A.shared.hiddenCallbacks=null,A=0;A<ee.length;A++)Vc(ee[A],X)}catch(_e){se(g,g.return,_e)}}d&&z&64&&Nl(C),Ul(C,C.return);break;case 27:Ko(C);case 26:case 5:xs(A,C,d),d&&g===null&&z&4&&Qc(C),Ul(C,C.return);break;case 12:xs(A,C,d);break;case 13:xs(A,C,d),d&&z&4&&$o(A,C);break;case 22:C.memoizedState===null&&xs(A,C,d),Ul(C,C.return);break;case 30:break;default:xs(A,C,d)}l=l.sibling}}function hd(s,l){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&Ic(d))}function dd(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Ic(s))}function Pn(s,l,d,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)pd(s,l,d,g),l=l.sibling}function pd(s,l,d,g){var A=l.flags;switch(l.tag){case 0:case 11:case 15:Pn(s,l,d,g),A&2048&&Ol(9,l);break;case 1:Pn(s,l,d,g);break;case 3:Pn(s,l,d,g),A&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Ic(s)));break;case 12:if(A&2048){Pn(s,l,d,g),s=l.stateNode;try{var C=l.memoizedProps,z=C.id,X=C.onPostCommit;typeof X=="function"&&X(z,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ee){se(l,l.return,ee)}}else Pn(s,l,d,g);break;case 13:Pn(s,l,d,g);break;case 23:break;case 22:C=l.stateNode,z=l.alternate,l.memoizedState!==null?C._visibility&2?Pn(s,l,d,g):Za(s,l):C._visibility&2?Pn(s,l,d,g):(C._visibility|=2,so(s,l,d,g,(l.subtreeFlags&10256)!==0)),A&2048&&hd(z,l);break;case 24:Pn(s,l,d,g),A&2048&&dd(l.alternate,l);break;default:Pn(s,l,d,g)}}function so(s,l,d,g,A){for(A=A&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var C=s,z=l,X=d,ee=g,_e=z.flags;switch(z.tag){case 0:case 11:case 15:so(C,z,X,ee,A),Ol(8,z);break;case 23:break;case 22:var Ie=z.stateNode;z.memoizedState!==null?Ie._visibility&2?so(C,z,X,ee,A):Za(C,z):(Ie._visibility|=2,so(C,z,X,ee,A)),A&&_e&2048&&hd(z.alternate,z);break;case 24:so(C,z,X,ee,A),A&&_e&2048&&dd(z.alternate,z);break;default:so(C,z,X,ee,A)}l=l.sibling}}function Za(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=s,g=l,A=g.flags;switch(g.tag){case 22:Za(d,g),A&2048&&hd(g.alternate,g);break;case 24:Za(d,g),A&2048&&dd(g.alternate,g);break;default:Za(d,g)}l=l.sibling}}var sa=8192;function eu(s){if(s.subtreeFlags&sa)for(s=s.child;s!==null;)Vv(s),s=s.sibling}function Vv(s){switch(s.tag){case 26:eu(s),s.flags&sa&&s.memoizedState!==null&&KN(Qa,s.memoizedState,s.memoizedProps);break;case 5:eu(s);break;case 3:case 4:var l=Qa;Qa=Wv(s.stateNode.containerInfo),eu(s),Qa=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=sa,sa=16777216,eu(s),sa=l):eu(s));break;default:eu(s)}}function kv(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function kn(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];In=g,bs(g,s)}kv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Hm(s),s=s.sibling}function Hm(s){switch(s.tag){case 0:case 11:case 15:kn(s),s.flags&2048&&ia(9,s,s.return);break;case 3:kn(s);break;case 12:kn(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,_s(s)):kn(s);break;default:kn(s)}}function _s(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];In=g,bs(g,s)}kv(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:ia(8,l,l.return),_s(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,_s(l));break;default:_s(l)}s=s.sibling}}function bs(s,l){for(;In!==null;){var d=In;switch(d.tag){case 0:case 11:case 15:ia(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Ic(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,In=g;else e:for(d=s;In!==null;){g=In;var A=g.sibling,C=g.return;if(nn(g),g===d){In=null;break e}if(A!==null){A.return=C,In=A;break e}In=C}}}var oi={getCacheForType:function(s){var l=ai(Ei),d=l.data.get(s);return d===void 0&&(d=s(),l.data.set(s,d)),d}},Gm=typeof WeakMap=="function"?WeakMap:Map,wn=0,Yt=null,on=null,Dt=0,en=0,ii=null,oa=!1,tu=!1,nu=!1,Oa=0,Kn=0,es=0,As=0,Pl=0,Na=0,_n=0,Rn=null,It=null,fn=!1,Un=0,fr=1/0,Ua=null,la=null,Li=0,hr=null,zn=null,ca=0,oo=0,Tf=null,ua=null,Ss=0,zl=null;function li(){if((wn&2)!==0&&Dt!==0)return Dt&-Dt;if(G.T!==null){var s=Kt;return s!==0?s:Nb()}return un()}function md(){Na===0&&(Na=(Dt&536870912)===0||Sn?le():536870912);var s=Ln.current;return s!==null&&(s.flags|=32),Na}function Mr(s,l,d){(s===Yt&&(en===2||en===9)||s.cancelPendingCommit!==null)&&(el(s,0),ts(s,Dt,Na,!1)),ht(s,d),((wn&2)===0||s!==Yt)&&(s===Yt&&((wn&2)===0&&(As|=d),Kn===4&&ts(s,Dt,Na,!1)),il(s))}function iu(s,l,d){if((wn&6)!==0)throw Error(i(327));var g=!d&&(l&124)===0&&(l&s.expiredLanes)===0||nt(s,l),A=g?E(s,l):h(s,l,!0),C=g;do{if(A===0){tu&&!g&&ts(s,l,0,!1);break}else{if(d=s.current.alternate,C&&!Zo(d)){A=h(s,l,!1),C=!1;continue}if(A===2){if(C=l,s.errorRecoveryDisabledLanes&C)var z=0;else z=s.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){l=z;e:{var X=s;A=Rn;var ee=X.current.memoizedState.isDehydrated;if(ee&&(el(X,z).flags|=256),z=h(X,z,!1),z!==2){if(nu&&!ee){X.errorRecoveryDisabledLanes|=C,As|=C,A=4;break e}C=It,It=A,C!==null&&(It===null?It=C:It.push.apply(It,C))}A=z}if(C=!1,A!==2)continue}}if(A===1){el(s,0),ts(s,l,0,!0);break}e:{switch(g=s,C=A,C){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:ts(g,l,Na,!oa);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(A=Un+300-De(),10<A)){if(ts(g,l,Na,!oa),gt(g,0,!0)!==0)break e;g.timeoutHandle=NM(Cf.bind(null,g,d,It,Ua,fn,l,Na,As,_n,oa,C,2,-0,0),A);break e}Cf(g,d,It,Ua,fn,l,Na,As,_n,oa,C,0,-0,0)}}break}while(!0);il(s)}function Cf(s,l,d,g,A,C,z,X,ee,_e,Ie,ke,Ee,Te){if(s.timeoutHandle=-1,ke=l.subtreeFlags,(ke&8192||(ke&16785408)===16785408)&&(Wm={stylesheets:null,count:0,unsuspend:JN},Vv(l),ke=$N(),ke!==null)){s.cancelPendingCommit=ke(Ze.bind(null,s,l,C,d,g,A,z,X,ee,Ie,1,Ee,Te)),ts(s,C,z,!_e);return}Ze(s,l,C,d,g,A,z,X,ee)}function Zo(s){for(var l=s;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var A=d[g],C=A.getSnapshot;A=A.value;try{if(!Rr(C(),A))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ts(s,l,d,g){l&=~Pl,l&=~As,s.suspendedLanes|=l,s.pingedLanes&=~l,g&&(s.warmLanes|=l),g=s.expirationTimes;for(var A=l;0<A;){var C=31-at(A),z=1<<C;g[C]=-1,A&=~z}d!==0&&He(s,d,l)}function Es(){return(wn&6)===0?(Vm(0),!1):!0}function Fl(){if(on!==null){if(en===0)var s=on.return;else s=on,Js=Po=null,Sm(s),Sl=null,xf=0,s=on;for(;s!==null;)$c(s.alternate,s),s=s.return;on=null}}function el(s,l){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,ON(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),Fl(),Yt=s,on=d=fi(s.current,null),Dt=l,en=0,ii=null,oa=!1,tu=nt(s,l),nu=!1,_n=Na=Pl=As=es=Kn=0,It=Rn=null,fn=!1,(l&8)!==0&&(l|=l&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=l;0<g;){var A=31-at(g),C=1<<A;l|=s[A],g&=~C}return Oa=l,tf(),d}function gd(s,l){$t=null,G.H=yf,l===hf||l===Ya?(l=ym(),en=3):l===vm?(l=ym(),en=4):en=l===Gv?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ii=l,on===null&&(Kn=1,od(s,Zi(l,s.current)))}function ru(){var s=G.H;return G.H=yf,s===null?yf:s}function vd(){var s=G.A;return G.A=oi,s}function u(){Kn=4,oa||(Dt&4194048)!==Dt&&Ln.current!==null||(tu=!0),(es&134217727)===0&&(As&134217727)===0||Yt===null||ts(Yt,Dt,Na,!1)}function h(s,l,d){var g=wn;wn|=2;var A=ru(),C=vd();(Yt!==s||Dt!==l)&&(Ua=null,el(s,l)),l=!1;var z=Kn;e:do try{if(en!==0&&on!==null){var X=on,ee=ii;switch(en){case 8:Fl(),z=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(l=!0);var _e=en;if(en=0,ii=null,ne(s,X,ee,_e),d&&tu){z=0;break e}break;default:_e=en,en=0,ii=null,ne(s,X,ee,_e)}}y(),z=Kn;break}catch(Ie){gd(s,Ie)}while(!0);return l&&s.shellSuspendCounter++,Js=Po=null,wn=g,G.H=A,G.A=C,on===null&&(Yt=null,Dt=0,tf()),z}function y(){for(;on!==null;)O(on)}function E(s,l){var d=wn;wn|=2;var g=ru(),A=vd();Yt!==s||Dt!==l?(Ua=null,fr=De()+500,el(s,l)):tu=nt(s,l);e:do try{if(en!==0&&on!==null){l=on;var C=ii;t:switch(en){case 1:en=0,ii=null,ne(s,l,C,1);break;case 2:case 9:if(Yh(C)){en=0,ii=null,W(l);break}l=function(){en!==2&&en!==9||Yt!==s||(en=7),il(s)},C.then(l,l);break e;case 3:en=7;break e;case 4:en=5;break e;case 7:Yh(C)?(en=0,ii=null,W(l)):(en=0,ii=null,ne(s,l,C,7));break;case 5:var z=null;switch(on.tag){case 26:z=on.memoizedState;case 5:case 27:var X=on;if(!z||XM(z)){en=0,ii=null;var ee=X.sibling;if(ee!==null)on=ee;else{var _e=X.return;_e!==null?(on=_e,ve(_e)):on=null}break t}}en=0,ii=null,ne(s,l,C,5);break;case 6:en=0,ii=null,ne(s,l,C,6);break;case 8:Fl(),Kn=6;break e;default:throw Error(i(462))}}w();break}catch(Ie){gd(s,Ie)}while(!0);return Js=Po=null,G.H=g,G.A=A,wn=d,on!==null?0:(Yt=null,Dt=0,tf(),Kn)}function w(){for(;on!==null&&!Oe();)O(on)}function O(s){var l=Bl(s.alternate,s,Oa);s.memoizedProps=s.pendingProps,l===null?ve(s):on=l}function W(s){var l=s,d=l.alternate;switch(l.tag){case 15:case 0:l=ta(d,l,l.pendingProps,l.type,void 0,Dt);break;case 11:l=ta(d,l,l.pendingProps,l.type.render,l.ref,Dt);break;case 5:Sm(l);default:$c(d,l),l=on=um(l,Oa),l=Bl(d,l,Oa)}s.memoizedProps=s.pendingProps,l===null?ve(s):on=l}function ne(s,l,d,g){Js=Po=null,Sm(l),Sl=null,xf=0;var A=l.return;try{if(Db(s,A,l,d,Dt)){Kn=1,od(s,Zi(d,s.current)),on=null;return}}catch(C){if(A!==null)throw on=A,C;Kn=1,od(s,Zi(d,s.current)),on=null;return}l.flags&32768?(Sn||g===1?s=!0:tu||(Dt&536870912)!==0?s=!1:(oa=s=!0,(g===2||g===9||g===3||g===6)&&(g=Ln.current,g!==null&&g.tag===13&&(g.flags|=16384))),Le(l,s)):ve(l)}function ve(s){var l=s;do{if((l.flags&32768)!==0){Le(l,oa);return}s=l.return;var d=Fm(l.alternate,l,Oa);if(d!==null){on=d;return}if(l=l.sibling,l!==null){on=l;return}on=l=s}while(l!==null);Kn===0&&(Kn=5)}function Le(s,l){do{var d=Kc(s.alternate,s);if(d!==null){d.flags&=32767,on=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(s=s.sibling,s!==null)){on=s;return}on=s=d}while(s!==null);Kn=6,on=null}function Ze(s,l,d,g,A,C,z,X,ee){s.cancelPendingCommit=null;do tl();while(Li!==0);if((wn&6)!==0)throw Error(i(327));if(l!==null){if(l===s.current)throw Error(i(177));if(C=l.lanes|l.childLanes,C|=Ph,qe(s,d,C,z,X,ee),s===Yt&&(on=Yt=null,Dt=0),zn=l,hr=s,ca=d,oo=C,Tf=A,ua=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,En(Mt,function(){return nl(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=G.T,G.T=null,A=$.p,$.p=2,z=wn,wn|=4;try{Ui(s,l,d)}finally{wn=z,$.p=A,G.T=g}}Li=1,ct(),ft(),qt()}}function ct(){if(Li===1){Li=0;var s=hr,l=zn,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=G.T,G.T=null;var g=$.p;$.p=2;var A=wn;wn|=4;try{fd(l,s);var C=Gb,z=im(s.containerInfo),X=C.focusedElem,ee=C.selectionRange;if(z!==X&&X&&X.ownerDocument&&nm(X.ownerDocument.documentElement,X)){if(ee!==null&&Qu(X)){var _e=ee.start,Ie=ee.end;if(Ie===void 0&&(Ie=_e),"selectionStart"in X)X.selectionStart=_e,X.selectionEnd=Math.min(Ie,X.value.length);else{var ke=X.ownerDocument||document,Ee=ke&&ke.defaultView||window;if(Ee.getSelection){var Te=Ee.getSelection(),Xt=X.textContent.length,Ft=Math.min(ee.start,Xt),Xn=ee.end===void 0?Ft:Math.min(ee.end,Xt);!Te.extend&&Ft>Xn&&(z=Xn,Xn=Ft,Ft=z);var ge=tm(X,Ft),oe=tm(X,Xn);if(ge&&oe&&(Te.rangeCount!==1||Te.anchorNode!==ge.node||Te.anchorOffset!==ge.offset||Te.focusNode!==oe.node||Te.focusOffset!==oe.offset)){var xe=ke.createRange();xe.setStart(ge.node,ge.offset),Te.removeAllRanges(),Ft>Xn?(Te.addRange(xe),Te.extend(oe.node,oe.offset)):(xe.setEnd(oe.node,oe.offset),Te.addRange(xe))}}}}for(ke=[],Te=X;Te=Te.parentNode;)Te.nodeType===1&&ke.push({element:Te,left:Te.scrollLeft,top:Te.scrollTop});for(typeof X.focus=="function"&&X.focus(),X=0;X<ke.length;X++){var ze=ke[X];ze.element.scrollLeft=ze.left,ze.element.scrollTop=ze.top}}Zv=!!Hb,Gb=Hb=null}finally{wn=A,$.p=g,G.T=d}}s.current=l,Li=2}}function ft(){if(Li===2){Li=0;var s=hr,l=zn,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=G.T,G.T=null;var g=$.p;$.p=2;var A=wn;wn|=4;try{ao(s,l.alternate,l)}finally{wn=A,$.p=g,G.T=d}}Li=3}}function qt(){if(Li===4||Li===3){Li=0,Xe();var s=hr,l=zn,d=ca,g=ua;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Li=5:(Li=0,zn=hr=null,fa(s,s.pendingLanes));var A=s.pendingLanes;if(A===0&&(la=null),gn(d),l=l.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(be,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=G.T,A=$.p,$.p=2,G.T=null;try{for(var C=s.onRecoverableError,z=0;z<g.length;z++){var X=g[z];C(X.value,{componentStack:X.stack})}}finally{G.T=l,$.p=A}}(ca&3)!==0&&tl(),il(s),A=s.pendingLanes,(d&4194090)!==0&&(A&42)!==0?s===zl?Ss++:(Ss=0,zl=s):Ss=0,Vm(0)}}function fa(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Ic(l)))}function tl(s){return ct(),ft(),qt(),nl()}function nl(){if(Li!==5)return!1;var s=hr,l=oo;oo=0;var d=gn(ca),g=G.T,A=$.p;try{$.p=32>d?32:d,G.T=null,d=Tf,Tf=null;var C=hr,z=ca;if(Li=0,zn=hr=null,ca=0,(wn&6)!==0)throw Error(i(331));var X=wn;if(wn|=4,Hm(C.current),pd(C,C.current,z,d),wn=X,Vm(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(be,C)}catch{}return!0}finally{$.p=A,G.T=g,fa(s,l)}}function Ae(s,l,d){l=Zi(d,l),l=ld(s.stateNode,l,2),s=Qs(s,l,2),s!==null&&(ht(s,2),il(s))}function se(s,l,d){if(s.tag===3)Ae(s,s,d);else for(;l!==null;){if(l.tag===3){Ae(l,s,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(la===null||!la.has(g))){s=Zi(d,s),d=Hv(2),g=Qs(l,d,2),g!==null&&(cd(d,g,l,s),ht(g,2),il(g));break}}l=l.return}}function Ce(s,l,d){var g=s.pingCache;if(g===null){g=s.pingCache=new Gm;var A=new Set;g.set(l,A)}else A=g.get(l),A===void 0&&(A=new Set,g.set(l,A));A.has(d)||(nu=!0,A.add(d),s=$e.bind(null,s,l,d),l.then(s,s))}function $e(s,l,d){var g=s.pingCache;g!==null&&g.delete(l),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,Yt===s&&(Dt&d)===d&&(Kn===4||Kn===3&&(Dt&62914560)===Dt&&300>De()-Un?(wn&2)===0&&el(s,0):Pl|=d,_n===Dt&&(_n=0)),il(s)}function Ct(s,l){l===0&&(l=Ke()),s=qs(s,l),s!==null&&(ht(s,l),il(s))}function $n(s){var l=s.memoizedState,d=0;l!==null&&(d=l.retryLane),Ct(s,d)}function Vt(s,l){var d=0;switch(s.tag){case 13:var g=s.stateNode,A=s.memoizedState;A!==null&&(d=A.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(l),Ct(s,d)}function En(s,l){return Z(s,l)}var mi=null,cn=null,Ms=!1,yd=!1,Ob=!1,wf=0;function il(s){s!==cn&&s.next===null&&(cn===null?mi=cn=s:cn=cn.next=s),yd=!0,Ms||(Ms=!0,SN())}function Vm(s,l){if(!Ob&&yd){Ob=!0;do for(var d=!1,g=mi;g!==null;){if(s!==0){var A=g.pendingLanes;if(A===0)var C=0;else{var z=g.suspendedLanes,X=g.pingedLanes;C=(1<<31-at(42|s)+1)-1,C&=A&~(z&~X),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(d=!0,SM(g,C))}else C=Dt,C=gt(g,g===Yt?C:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(C&3)===0||nt(g,C)||(d=!0,SM(g,C));g=g.next}while(d);Ob=!1}}function AN(){_M()}function _M(){yd=Ms=!1;var s=0;wf!==0&&(DN()&&(s=wf),wf=0);for(var l=De(),d=null,g=mi;g!==null;){var A=g.next,C=bM(g,l);C===0?(g.next=null,d===null?mi=A:d.next=A,A===null&&(cn=d)):(d=g,(s!==0||(C&3)!==0)&&(yd=!0)),g=A}Vm(s)}function bM(s,l){for(var d=s.suspendedLanes,g=s.pingedLanes,A=s.expirationTimes,C=s.pendingLanes&-62914561;0<C;){var z=31-at(C),X=1<<z,ee=A[z];ee===-1?((X&d)===0||(X&g)!==0)&&(A[z]=zt(X,l)):ee<=l&&(s.expiredLanes|=X),C&=~X}if(l=Yt,d=Dt,d=gt(s,s===l?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,d===0||s===l&&(en===2||en===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&Pe(g),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||nt(s,d)){if(l=d&-d,l===s.callbackPriority)return l;switch(g!==null&&Pe(g),gn(d)){case 2:case 8:d=Ye;break;case 32:d=Mt;break;case 268435456:d=j;break;default:d=Mt}return g=AM.bind(null,s),d=Z(d,g),s.callbackPriority=l,s.callbackNode=d,l}return g!==null&&g!==null&&Pe(g),s.callbackPriority=2,s.callbackNode=null,2}function AM(s,l){if(Li!==0&&Li!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(tl()&&s.callbackNode!==d)return null;var g=Dt;return g=gt(s,s===Yt?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(iu(s,g,l),bM(s,De()),s.callbackNode!=null&&s.callbackNode===d?AM.bind(null,s):null)}function SM(s,l){if(tl())return null;iu(s,l,!0)}function SN(){NN(function(){(wn&6)!==0?Z(Ve,AN):_M()})}function Nb(){return wf===0&&(wf=le()),wf}function EM(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Fu(""+s)}function MM(s,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,s.id&&d.setAttribute("form",s.id),l.parentNode.insertBefore(d,l),s=new FormData(s),d.parentNode.removeChild(d),s}function EN(s,l,d,g,A){if(l==="submit"&&d&&d.stateNode===A){var C=EM((A[Qn]||null).action),z=g.submitter;z&&(l=(l=z[Qn]||null)?EM(l.formAction):z.getAttribute("formAction"),l!==null&&(C=l,z=null));var X=new Sc("action","action",null,g,A);s.push({event:X,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(wf!==0){var ee=z?MM(A,z):new FormData(A);Lm(d,{pending:!0,data:ee,method:A.method,action:C},null,ee)}}else typeof C=="function"&&(X.preventDefault(),ee=z?MM(A,z):new FormData(A),Lm(d,{pending:!0,data:ee,method:A.method,action:C},C,ee))},currentTarget:A}]})}}for(var Ub=0;Ub<ef.length;Ub++){var Lb=ef[Ub],MN=Lb.toLowerCase(),TN=Lb[0].toUpperCase()+Lb.slice(1);Fi(MN,"on"+TN)}Fi(xr,"onAnimationEnd"),Fi(sm,"onAnimationIteration"),Fi(Dr,"onAnimationStart"),Fi("dblclick","onDoubleClick"),Fi("focusin","onFocus"),Fi("focusout","onBlur"),Fi(Q0,"onTransitionRun"),Fi(Xs,"onTransitionStart"),Fi(Dc,"onTransitionCancel"),Fi(Ys,"onTransitionEnd"),ce("onMouseEnter",["mouseout","mouseover"]),ce("onMouseLeave",["mouseout","mouseover"]),ce("onPointerEnter",["pointerout","pointerover"]),ce("onPointerLeave",["pointerout","pointerover"]),q("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),q("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),q("onBeforeInput",["compositionend","keypress","textInput","paste"]),q("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),q("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),q("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var km="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(km));function TM(s,l){l=(l&4)!==0;for(var d=0;d<s.length;d++){var g=s[d],A=g.event;g=g.listeners;e:{var C=void 0;if(l)for(var z=g.length-1;0<=z;z--){var X=g[z],ee=X.instance,_e=X.currentTarget;if(X=X.listener,ee!==C&&A.isPropagationStopped())break e;C=X,A.currentTarget=_e;try{C(A)}catch(Ie){Ml(Ie)}A.currentTarget=null,C=ee}else for(z=0;z<g.length;z++){if(X=g[z],ee=X.instance,_e=X.currentTarget,X=X.listener,ee!==C&&A.isPropagationStopped())break e;C=X,A.currentTarget=_e;try{C(A)}catch(Ie){Ml(Ie)}A.currentTarget=null,C=ee}}}}function dn(s,l){var d=l[qr];d===void 0&&(d=l[qr]=new Set);var g=s+"__bubble";d.has(g)||(CM(l,s,2,!1),d.add(g))}function Ib(s,l,d){var g=0;l&&(g|=4),CM(d,s,g,l)}var jv="_reactListening"+Math.random().toString(36).slice(2);function Pb(s){if(!s[jv]){s[jv]=!0,yc.forEach(function(d){d!=="selectionchange"&&(CN.has(d)||Ib(d,!1,s),Ib(d,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[jv]||(l[jv]=!0,Ib("selectionchange",!1,l))}}function CM(s,l,d,g){switch($M(l)){case 2:var A=eU;break;case 8:A=tU;break;default:A=$b}d=A.bind(null,l,d,s),A=void 0,!Gu||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(A=!0),g?A!==void 0?s.addEventListener(l,d,{capture:!0,passive:A}):s.addEventListener(l,d,!0):A!==void 0?s.addEventListener(l,d,{passive:A}):s.addEventListener(l,d,!1)}function zb(s,l,d,g,A){var C=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var z=g.tag;if(z===3||z===4){var X=g.stateNode.containerInfo;if(X===A)break;if(z===4)for(z=g.return;z!==null;){var ee=z.tag;if((ee===3||ee===4)&&z.stateNode.containerInfo===A)return;z=z.return}for(;X!==null;){if(z=ka(X),z===null)return;if(ee=z.tag,ee===5||ee===6||ee===26||ee===27){g=C=z;continue e}X=X.parentNode}}g=g.return}kp(function(){var _e=C,Ie=Eh(d),ke=[];e:{var Ee=Ih.get(s);if(Ee!==void 0){var Te=Sc,Xt=s;switch(s){case"keypress":if(Mo(d)===0)break e;case"keydown":case"keyup":Te=Wp;break;case"focusin":Xt="focus",Te=Th;break;case"focusout":Xt="blur",Te=Th;break;case"beforeblur":case"afterblur":Te=Th;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=Yp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=_b;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=Kp;break;case xr:case sm:case Dr:Te=P0;break;case Ys:Te=Gs;break;case"scroll":case"scrollend":Te=U0;break;case"wheel":Te=bb;break;case"copy":case"cut":case"paste":Te=F0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=wh;break;case"toggle":case"beforetoggle":Te=Co}var Ft=(l&4)!==0,Xn=!Ft&&(s==="scroll"||s==="scrollend"),ge=Ft?Ee!==null?Ee+"Capture":null:Ee;Ft=[];for(var oe=_e,xe;oe!==null;){var ze=oe;if(xe=ze.stateNode,ze=ze.tag,ze!==5&&ze!==26&&ze!==27||xe===null||ge===null||(ze=_c(oe,ge),ze!=null&&Ft.push(jm(oe,ze,xe))),Xn)break;oe=oe.return}0<Ft.length&&(Ee=new Te(Ee,Xt,null,d,Ie),ke.push({event:Ee,listeners:Ft}))}}if((l&7)===0){e:{if(Ee=s==="mouseover"||s==="pointerover",Te=s==="mouseout"||s==="pointerout",Ee&&d!==Sh&&(Xt=d.relatedTarget||d.fromElement)&&(ka(Xt)||Xt[_a]))break e;if((Te||Ee)&&(Ee=Ie.window===Ie?Ie:(Ee=Ie.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,Te?(Xt=d.relatedTarget||d.toElement,Te=_e,Xt=Xt?ka(Xt):null,Xt!==null&&(Xn=a(Xt),Ft=Xt.tag,Xt!==Xn||Ft!==5&&Ft!==27&&Ft!==6)&&(Xt=null)):(Te=null,Xt=_e),Te!==Xt)){if(Ft=Yp,ze="onMouseLeave",ge="onMouseEnter",oe="mouse",(s==="pointerout"||s==="pointerover")&&(Ft=wh,ze="onPointerLeave",ge="onPointerEnter",oe="pointer"),Xn=Te==null?Ee:So(Te),xe=Xt==null?Ee:So(Xt),Ee=new Ft(ze,oe+"leave",Te,d,Ie),Ee.target=Xn,Ee.relatedTarget=xe,ze=null,ka(Ie)===_e&&(Ft=new Ft(ge,oe+"enter",Xt,d,Ie),Ft.target=xe,Ft.relatedTarget=Xn,ze=Ft),Xn=ze,Te&&Xt)t:{for(Ft=Te,ge=Xt,oe=0,xe=Ft;xe;xe=xd(xe))oe++;for(xe=0,ze=ge;ze;ze=xd(ze))xe++;for(;0<oe-xe;)Ft=xd(Ft),oe--;for(;0<xe-oe;)ge=xd(ge),xe--;for(;oe--;){if(Ft===ge||ge!==null&&Ft===ge.alternate)break t;Ft=xd(Ft),ge=xd(ge)}Ft=null}else Ft=null;Te!==null&&wM(ke,Ee,Te,Ft,!1),Xt!==null&&Xn!==null&&wM(ke,Xn,Xt,Ft,!0)}}e:{if(Ee=_e?So(_e):window,Te=Ee.nodeName&&Ee.nodeName.toLowerCase(),Te==="select"||Te==="input"&&Ee.type==="file")var _t=Bh;else if(em(Ee))if(Dh)_t=Bo;else{_t=J0;var hn=Ab}else Te=Ee.nodeName,!Te||Te.toLowerCase()!=="input"||Ee.type!=="checkbox"&&Ee.type!=="radio"?_e&&Ah(_e.elementType)&&(_t=Bh):_t=$u;if(_t&&(_t=_t(s,_e))){wr(ke,_t,d,Ie);break e}hn&&hn(s,Ee,_e),s==="focusout"&&_e&&Ee.type==="number"&&_e.memoizedProps.value!=null&&Wi(Ee,"number",Ee.value)}switch(hn=_e?So(_e):window,s){case"focusin":(em(hn)||hn.contentEditable==="true")&&(ks=hn,Nh=_e,Zu=null);break;case"focusout":Zu=Nh=ks=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,am(ke,d,Ie);break;case"selectionchange":if(rm)break;case"keydown":case"keyup":am(ke,d,Ie)}var Bt;if(Xu)e:{switch(s){case"compositionstart":var Ht="onCompositionStart";break e;case"compositionend":Ht="onCompositionEnd";break e;case"compositionupdate":Ht="onCompositionUpdate";break e}Ht=void 0}else Ro?Wu(s,d)&&(Ht="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Ht="onCompositionStart");Ht&&(qu&&d.locale!=="ko"&&(Ro||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&Ro&&(Bt=Xp()):(Fs=Ie,jp="value"in Fs?Fs.value:Fs.textContent,Ro=!0)),hn=Xv(_e,Ht),0<hn.length&&(Ht=new Ch(Ht,s,null,d,Ie),ke.push({event:Ht,listeners:hn}),Bt?Ht.data=Bt:(Bt=Qp(d),Bt!==null&&(Ht.data=Bt)))),(Bt=Yu?Ju(s,d):Zp(s,d))&&(Ht=Xv(_e,"onBeforeInput"),0<Ht.length&&(hn=new Ch("onBeforeInput","beforeinput",null,d,Ie),ke.push({event:hn,listeners:Ht}),hn.data=Bt)),EN(ke,s,_e,d,Ie)}TM(ke,l)})}function jm(s,l,d){return{instance:s,listener:l,currentTarget:d}}function Xv(s,l){for(var d=l+"Capture",g=[];s!==null;){var A=s,C=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||C===null||(A=_c(s,d),A!=null&&g.unshift(jm(s,A,C)),A=_c(s,l),A!=null&&g.push(jm(s,A,C))),s.tag===3)return g;s=s.return}return[]}function xd(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function wM(s,l,d,g,A){for(var C=l._reactName,z=[];d!==null&&d!==g;){var X=d,ee=X.alternate,_e=X.stateNode;if(X=X.tag,ee!==null&&ee===g)break;X!==5&&X!==26&&X!==27||_e===null||(ee=_e,A?(_e=_c(d,C),_e!=null&&z.unshift(jm(d,_e,ee))):A||(_e=_c(d,C),_e!=null&&z.push(jm(d,_e,ee)))),d=d.return}z.length!==0&&s.push({event:l,listeners:z})}var wN=/\r\n?/g,RN=/\u0000|\uFFFD/g;function RM(s){return(typeof s=="string"?s:""+s).replace(wN,`
`).replace(RN,"")}function BM(s,l){return l=RM(l),RM(s)===l}function Yv(){}function jn(s,l,d,g,A,C){switch(d){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||Di(s,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&Di(s,""+g);break;case"className":dt(s,"class",g);break;case"tabIndex":dt(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":dt(s,d,g);break;case"style":zu(s,g,C);break;case"data":if(l!=="object"){dt(s,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||d!=="href")){s.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=Fu(""+g),s.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(d==="formAction"?(l!=="input"&&jn(s,l,"name",A.name,A,null),jn(s,l,"formEncType",A.formEncType,A,null),jn(s,l,"formMethod",A.formMethod,A,null),jn(s,l,"formTarget",A.formTarget,A,null)):(jn(s,l,"encType",A.encType,A,null),jn(s,l,"method",A.method,A,null),jn(s,l,"target",A.target,A,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=Fu(""+g),s.setAttribute(d,g);break;case"onClick":g!=null&&(s.onclick=Yv);break;case"onScroll":g!=null&&dn("scroll",s);break;case"onScrollEnd":g!=null&&dn("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(d=g.__html,d!=null){if(A.children!=null)throw Error(i(60));s.innerHTML=d}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}d=Fu(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""+g):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":g===!0?s.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,g):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(d,g):s.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(d):s.setAttribute(d,g);break;case"popover":dn("beforetoggle",s),dn("toggle",s),rt(s,"popover",g);break;case"xlinkActuate":lt(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":lt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":lt(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":lt(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":lt(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":lt(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":lt(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":lt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":lt(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":rt(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Gp.get(d)||d,rt(s,d,g))}}function Fb(s,l,d,g,A,C){switch(d){case"style":zu(s,g,C);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(d=g.__html,d!=null){if(A.children!=null)throw Error(i(60));s.innerHTML=d}}break;case"children":typeof g=="string"?Di(s,g):(typeof g=="number"||typeof g=="bigint")&&Di(s,""+g);break;case"onScroll":g!=null&&dn("scroll",s);break;case"onScrollEnd":g!=null&&dn("scrollend",s);break;case"onClick":g!=null&&(s.onclick=Yv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xc.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(A=d.endsWith("Capture"),l=d.slice(2,A?d.length-7:void 0),C=s[Qn]||null,C=C!=null?C[d]:null,typeof C=="function"&&s.removeEventListener(l,C,A),typeof g=="function")){typeof C!="function"&&C!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(l,g,A);break e}d in s?s[d]=g:g===!0?s.setAttribute(d,""):rt(s,d,g)}}}function Tr(s,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dn("error",s),dn("load",s);var g=!1,A=!1,C;for(C in d)if(d.hasOwnProperty(C)){var z=d[C];if(z!=null)switch(C){case"src":g=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:jn(s,l,C,z,d,null)}}A&&jn(s,l,"srcSet",d.srcSet,d,null),g&&jn(s,l,"src",d.src,d,null);return;case"input":dn("invalid",s);var X=C=z=A=null,ee=null,_e=null;for(g in d)if(d.hasOwnProperty(g)){var Ie=d[g];if(Ie!=null)switch(g){case"name":A=Ie;break;case"type":z=Ie;break;case"checked":ee=Ie;break;case"defaultChecked":_e=Ie;break;case"value":C=Ie;break;case"defaultValue":X=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(i(137,l));break;default:jn(s,l,g,Ie,d,null)}}lr(s,C,X,ee,_e,z,A,!1),sn(s);return;case"select":dn("invalid",s),g=z=C=null;for(A in d)if(d.hasOwnProperty(A)&&(X=d[A],X!=null))switch(A){case"value":C=X;break;case"defaultValue":z=X;break;case"multiple":g=X;default:jn(s,l,A,X,d,null)}l=C,d=z,s.multiple=!!g,l!=null?ti(s,!!g,l,!1):d!=null&&ti(s,!!g,d,!0);return;case"textarea":dn("invalid",s),C=A=g=null;for(z in d)if(d.hasOwnProperty(z)&&(X=d[z],X!=null))switch(z){case"value":g=X;break;case"defaultValue":A=X;break;case"children":C=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(91));break;default:jn(s,l,z,X,d,null)}vl(s,g,A,C),sn(s);return;case"option":for(ee in d)if(d.hasOwnProperty(ee)&&(g=d[ee],g!=null))switch(ee){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:jn(s,l,ee,g,d,null)}return;case"dialog":dn("beforetoggle",s),dn("toggle",s),dn("cancel",s),dn("close",s);break;case"iframe":case"object":dn("load",s);break;case"video":case"audio":for(g=0;g<km.length;g++)dn(km[g],s);break;case"image":dn("error",s),dn("load",s);break;case"details":dn("toggle",s);break;case"embed":case"source":case"link":dn("error",s),dn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_e in d)if(d.hasOwnProperty(_e)&&(g=d[_e],g!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:jn(s,l,_e,g,d,null)}return;default:if(Ah(l)){for(Ie in d)d.hasOwnProperty(Ie)&&(g=d[Ie],g!==void 0&&Fb(s,l,Ie,g,d,void 0));return}}for(X in d)d.hasOwnProperty(X)&&(g=d[X],g!=null&&jn(s,l,X,g,d,null))}function BN(s,l,d,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,C=null,z=null,X=null,ee=null,_e=null,Ie=null;for(Te in d){var ke=d[Te];if(d.hasOwnProperty(Te)&&ke!=null)switch(Te){case"checked":break;case"value":break;case"defaultValue":ee=ke;default:g.hasOwnProperty(Te)||jn(s,l,Te,null,g,ke)}}for(var Ee in g){var Te=g[Ee];if(ke=d[Ee],g.hasOwnProperty(Ee)&&(Te!=null||ke!=null))switch(Ee){case"type":C=Te;break;case"name":A=Te;break;case"checked":_e=Te;break;case"defaultChecked":Ie=Te;break;case"value":z=Te;break;case"defaultValue":X=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(i(137,l));break;default:Te!==ke&&jn(s,l,Ee,Te,g,ke)}}Nn(s,z,X,ee,_e,Ie,C,A);return;case"select":Te=z=X=Ee=null;for(C in d)if(ee=d[C],d.hasOwnProperty(C)&&ee!=null)switch(C){case"value":break;case"multiple":Te=ee;default:g.hasOwnProperty(C)||jn(s,l,C,null,g,ee)}for(A in g)if(C=g[A],ee=d[A],g.hasOwnProperty(A)&&(C!=null||ee!=null))switch(A){case"value":Ee=C;break;case"defaultValue":X=C;break;case"multiple":z=C;default:C!==ee&&jn(s,l,A,C,g,ee)}l=X,d=z,g=Te,Ee!=null?ti(s,!!d,Ee,!1):!!g!=!!d&&(l!=null?ti(s,!!d,l,!0):ti(s,!!d,d?[]:"",!1));return;case"textarea":Te=Ee=null;for(X in d)if(A=d[X],d.hasOwnProperty(X)&&A!=null&&!g.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:jn(s,l,X,null,g,A)}for(z in g)if(A=g[z],C=d[z],g.hasOwnProperty(z)&&(A!=null||C!=null))switch(z){case"value":Ee=A;break;case"defaultValue":Te=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:A!==C&&jn(s,l,z,A,g,C)}Ji(s,Ee,Te);return;case"option":for(var Xt in d)if(Ee=d[Xt],d.hasOwnProperty(Xt)&&Ee!=null&&!g.hasOwnProperty(Xt))switch(Xt){case"selected":s.selected=!1;break;default:jn(s,l,Xt,null,g,Ee)}for(ee in g)if(Ee=g[ee],Te=d[ee],g.hasOwnProperty(ee)&&Ee!==Te&&(Ee!=null||Te!=null))switch(ee){case"selected":s.selected=Ee&&typeof Ee!="function"&&typeof Ee!="symbol";break;default:jn(s,l,ee,Ee,g,Te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in d)Ee=d[Ft],d.hasOwnProperty(Ft)&&Ee!=null&&!g.hasOwnProperty(Ft)&&jn(s,l,Ft,null,g,Ee);for(_e in g)if(Ee=g[_e],Te=d[_e],g.hasOwnProperty(_e)&&Ee!==Te&&(Ee!=null||Te!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(i(137,l));break;default:jn(s,l,_e,Ee,g,Te)}return;default:if(Ah(l)){for(var Xn in d)Ee=d[Xn],d.hasOwnProperty(Xn)&&Ee!==void 0&&!g.hasOwnProperty(Xn)&&Fb(s,l,Xn,void 0,g,Ee);for(Ie in g)Ee=g[Ie],Te=d[Ie],!g.hasOwnProperty(Ie)||Ee===Te||Ee===void 0&&Te===void 0||Fb(s,l,Ie,Ee,g,Te);return}}for(var ge in d)Ee=d[ge],d.hasOwnProperty(ge)&&Ee!=null&&!g.hasOwnProperty(ge)&&jn(s,l,ge,null,g,Ee);for(ke in g)Ee=g[ke],Te=d[ke],!g.hasOwnProperty(ke)||Ee===Te||Ee==null&&Te==null||jn(s,l,ke,Ee,g,Te)}var Hb=null,Gb=null;function qv(s){return s.nodeType===9?s:s.ownerDocument}function DM(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function OM(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function Vb(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var kb=null;function DN(){var s=window.event;return s&&s.type==="popstate"?s===kb?!1:(kb=s,!0):(kb=null,!1)}var NM=typeof setTimeout=="function"?setTimeout:void 0,ON=typeof clearTimeout=="function"?clearTimeout:void 0,UM=typeof Promise=="function"?Promise:void 0,NN=typeof queueMicrotask=="function"?queueMicrotask:typeof UM<"u"?function(s){return UM.resolve(null).then(s).catch(UN)}:NM;function UN(s){setTimeout(function(){throw s})}function au(s){return s==="head"}function LM(s,l){var d=l,g=0,A=0;do{var C=d.nextSibling;if(s.removeChild(d),C&&C.nodeType===8)if(d=C.data,d==="/$"){if(0<g&&8>g){d=g;var z=s.ownerDocument;if(d&1&&Xm(z.documentElement),d&2&&Xm(z.body),d&4)for(d=z.head,Xm(d),z=d.firstChild;z;){var X=z.nextSibling,ee=z.nodeName;z[Kr]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&z.rel.toLowerCase()==="stylesheet"||d.removeChild(z),z=X}}if(A===0){s.removeChild(C),Zm(l);return}A--}else d==="$"||d==="$?"||d==="$!"?A++:g=d.charCodeAt(0)-48;else g=0;d=C}while(d);Zm(l)}function jb(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":jb(d),Hn(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function LN(s,l,d,g){for(;s.nodeType===1;){var A=d;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[Kr])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(C=s.getAttribute("rel"),C==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(C!==A.rel||s.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||s.getAttribute("title")!==(A.title==null?null:A.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(C=s.getAttribute("src"),(C!==(A.src==null?null:A.src)||s.getAttribute("type")!==(A.type==null?null:A.type)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&C&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var C=A.name==null?null:""+A.name;if(A.type==="hidden"&&s.getAttribute("name")===C)return s}else return s;if(s=lo(s.nextSibling),s===null)break}return null}function IN(s,l,d){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=lo(s.nextSibling),s===null))return null;return s}function Xb(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function PN(s,l){var d=s.ownerDocument;if(s.data!=="$?"||d.readyState==="complete")l();else{var g=function(){l(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function lo(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}var Yb=null;function IM(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return s;l--}else d==="/$"&&l++}s=s.previousSibling}return null}function PM(s,l,d){switch(l=qv(d),s){case"html":if(s=l.documentElement,!s)throw Error(i(452));return s;case"head":if(s=l.head,!s)throw Error(i(453));return s;case"body":if(s=l.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Xm(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);Hn(s)}var Ts=new Map,zM=new Set;function Wv(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Hl=$.d;$.d={f:zN,r:FN,D:HN,C:GN,L:VN,m:kN,X:XN,S:jN,M:YN};function zN(){var s=Hl.f(),l=Es();return s||l}function FN(s){var l=ls(s);l!==null&&l.tag===5&&l.type==="form"?Cv(l):Hl.r(s)}var _d=typeof document>"u"?null:document;function FM(s,l,d){var g=_d;if(g&&typeof l=="string"&&l){var A=Bi(l);A='link[rel="'+s+'"][href="'+A+'"]',typeof d=="string"&&(A+='[crossorigin="'+d+'"]'),zM.has(A)||(zM.add(A),s={rel:s,crossOrigin:d,href:l},g.querySelector(A)===null&&(l=g.createElement("link"),Tr(l,"link",s),Si(l),g.head.appendChild(l)))}}function HN(s){Hl.D(s),FM("dns-prefetch",s,null)}function GN(s,l){Hl.C(s,l),FM("preconnect",s,l)}function VN(s,l,d){Hl.L(s,l,d);var g=_d;if(g&&s&&l){var A='link[rel="preload"][as="'+Bi(l)+'"]';l==="image"&&d&&d.imageSrcSet?(A+='[imagesrcset="'+Bi(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(A+='[imagesizes="'+Bi(d.imageSizes)+'"]')):A+='[href="'+Bi(s)+'"]';var C=A;switch(l){case"style":C=bd(s);break;case"script":C=Ad(s)}Ts.has(C)||(s=m({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:s,as:l},d),Ts.set(C,s),g.querySelector(A)!==null||l==="style"&&g.querySelector(Ym(C))||l==="script"&&g.querySelector(qm(C))||(l=g.createElement("link"),Tr(l,"link",s),Si(l),g.head.appendChild(l)))}}function kN(s,l){Hl.m(s,l);var d=_d;if(d&&s){var g=l&&typeof l.as=="string"?l.as:"script",A='link[rel="modulepreload"][as="'+Bi(g)+'"][href="'+Bi(s)+'"]',C=A;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Ad(s)}if(!Ts.has(C)&&(s=m({rel:"modulepreload",href:s},l),Ts.set(C,s),d.querySelector(A)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(qm(C)))return}g=d.createElement("link"),Tr(g,"link",s),Si(g),d.head.appendChild(g)}}}function jN(s,l,d){Hl.S(s,l,d);var g=_d;if(g&&s){var A=zs(g).hoistableStyles,C=bd(s);l=l||"default";var z=A.get(C);if(!z){var X={loading:0,preload:null};if(z=g.querySelector(Ym(C)))X.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":l},d),(d=Ts.get(C))&&qb(s,d);var ee=z=g.createElement("link");Si(ee),Tr(ee,"link",s),ee._p=new Promise(function(_e,Ie){ee.onload=_e,ee.onerror=Ie}),ee.addEventListener("load",function(){X.loading|=1}),ee.addEventListener("error",function(){X.loading|=2}),X.loading|=4,Jv(z,l,g)}z={type:"stylesheet",instance:z,count:1,state:X},A.set(C,z)}}}function XN(s,l){Hl.X(s,l);var d=_d;if(d&&s){var g=zs(d).hoistableScripts,A=Ad(s),C=g.get(A);C||(C=d.querySelector(qm(A)),C||(s=m({src:s,async:!0},l),(l=Ts.get(A))&&Wb(s,l),C=d.createElement("script"),Si(C),Tr(C,"link",s),d.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(A,C))}}function YN(s,l){Hl.M(s,l);var d=_d;if(d&&s){var g=zs(d).hoistableScripts,A=Ad(s),C=g.get(A);C||(C=d.querySelector(qm(A)),C||(s=m({src:s,async:!0,type:"module"},l),(l=Ts.get(A))&&Wb(s,l),C=d.createElement("script"),Si(C),Tr(C,"link",s),d.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(A,C))}}function HM(s,l,d,g){var A=(A=Be.current)?Wv(A):null;if(!A)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=bd(d.href),d=zs(A).hoistableStyles,g=d.get(l),g||(g={type:"style",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=bd(d.href);var C=zs(A).hoistableStyles,z=C.get(s);if(z||(A=A.ownerDocument||A,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(s,z),(C=A.querySelector(Ym(s)))&&!C._p&&(z.instance=C,z.state.loading=5),Ts.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Ts.set(s,d),C||qN(A,s,d,z.state))),l&&g===null)throw Error(i(528,""));return z}if(l&&g!==null)throw Error(i(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Ad(d),d=zs(A).hoistableScripts,g=d.get(l),g||(g={type:"script",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function bd(s){return'href="'+Bi(s)+'"'}function Ym(s){return'link[rel="stylesheet"]['+s+"]"}function GM(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function qN(s,l,d,g){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=s.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),Tr(l,"link",d),Si(l),s.head.appendChild(l))}function Ad(s){return'[src="'+Bi(s)+'"]'}function qm(s){return"script[async]"+s}function VM(s,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var g=s.querySelector('style[data-href~="'+Bi(d.href)+'"]');if(g)return l.instance=g,Si(g),g;var A=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),Si(g),Tr(g,"style",A),Jv(g,d.precedence,s),l.instance=g;case"stylesheet":A=bd(d.href);var C=s.querySelector(Ym(A));if(C)return l.state.loading|=4,l.instance=C,Si(C),C;g=GM(d),(A=Ts.get(A))&&qb(g,A),C=(s.ownerDocument||s).createElement("link"),Si(C);var z=C;return z._p=new Promise(function(X,ee){z.onload=X,z.onerror=ee}),Tr(C,"link",g),l.state.loading|=4,Jv(C,d.precedence,s),l.instance=C;case"script":return C=Ad(d.src),(A=s.querySelector(qm(C)))?(l.instance=A,Si(A),A):(g=d,(A=Ts.get(C))&&(g=m({},d),Wb(g,A)),s=s.ownerDocument||s,A=s.createElement("script"),Si(A),Tr(A,"link",g),s.head.appendChild(A),l.instance=A);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,Jv(g,d.precedence,s));return l.instance}function Jv(s,l,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=g.length?g[g.length-1]:null,C=A,z=0;z<g.length;z++){var X=g[z];if(X.dataset.precedence===l)C=X;else if(C!==A)break}C?C.parentNode.insertBefore(s,C.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(s,l.firstChild))}function qb(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function Wb(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Kv=null;function kM(s,l,d){if(Kv===null){var g=new Map,A=Kv=new Map;A.set(d,g)}else A=Kv,g=A.get(d),g||(g=new Map,A.set(d,g));if(g.has(s))return g;for(g.set(s,null),d=d.getElementsByTagName(s),A=0;A<d.length;A++){var C=d[A];if(!(C[Kr]||C[Ai]||s==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var z=C.getAttribute(l)||"";z=s+z;var X=g.get(z);X?X.push(C):g.set(z,[C])}}return g}function jM(s,l,d){s=s.ownerDocument||s,s.head.insertBefore(d,l==="title"?s.querySelector("head > title"):null)}function WN(s,l,d){if(d===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function XM(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Wm=null;function JN(){}function KN(s,l,d){if(Wm===null)throw Error(i(475));var g=Wm;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var A=bd(d.href),C=s.querySelector(Ym(A));if(C){s=C._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(g.count++,g=$v.bind(g),s.then(g,g)),l.state.loading|=4,l.instance=C,Si(C);return}C=s.ownerDocument||s,d=GM(d),(A=Ts.get(A))&&qb(d,A),C=C.createElement("link"),Si(C);var z=C;z._p=new Promise(function(X,ee){z.onload=X,z.onerror=ee}),Tr(C,"link",d),l.instance=C}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(g.count++,l=$v.bind(g),s.addEventListener("load",l),s.addEventListener("error",l))}}function $N(){if(Wm===null)throw Error(i(475));var s=Wm;return s.stylesheets&&s.count===0&&Jb(s,s.stylesheets),0<s.count?function(l){var d=setTimeout(function(){if(s.stylesheets&&Jb(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(d)}}:null}function $v(){if(this.count--,this.count===0){if(this.stylesheets)Jb(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Qv=null;function Jb(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Qv=new Map,l.forEach(QN,s),Qv=null,$v.call(s))}function QN(s,l){if(!(l.state.loading&4)){var d=Qv.get(s);if(d)var g=d.get(null);else{d=new Map,Qv.set(s,d);for(var A=s.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<A.length;C++){var z=A[C];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(d.set(z.dataset.precedence,z),g=z)}g&&d.set(null,g)}A=l.instance,z=A.getAttribute("data-precedence"),C=d.get(z)||g,C===g&&d.set(null,A),d.set(z,A),this.count++,g=$v.bind(this),A.addEventListener("load",g),A.addEventListener("error",g),C?C.parentNode.insertBefore(A,C.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(A,s.firstChild)),l.state.loading|=4}}var Jm={$$typeof:B,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function ZN(s,l,d,g,A,C,z,X){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=it(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=it(0),this.hiddenUpdates=it(null),this.identifierPrefix=g,this.onUncaughtError=A,this.onCaughtError=C,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function YM(s,l,d,g,A,C,z,X,ee,_e,Ie,ke){return s=new ZN(s,l,d,z,X,ee,_e,ke),l=1,C===!0&&(l|=24),C=Or(3,null,null,l),s.current=C,C.stateNode=s,l=kh(),l.refCount++,s.pooledCache=l,l.refCount++,C.memoizedState={element:g,isDehydrated:d,cache:l},xm(C),s}function qM(s){return s?(s=No,s):No}function WM(s,l,d,g,A,C){A=qM(A),g.context===null?g.context=A:g.pendingContext=A,g=ds(l),g.payload={element:d},C=C===void 0?null:C,C!==null&&(g.callback=C),d=Qs(s,g,l),d!==null&&(Mr(d,s,l),Al(d,s,l))}function JM(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<l?d:l}}function Kb(s,l){JM(s,l),(s=s.alternate)&&JM(s,l)}function KM(s){if(s.tag===13){var l=qs(s,67108864);l!==null&&Mr(l,s,67108864),Kb(s,67108864)}}var Zv=!0;function eU(s,l,d,g){var A=G.T;G.T=null;var C=$.p;try{$.p=2,$b(s,l,d,g)}finally{$.p=C,G.T=A}}function tU(s,l,d,g){var A=G.T;G.T=null;var C=$.p;try{$.p=8,$b(s,l,d,g)}finally{$.p=C,G.T=A}}function $b(s,l,d,g){if(Zv){var A=Qb(g);if(A===null)zb(s,l,g,ey,d),QM(s,g);else if(iU(A,s,l,d,g))g.stopPropagation();else if(QM(s,g),l&4&&-1<nU.indexOf(s)){for(;A!==null;){var C=ls(A);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var z=vt(C.pendingLanes);if(z!==0){var X=C;for(X.pendingLanes|=2,X.entangledLanes|=2;z;){var ee=1<<31-at(z);X.entanglements[1]|=ee,z&=~ee}il(C),(wn&6)===0&&(fr=De()+500,Vm(0))}}break;case 13:X=qs(C,2),X!==null&&Mr(X,C,2),Es(),Kb(C,2)}if(C=Qb(g),C===null&&zb(s,l,g,ey,d),C===A)break;A=C}A!==null&&g.stopPropagation()}else zb(s,l,g,null,d)}}function Qb(s){return s=Eh(s),Zb(s)}var ey=null;function Zb(s){if(ey=null,s=ka(s),s!==null){var l=a(s);if(l===null)s=null;else{var d=l.tag;if(d===13){if(s=o(l),s!==null)return s;s=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return ey=s,null}function $M(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(et()){case Ve:return 2;case Ye:return 8;case Mt:case Tt:return 32;case j:return 268435456;default:return 32}default:return 32}}var eA=!1,su=null,ou=null,lu=null,Km=new Map,$m=new Map,cu=[],nU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function QM(s,l){switch(s){case"focusin":case"focusout":su=null;break;case"dragenter":case"dragleave":ou=null;break;case"mouseover":case"mouseout":lu=null;break;case"pointerover":case"pointerout":Km.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":$m.delete(l.pointerId)}}function Qm(s,l,d,g,A,C){return s===null||s.nativeEvent!==C?(s={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:C,targetContainers:[A]},l!==null&&(l=ls(l),l!==null&&KM(l)),s):(s.eventSystemFlags|=g,l=s.targetContainers,A!==null&&l.indexOf(A)===-1&&l.push(A),s)}function iU(s,l,d,g,A){switch(l){case"focusin":return su=Qm(su,s,l,d,g,A),!0;case"dragenter":return ou=Qm(ou,s,l,d,g,A),!0;case"mouseover":return lu=Qm(lu,s,l,d,g,A),!0;case"pointerover":var C=A.pointerId;return Km.set(C,Qm(Km.get(C)||null,s,l,d,g,A)),!0;case"gotpointercapture":return C=A.pointerId,$m.set(C,Qm($m.get(C)||null,s,l,d,g,A)),!0}return!1}function ZM(s){var l=ka(s.target);if(l!==null){var d=a(l);if(d!==null){if(l=d.tag,l===13){if(l=o(d),l!==null){s.blockedOn=l,xa(s.priority,function(){if(d.tag===13){var g=li();g=Lt(g);var A=qs(d,g);A!==null&&Mr(A,d,g),Kb(d,g)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ty(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var d=Qb(s.nativeEvent);if(d===null){d=s.nativeEvent;var g=new d.constructor(d.type,d);Sh=g,d.target.dispatchEvent(g),Sh=null}else return l=ls(d),l!==null&&KM(l),s.blockedOn=d,!1;l.shift()}return!0}function eT(s,l,d){ty(s)&&d.delete(l)}function rU(){eA=!1,su!==null&&ty(su)&&(su=null),ou!==null&&ty(ou)&&(ou=null),lu!==null&&ty(lu)&&(lu=null),Km.forEach(eT),$m.forEach(eT)}function ny(s,l){s.blockedOn===l&&(s.blockedOn=null,eA||(eA=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,rU)))}var iy=null;function tT(s){iy!==s&&(iy=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){iy===s&&(iy=null);for(var l=0;l<s.length;l+=3){var d=s[l],g=s[l+1],A=s[l+2];if(typeof g!="function"){if(Zb(g||d)===null)continue;break}var C=ls(d);C!==null&&(s.splice(l,3),l-=3,Lm(C,{pending:!0,data:A,method:d.method,action:g},g,A))}}))}function Zm(s){function l(ee){return ny(ee,s)}su!==null&&ny(su,s),ou!==null&&ny(ou,s),lu!==null&&ny(lu,s),Km.forEach(l),$m.forEach(l);for(var d=0;d<cu.length;d++){var g=cu[d];g.blockedOn===s&&(g.blockedOn=null)}for(;0<cu.length&&(d=cu[0],d.blockedOn===null);)ZM(d),d.blockedOn===null&&cu.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var A=d[g],C=d[g+1],z=A[Qn]||null;if(typeof C=="function")z||tT(d);else if(z){var X=null;if(C&&C.hasAttribute("formAction")){if(A=C,z=C[Qn]||null)X=z.formAction;else if(Zb(A)!==null)continue}else X=z.action;typeof X=="function"?d[g+1]=X:(d.splice(g,3),g-=3),tT(d)}}}function tA(s){this._internalRoot=s}ry.prototype.render=tA.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(i(409));var d=l.current,g=li();WM(d,g,s,l,null,null)},ry.prototype.unmount=tA.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;WM(s.current,2,null,s,null,null),Es(),l[_a]=null}};function ry(s){this._internalRoot=s}ry.prototype.unstable_scheduleHydration=function(s){if(s){var l=un();s={blockedOn:null,target:s,priority:l};for(var d=0;d<cu.length&&l!==0&&l<cu[d].priority;d++);cu.splice(d,0,s),d===0&&ZM(s)}};var nT=e.version;if(nT!=="19.1.0")throw Error(i(527,nT,"19.1.0"));$.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(l),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var aU={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ay=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ay.isDisabled&&ay.supportsFiber)try{be=ay.inject(aU),Ne=ay}catch{}}return tg.createRoot=function(s,l){if(!r(s))throw Error(i(299));var d=!1,g="",A=bf,C=sd,z=Fv,X=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(A=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(z=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(X=l.unstable_transitionCallbacks)),l=YM(s,1,!1,null,null,d,g,A,C,z,X,null),s[_a]=l.current,Pb(s),new tA(l)},tg.hydrateRoot=function(s,l,d){if(!r(s))throw Error(i(299));var g=!1,A="",C=bf,z=sd,X=Fv,ee=null,_e=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(A=d.identifierPrefix),d.onUncaughtError!==void 0&&(C=d.onUncaughtError),d.onCaughtError!==void 0&&(z=d.onCaughtError),d.onRecoverableError!==void 0&&(X=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(ee=d.unstable_transitionCallbacks),d.formState!==void 0&&(_e=d.formState)),l=YM(s,1,!0,l,d??null,g,A,C,z,X,ee,_e),l.context=qM(null),d=l.current,g=li(),g=Lt(g),A=ds(g),A.callback=null,Qs(d,A,g),d=g,l.current.lanes=d,ht(l,d),il(l),s[_a]=l.current,Pb(s),new ry(l)},tg.version="19.1.0",tg}var hT;function gU(){if(hT)return rA.exports;hT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rA.exports=mU(),rA.exports}var X2=gU();const vU=({onComplete:n})=>{const[e,t]=N.useState(""),i="<Loading.../>";return N.useEffect(()=>{let r=0;const a=setInterval(()=>{t(i.substring(0,r)),r++,r>i.length&&(clearInterval(a),setTimeout(()=>{n()},1e3))},100);return()=>clearInterval(a)},[n]),J.jsxs("div",{className:"fixed inset-0 z-50 bg-black text-gray-100 flex flex-col items-center justify-center",children:[J.jsxs("div",{className:"mb-4 text-4xl font-mono font-bold",children:[e," ",J.jsx("span",{className:"animate-blink ml-1",children:" | "})]}),J.jsx("div",{className:"w-[200px] h-[2px] bg-gray-800 rounded relative overflow-hidden",children:J.jsx("div",{className:"w-[40%] h-full bg-blue-500 shadow-[0_0_15px_#3b82f6] animate-loading-bar",children:" "})})]})},yU=({menuOpen:n,setMenuOpen:e})=>(N.useEffect(()=>{document.body.style.overflowY=n?"hidden":""},[n]),J.jsx("nav",{className:"fixed top-0 w-full z-40 bg-[rgba(10, 10, 10, 0.8)] backdrop-blur-lg border-b border-white/10 shadow-lg",children:J.jsx("div",{className:"max-w-5xl mx-auto px-4",children:J.jsxs("div",{className:"flex justify-between items-center h-16",children:[J.jsxs("a",{href:"#home",className:"font-mono text-xl font-bold text-white",children:["dennis",J.jsx("span",{className:"text-blue-500",children:".tech"})]}),J.jsx("div",{className:"w-7 h-5 relative cursor-pointer z-40 md:hidden",onClick:()=>e(t=>!t),children:""}),J.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[J.jsxs("a",{href:"#home",className:"text-gray-300 hove:text-white transition-colors",children:[" ","Home"]}),J.jsx("a",{href:"#about",className:"text-gray-300 hove:text-white transition-colors",children:"About"}),J.jsx("a",{href:"#work",className:"text-gray-300 hove:text-white transition-colors",children:"Work Experience"}),J.jsx("a",{href:"#projects",className:"text-gray-300 hove:text-white transition-colors",children:"Projects"}),J.jsx("a",{href:"#contact",className:"text-gray-300 hove:text-white transition-colors",children:"Contact"})]})]})})})),xU=({menuOpen:n,setMenuOpen:e})=>J.jsxs("div",{className:`fixed top-0 left-0 w-full bg-[rgba(10, 10, 10, 0.95)] backdrop-blur-lg z-40 flex flex-col items-center justify-center transition-all duration-300 ease-in-out
                       ${n?"h-screen opacity-100 pointer-events-auto":"h-0 opacity-0 pointer-events-none"}`,children:[J.jsx("button",{onClick:()=>e(!1),className:"absolute top-6 right-6 text-white text-3xl focus:outline-none cursor-pointer","aria-label":"Close Menu",children:""}),J.jsxs("div",{className:"flex flex-col items-center space-y-8 text-center",children:[J.jsx("a",{href:"#home",className:`text-2xl font-semibold text-white my-4 hover:text-blue-400 transition-transform duration-300
                                ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-5"}`,onClick:()=>e(!1),children:"Home"}),J.jsx("a",{href:"#about",className:`text-2xl font-semibold text-white my-4 hover:text-blue-400 transition-transform duration-300
                                ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-5"}`,onClick:()=>e(!1),children:"About"}),J.jsx("a",{href:"#projects",className:`text-2xl font-semibold text-white my-4 hover:text-blue-400 transition-transform duration-300
                                ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-5"}`,onClick:()=>e(!1),children:"Projects"}),J.jsx("a",{href:"#contact",className:`text-2xl font-semibold text-white my-4 hover:text-blue-400 transition-transform duration-300
                                ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-5"}`,onClick:()=>e(!1),children:"Contact"})]})]}),o0=({children:n})=>{const e=N.useRef(null);return N.useEffect(()=>{const t=new IntersectionObserver(([i])=>{i.isIntersecting&&e.current.classList.add("visible")},{threshold:.2,rootMargin:"0px 0px -50px 0px"});return e.current&&t.observe(e.current),()=>t.disconnect()}),J.jsx("div",{ref:e,className:"reveal",children:n})},_U=()=>J.jsx("section",{id:"home",className:"min-h-screen flex items-center justify-center relative",children:J.jsx(o0,{children:J.jsxs("div",{className:"text-center z-10 px-4 max-w-4xl mx-auto",children:[J.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-green-500 to-blue-500 bg-clip-text text-transparent leading-tight",children:"Hello, I am Dennis Wong"}),J.jsx("p",{className:"text-xl md:text-2xl md:font-bold text-white mb-8 max-w-2xl mx-auto",children:"Full Stack Developer & Software Engineer"}),J.jsxs("div",{className:"flex justify-center space-x-4",children:[J.jsx("a",{href:"#projects",className:`bg-blue-600 text-white py-3 px-6 rounded font-semibold transition relative
                                overflow-hidden hover:-translate-y-0.5 hover:shadow-[0_0_15px_rgba(59, 130, 246, 0.4)]`,children:"View Projects"}),J.jsx("a",{href:"#contacts",className:`bg-black-500 border-blue-500/50 text-blue-500 py-3 px-6 rounded font-semibold transition-all 
                                duration-200 hover:-translate-y-0.5 hover:shadow-[0_0_15px_rgba(59, 130, 246, 0.2)] hover:bg-blue-500/10`,children:"Contact Me"})]})]})})}),bU=()=>{const n=["React","ReactDOM","Vite","TailwindCSS","Javascript","Typescript"],e=["NodeJS","Python","Azure","SQL","MongoDB","ThingsBoard"];return J.jsx("section",{id:"about",className:"min-h-screen flex items-center justify-center py-20",children:J.jsx(o0,{children:J.jsxs("div",{className:"max-w-3xl mx-auto px-4",children:[J.jsx("h2",{className:"text-3xl font-bold mb-8 bg-gradient-to-r from-blue-500 to-green-500 bg-clip-text text-transparent text-center",children:"About Me"}),J.jsxs("div",{className:"rounded-xl p-8 border-white/10 bg-gray-500/20 bg-opacity-90 backdrop-filter backdrop-blur-xs border hover:-translate-y-1 transition-all",children:[J.jsx("p",{className:"text-gray-300 mb-6",children:"I'm Dennis Wong, a Computer Science student at UMass Boston with a 3.9 GPA, specializing in software development and data analysis. I bring hands-on experience from roles like Prospect Research Data Assistant, where I supported scholarships by managing large data sets for organizations like Vertex and State Street. I also interned at Johnson & Johnson, where I streamlined data for a medical tool database using Excel macros. A notable project I developed is a local Weather Station, a smart, connected weather station powered by an ESP32 board and various sensors. It collects real-time environmental data, sends it to a dashboard, and uses AI to predict future weather trends based on historical data. With skills in Java, C, C++, JavaScript, and MySQL, Im eager to apply my technical expertise to a software development or data analysis role."}),J.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[J.jsxs("div",{className:"rounded-xl p-6 hover:-translate-y-1 transition-all",children:[J.jsx("h3",{className:"text-xl font-bold mb-4",children:"Frontend"}),J.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((t,i)=>J.jsx("span",{className:`bg-blue-500/10 text-blue-500 py-1 px-3 rounded-full text-sm hover:bg-blue-500/20
                                                          hover:shadow-[0_2px_8px_rgba(59, 130, 246, 0.2)] transition`,children:t},i))})]}),J.jsxs("div",{className:"rounded-xl p-6 hover:-translate-y-1 transition-all",children:[J.jsx("h3",{className:"text-xl font-bold mb-4",children:"Backend"}),J.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((t,i)=>J.jsx("span",{className:`bg-blue-500/10 text-blue-500 py-1 px-3 rounded-full text-sm hover:bg-blue-500/20
                                                          hover:shadow-[0_2px_8px_rgba(59, 130, 246, 0.2)] transition`,children:t},i))})]})]})]}),J.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8",children:[J.jsxs("div",{className:"p-6 rounded-xl border-white/10 border hover:-translate-y-1 transition-all bg-gray-500/20 bg-opacity-90 backdrop-filter backdrop-blur-xs",children:[J.jsx("h3",{className:"text-xl font-bold mb-4",children:"Education"}),J.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2",children:[J.jsxs("li",{children:[J.jsx("strong",{children:" B.S. in Computer Science - "})," University of Massachusetts Boston (2022-2025)"]}),J.jsxs("li",{children:[J.jsx("strong",{children:" Relevant Coursework - "}),"Data Structures & Algorithms | Internetworking | An Introduction to Software Engineering | Operating Systems | Computer Architecture & Organization"]}),J.jsxs("li",{children:[J.jsx("strong",{children:" Organizations & Awards - "}),"MathWorks Scholars, Dean's Academic Recognition List in the Honors College, Chancellor's Scholarship"]})]})]}),J.jsxs("div",{className:"p-6 rounded-xl border-white/10 border hover:-translate-y-1 transition-all bg-gray-500/20 bg-opacity-90 backdrop-filter backdrop-blur-xs",children:[J.jsx("h3",{className:"text-xl font-bold mb-4",children:"Professional Experience"}),J.jsxs("div",{className:"space-y-4 text-gray-300",children:[J.jsxs("div",{children:[J.jsx("h4",{children:J.jsx("strong",{children:" Prospect Research Data Assistant at UMass Boston (Feb 2023 - Present) "})}),J.jsx("p",{children:" Conducted data analysis on individuals and corporations to identify donors and prospects. "})]}),J.jsxs("div",{children:[J.jsx("h4",{children:J.jsx("strong",{children:" Biocompatibility & Toxicology Researcher (Feb 2021 - May 2021) "})}),J.jsx("p",{children:" Developed and refined a database to record safety on medical devices. "})]})]})]})]})]})})})},AU=()=>J.jsx("section",{id:"projects",className:"min-h-screen flex items-center justify-center py-20",children:J.jsx(o0,{children:J.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[J.jsx("h2",{className:"text-3xl font-bold mb-8 bg-gradient-to-r from-blue-500 to-green-500 bg-clip-text text-transparent text-center",children:" Featured Projects "}),J.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[J.jsxs("div",{className:"p-6 rounded-xl border border-white/10 hover:-translate-y-1 hover:border-blue-500/30 hover:shadow-[0_2px_8px_rgba(59, 130, 246, 0.2)] transition bg-gray-500/20 bg-opacity-90 backdrop-filter backdrop-blur-xs",children:[J.jsx("h3",{className:"text-xl font-bold mb-2",children:" Weather Station "}),J.jsx("p",{className:"text-white-400 mb-4",children:"A smart, connected weather station powered by an ESP32 board and various sensors. It collects real-time environmental data, sends it to a dashboard, and uses AI to predict future weather trends based on historical data."}),J.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["C++","Python","Microsoft Azure","Machine Learning"].map((n,e)=>J.jsx("span",{className:`bg-blue-500/10 text-blue-500 py-1 px-3 rounded-full text-sm hover:bg-blue-500/20
                                                          hover:shadow-[0_2px_8px_rgba(59, 130, 246, 0.1)] transition-all`,children:n},e))}),J.jsx("div",{className:"flex justify-between items-center",children:J.jsx("a",{href:"https://github.com/Gro0mp/Weather-Station",className:"text-blue-400 hover:text-blue-300 transition-colors my-4",children:"View Repository"})})]}),J.jsxs("div",{className:"p-6 rounded-xl border border-white/10 hover:-translate-y-1 hover:border-blue-500/30 hover:shadow-[0_2px_8px_rgba(59, 130, 246, 0.2)] transition bg-gray-500/20 bg-opacity-90 backdrop-filter backdrop-blur-xs",children:[J.jsx("h3",{className:"text-xl font-bold mb-2",children:" Game Search Engine "}),J.jsx("p",{className:"text-white-400 mb-4",children:"A Java-based recommendation engine that helps users discover new games based on their Steam library and preferences. The engine uses fuzzy search algorithms and tag-based analysis to provide personalized game recommendations."}),J.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Java","Data Analysis","JavaFX","Docker"].map((n,e)=>J.jsx("span",{className:`bg-blue-500/10 text-blue-500 py-1 px-3 rounded-full text-sm hover:bg-blue-500/20
                                                          hover:shadow-[0_2px_8px_rgba(59, 130, 246, 0.1)] transition-all`,children:n},e))}),J.jsx("div",{className:"flex justify-between items-center",children:J.jsx("a",{href:"https://github.com/Gro0mp/GameSearchEngine",className:"text-blue-400 hover:text-blue-300 transition-colors my-4",children:"View Repository"})})]}),J.jsxs("div",{className:"p-6 rounded-xl border border-white/10 hover:-translate-y-1 hover:border-blue-500/30 hover:shadow-[0_2px_8px_rgba(59, 130, 246, 0.2)] transition bg-gray-500/20 bg-opacity-90 backdrop-filter backdrop-blur-xs",children:[J.jsx("h3",{className:"text-xl font-bold mb-2",children:" Hearts of Iron IV Utilities "}),J.jsx("p",{className:"text-white-400 mb-4",children:"A Java-based recommendation engine that helps users discover new games based on their Steam library and preferences. The engine uses fuzzy search algorithms and tag-based analysis to provide personalized game recommendations."}),J.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Java","Data Analysis","JavaFX","Docker"].map((n,e)=>J.jsx("span",{className:`bg-blue-500/10 text-blue-500 py-1 px-3 rounded-full text-sm hover:bg-blue-500/20
                                                          hover:shadow-[0_2px_8px_rgba(59, 130, 246, 0.1)] transition-all`,children:n},e))}),J.jsx("div",{className:"flex justify-between items-center",children:J.jsx("a",{href:"https://github.com/Gro0mp/GameSearchEngine",className:"text-blue-400 hover:text-blue-300 transition-colors my-4",children:"View Repository"})})]})]})]})})}),jg={_origin:"https://api.emailjs.com"},SU=(n,e="https://api.emailjs.com")=>{jg._userID=n,jg._origin=e},Y2=(n,e,t)=>{if(!n)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class dT{constructor(e){this.status=e.status,this.text=e.responseText}}const q2=(n,e,t={})=>new Promise((i,r)=>{const a=new XMLHttpRequest;a.addEventListener("load",({target:o})=>{const c=new dT(o);c.status===200||c.text==="OK"?i(c):r(c)}),a.addEventListener("error",({target:o})=>{r(new dT(o))}),a.open("POST",jg._origin+n,!0),Object.keys(t).forEach(o=>{a.setRequestHeader(o,t[o])}),a.send(e)}),EU=(n,e,t,i)=>{const r=i||jg._userID;return Y2(r,n,e),q2("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:r,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})},MU=n=>{let e;if(typeof n=="string"?e=document.querySelector(n):e=n,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},TU=(n,e,t,i)=>{const r=i||jg._userID,a=MU(t);Y2(r,n,e);const o=new FormData(a);return o.append("lib_version","3.2.0"),o.append("service_id",n),o.append("template_id",e),o.append("user_id",r),q2("/api/v1.0/email/send-form",o)},CU={init:SU,send:EU,sendForm:TU},wU=()=>{const[n,e]=N.useState({name:"",email:"",message:""}),t=i=>{i.preventDefault(),CU.sendForm("service_nbmyx6d","template_10zndbn",i.target,"wESNT5IROq61fZ-In").then(r=>{alert("Message Sent Successfully"),e({name:"",email:"",message:""})}).catch(()=>{alert("Message Error")})};return J.jsx("section",{id:"contact",className:"min-h-screen flex items-center justify-center py-20",children:J.jsx(o0,{children:J.jsxs("div",{className:"px-4 w-150",children:[J.jsx("h2",{className:"text-3xl font-bold mb-8 bg-gradient-to-r from-blue-500 to-green-500 bg-clip-text text-transparent text-center",children:"Get In Touch!"}),J.jsxs("form",{className:"space-y-6",onSubmit:t,children:[J.jsx("div",{className:"relative",children:J.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:n.name,className:"w-full bg-white/5 border border-white/10 rounded px-4 py-3 text-white transition focus:outline-none focus:border-blue-500 focus:bg-blue-500/5",placeholder:"Name...",onChange:i=>e({...n,name:i.target.value})})}),J.jsx("div",{className:"relative",children:J.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:n.email,className:"w-full bg-white/5 border border-white/10 rounded px-4 py-3 text-white transition focus:outline-none focus:border-blue-500 focus:bg-blue-500/5",placeholder:"example@gmail.com",onChange:i=>e({...n,email:i.target.value})})}),J.jsx("div",{className:"relative",children:J.jsx("textarea",{id:"message",name:"message",rows:5,value:n.message,className:"w-full bg-white/5 border border-white/10 rounded px-4 py-3 text-white transition focus:outline-none focus:border-blue-500 focus:bg-blue-500/5",placeholder:"Message...",onChange:i=>e({...n,message:i.target.value})})}),J.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-3 px-6 rounded font-medium transition relative overflow-hidden hover:-translate-y-0.5 hover:shadow-[0_0_15px_rgba(59, 130, 246, 0.4)] hover:bg-blue-500/10] cursor-pointer",children:"Send Message"})]})]})})})},RU=()=>J.jsx("section",{id:"work",className:"min-h-screen flex items-center justify-center py-20",children:J.jsx(o0,{children:J.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[J.jsx("h2",{className:"text-3xl font-bold mb-8 bg-gradient-to-r from-blue-500 to-green-500 bg-clip-text text-transparent text-center",children:" Work Experience "}),J.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[J.jsxs("div",{className:"p-6 rounded-xl border border-white/10 hover:-translate-y-1 hover:border-blue-500/30 hover:shadow-[0_2px_8px_rgba(59, 130, 246, 0.2)] transition bg-gray-500/20 bg-opacity-90 backdrop-filter backdrop-blur-xs",children:[J.jsx("h3",{className:"text-xl font-bold mb-2",children:" Prospect Research Data Assistant "}),J.jsx("p",{className:"text-white-400 mb-4",children:J.jsxs("ul",{className:"list-disc list-inside",children:[J.jsx("li",{children:"Conducted in-depth research on individuals, foundations, and corporations to identify potential donors and prospects"}),J.jsx("li",{children:"Analyzed and interpreted data to prepare reports on donor giving patterns and interests"}),J.jsx("li",{children:"Maintained accurate and up-to-date donor and prospect information in our advance database."})]})}),J.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Data Analysis","Data Management","MySQL","Excel"].map((n,e)=>J.jsx("span",{className:`bg-blue-500/10 text-blue-500 py-1 px-3 rounded-full text-sm hover:bg-blue-500/20
                                                          hover:shadow-[0_2px_8px_rgba(59, 130, 246, 0.1)] transition-all`,children:n},e))})]}),J.jsxs("div",{className:"p-6 rounded-xl border border-white/10 hover:-translate-y-1 hover:border-blue-500/30 hover:shadow-[0_2px_8px_rgba(59, 130, 246, 0.2)] transition bg-gray-500/20 bg-opacity-90 backdrop-filter backdrop-blur-xs",children:[J.jsx("h3",{className:"text-xl font-bold mb-2",children:" Biocompatibility & Toxicology Research Intern "}),J.jsx("p",{className:"text-white-400 mb-4",children:J.jsxs("ul",{className:"list-disc list-inside",children:[J.jsx("li",{children:"Discussed with managers at Johnson & Johnson on how to refine the database to be increasingly efficient and improve user experience."}),J.jsx("li",{children:"Scanned experimental documentation containing information under which medical tools are tested in."}),J.jsx("li",{children:"Efficiently and properly recorded the data stored in the medical device documents. And ensure that it is understandable to future employees at Johnson & Johnson."})]})}),J.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Data Analysis","Data Management","MySQL","Excel"].map((n,e)=>J.jsx("span",{className:`bg-blue-500/10 text-blue-500 py-1 px-3 rounded-full text-sm hover:bg-blue-500/20
                                                          hover:shadow-[0_2px_8px_rgba(59, 130, 246, 0.1)] transition-all`,children:n},e))})]})]})]})})});/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pT="popstate";function BU(n={}){function e(i,r){let{pathname:a,search:o,hash:c}=i.location;return QS("",{pathname:a,search:o,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Xg(r)}return OU(e,t,null,n)}function _i(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ul(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DU(){return Math.random().toString(36).substring(2,10)}function mT(n,e){return{usr:n.state,key:n.key,idx:e}}function QS(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ep(e):e,state:t,key:e&&e.key||i||DU()}}function Xg({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ep(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function OU(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,o=r.history,c="POP",f=null,p=m();p==null&&(p=0,o.replaceState({...o.state,idx:p},""));function m(){return(o.state||{idx:null}).idx}function v(){c="POP";let M=m(),b=M==null?null:M-p;p=M,f&&f({action:c,location:T.location,delta:b})}function x(M,b){c="PUSH";let R=QS(T.location,M,b);p=m()+1;let B=mT(R,p),D=T.createHref(R);try{o.pushState(B,"",D)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;r.location.assign(D)}a&&f&&f({action:c,location:T.location,delta:1})}function _(M,b){c="REPLACE";let R=QS(T.location,M,b);p=m();let B=mT(R,p),D=T.createHref(R);o.replaceState(B,"",D),a&&f&&f({action:c,location:T.location,delta:0})}function S(M){return NU(M)}let T={get action(){return c},get location(){return n(r,o)},listen(M){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(pT,v),f=M,()=>{r.removeEventListener(pT,v),f=null}},createHref(M){return e(r,M)},createURL:S,encodeLocation(M){let b=S(M);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:x,replace:_,go(M){return o.go(M)}};return T}function NU(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),_i(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Xg(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function W2(n,e,t="/"){return UU(n,e,t,!1)}function UU(n,e,t,i){let r=typeof e=="string"?Ep(e):e,a=cc(r.pathname||"/",t);if(a==null)return null;let o=J2(n);LU(o);let c=null;for(let f=0;c==null&&f<o.length;++f){let p=YU(a);c=jU(o[f],p,i)}return c}function J2(n,e=[],t=[],i=""){let r=(a,o,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};f.relativePath.startsWith("/")&&(_i(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let p=nc([i,f.relativePath]),m=t.concat(f);a.children&&a.children.length>0&&(_i(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),J2(a.children,e,m,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:VU(p,a.index),routesMeta:m})};return n.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))r(a,o);else for(let f of K2(a.path))r(a,o,f)}),e}function K2(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let o=K2(i.join("/")),c=[];return c.push(...o.map(f=>f===""?a:[a,f].join("/"))),r&&c.push(...o),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function LU(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:kU(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var IU=/^:[\w-]+$/,PU=3,zU=2,FU=1,HU=10,GU=-2,gT=n=>n==="*";function VU(n,e){let t=n.split("/"),i=t.length;return t.some(gT)&&(i+=GU),e&&(i+=zU),t.filter(r=>!gT(r)).reduce((r,a)=>r+(IU.test(a)?PU:a===""?FU:HU),i)}function kU(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function jU(n,e,t=!1){let{routesMeta:i}=n,r={},a="/",o=[];for(let c=0;c<i.length;++c){let f=i[c],p=c===i.length-1,m=a==="/"?e:e.slice(a.length)||"/",v=vx({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},m),x=f.route;if(!v&&p&&t&&!i[i.length-1].route.index&&(v=vx({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!v)return null;Object.assign(r,v.params),o.push({params:r,pathname:nc([a,v.pathname]),pathnameBase:KU(nc([a,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(a=nc([a,v.pathnameBase]))}return o}function vx(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=XU(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((p,{paramName:m,isOptional:v},x)=>{if(m==="*"){let S=c[x]||"";o=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const _=c[x];return v&&!_?p[m]=void 0:p[m]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:o,pattern:n}}function XU(n,e=!1,t=!0){ul(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,f)=>(i.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function YU(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ul(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function cc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function qU(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Ep(n):n;return{pathname:t?t.startsWith("/")?t:WU(t,e):e,search:$U(i),hash:QU(r)}}function WU(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function lA(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JU(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function $2(n){let e=JU(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Q2(n,e,t,i=!1){let r;typeof n=="string"?r=Ep(n):(r={...n},_i(!r.pathname||!r.pathname.includes("?"),lA("?","pathname","search",r)),_i(!r.pathname||!r.pathname.includes("#"),lA("#","pathname","hash",r)),_i(!r.search||!r.search.includes("#"),lA("#","search","hash",r)));let a=n===""||r.pathname==="",o=a?"/":r.pathname,c;if(o==null)c=t;else{let v=e.length-1;if(!i&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),v-=1;r.pathname=x.join("/")}c=v>=0?e[v]:"/"}let f=qU(r,c),p=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||m)&&(f.pathname+="/"),f}var nc=n=>n.join("/").replace(/\/\/+/g,"/"),KU=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),$U=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,QU=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function ZU(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Z2=["POST","PUT","PATCH","DELETE"];new Set(Z2);var eL=["GET",...Z2];new Set(eL);var Mp=N.createContext(null);Mp.displayName="DataRouter";var T_=N.createContext(null);T_.displayName="DataRouterState";N.createContext(!1);var eB=N.createContext({isTransitioning:!1});eB.displayName="ViewTransition";var tL=N.createContext(new Map);tL.displayName="Fetchers";var nL=N.createContext(null);nL.displayName="Await";var ml=N.createContext(null);ml.displayName="Navigation";var l0=N.createContext(null);l0.displayName="Location";var pc=N.createContext({outlet:null,matches:[],isDataRoute:!1});pc.displayName="Route";var K1=N.createContext(null);K1.displayName="RouteError";function iL(n,{relative:e}={}){_i(c0(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=N.useContext(ml),{hash:r,pathname:a,search:o}=u0(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:nc([t,a])),i.createHref({pathname:c,search:o,hash:r})}function c0(){return N.useContext(l0)!=null}function Ou(){return _i(c0(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(l0).location}var tB="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nB(n){N.useContext(ml).static||N.useLayoutEffect(n)}function $1(){let{isDataRoute:n}=N.useContext(pc);return n?gL():rL()}function rL(){_i(c0(),"useNavigate() may be used only in the context of a <Router> component.");let n=N.useContext(Mp),{basename:e,navigator:t}=N.useContext(ml),{matches:i}=N.useContext(pc),{pathname:r}=Ou(),a=JSON.stringify($2(i)),o=N.useRef(!1);return nB(()=>{o.current=!0}),N.useCallback((f,p={})=>{if(ul(o.current,tB),!o.current)return;if(typeof f=="number"){t.go(f);return}let m=Q2(f,JSON.parse(a),r,p.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:nc([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,a,r,n])}N.createContext(null);function u0(n,{relative:e}={}){let{matches:t}=N.useContext(pc),{pathname:i}=Ou(),r=JSON.stringify($2(t));return N.useMemo(()=>Q2(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function aL(n,e){return iB(n,e)}function iB(n,e,t,i){var b;_i(c0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=N.useContext(ml),{matches:a}=N.useContext(pc),o=a[a.length-1],c=o?o.params:{},f=o?o.pathname:"/",p=o?o.pathnameBase:"/",m=o&&o.route;{let R=m&&m.path||"";rB(f,!m||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let v=Ou(),x;if(e){let R=typeof e=="string"?Ep(e):e;_i(p==="/"||((b=R.pathname)==null?void 0:b.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${R.pathname}" was given in the \`location\` prop.`),x=R}else x=v;let _=x.pathname||"/",S=_;if(p!=="/"){let R=p.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(R.length).join("/")}let T=W2(n,{pathname:S});ul(m||T!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ul(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=uL(T&&T.map(R=>Object.assign({},R,{params:Object.assign({},c,R.params),pathname:nc([p,r.encodeLocation?r.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:nc([p,r.encodeLocation?r.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),a,t,i);return e&&M?N.createElement(l0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},M):M}function sL(){let n=mL(),e=ZU(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:r},t):null,o)}var oL=N.createElement(sL,null),lL=class extends N.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?N.createElement(pc.Provider,{value:this.props.routeContext},N.createElement(K1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cL({routeContext:n,match:e,children:t}){let i=N.useContext(Mp);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(pc.Provider,{value:n},t)}function uL(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,a=t==null?void 0:t.errors;if(a!=null){let f=r.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);_i(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let o=!1,c=-1;if(t)for(let f=0;f<r.length;f++){let p=r[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:m,errors:v}=t,x=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||x){o=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((f,p,m)=>{let v,x=!1,_=null,S=null;t&&(v=a&&p.route.id?a[p.route.id]:void 0,_=p.route.errorElement||oL,o&&(c<0&&m===0?(rB("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,S=null):c===m&&(x=!0,S=p.route.hydrateFallbackElement||null)));let T=e.concat(r.slice(0,m+1)),M=()=>{let b;return v?b=_:x?b=S:p.route.Component?b=N.createElement(p.route.Component,null):p.route.element?b=p.route.element:b=f,N.createElement(cL,{match:p,routeContext:{outlet:f,matches:T,isDataRoute:t!=null},children:b})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?N.createElement(lL,{location:t.location,revalidation:t.revalidation,component:_,error:v,children:M(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):M()},null)}function Q1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fL(n){let e=N.useContext(Mp);return _i(e,Q1(n)),e}function hL(n){let e=N.useContext(T_);return _i(e,Q1(n)),e}function dL(n){let e=N.useContext(pc);return _i(e,Q1(n)),e}function Z1(n){let e=dL(n),t=e.matches[e.matches.length-1];return _i(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function pL(){return Z1("useRouteId")}function mL(){var i;let n=N.useContext(K1),e=hL("useRouteError"),t=Z1("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function gL(){let{router:n}=fL("useNavigate"),e=Z1("useNavigate"),t=N.useRef(!1);return nB(()=>{t.current=!0}),N.useCallback(async(r,a={})=>{ul(t.current,tB),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...a}))},[n,e])}var vT={};function rB(n,e,t){!e&&!vT[n]&&(vT[n]=!0,ul(!1,t))}N.memo(vL);function vL({routes:n,future:e,state:t}){return iB(n,void 0,t,e)}function Xf(n){_i(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yL({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:a=!1}){_i(!c0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:o,navigator:r,static:a,future:{}}),[o,r,a]);typeof t=="string"&&(t=Ep(t));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:x="default"}=t,_=N.useMemo(()=>{let S=cc(f,o);return S==null?null:{location:{pathname:S,search:p,hash:m,state:v,key:x},navigationType:i}},[o,f,p,m,v,x,i]);return ul(_!=null,`<Router basename="${o}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:N.createElement(ml.Provider,{value:c},N.createElement(l0.Provider,{children:e,value:_}))}function xL({children:n,location:e}){return aL(ZS(n),e)}function ZS(n,e=[]){let t=[];return N.Children.forEach(n,(i,r)=>{if(!N.isValidElement(i))return;let a=[...e,r];if(i.type===N.Fragment){t.push.apply(t,ZS(i.props.children,a));return}_i(i.type===Xf,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_i(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=ZS(i.props.children,a)),t.push(o)}),t}var cx="get",ux="application/x-www-form-urlencoded";function C_(n){return n!=null&&typeof n.tagName=="string"}function _L(n){return C_(n)&&n.tagName.toLowerCase()==="button"}function bL(n){return C_(n)&&n.tagName.toLowerCase()==="form"}function AL(n){return C_(n)&&n.tagName.toLowerCase()==="input"}function SL(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function EL(n,e){return n.button===0&&(!e||e==="_self")&&!SL(n)}var sy=null;function ML(){if(sy===null)try{new FormData(document.createElement("form"),0),sy=!1}catch{sy=!0}return sy}var TL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cA(n){return n!=null&&!TL.has(n)?(ul(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ux}"`),null):n}function CL(n,e){let t,i,r,a,o;if(bL(n)){let c=n.getAttribute("action");i=c?cc(c,e):null,t=n.getAttribute("method")||cx,r=cA(n.getAttribute("enctype"))||ux,a=new FormData(n)}else if(_L(n)||AL(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(i=f?cc(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||cx,r=cA(n.getAttribute("formenctype"))||cA(c.getAttribute("enctype"))||ux,a=new FormData(c,n),!ML()){let{name:p,type:m,value:v}=n;if(m==="image"){let x=p?`${p}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else p&&a.append(p,v)}}else{if(C_(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=cx,i=null,r=ux,o=n}return a&&r==="text/plain"&&(o=a,a=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function eE(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function wL(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&cc(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function RL(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BL(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function DL(n,e,t){let i=await Promise.all(n.map(async r=>{let a=e.routes[r.route.id];if(a){let o=await RL(a,t);return o.links?o.links():[]}return[]}));return LL(i.flat(1).filter(BL).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function yT(n,e,t,i,r,a){let o=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,c=(f,p)=>{var m;return t[p].pathname!==f.pathname||((m=t[p].route.path)==null?void 0:m.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>o(f,p)||c(f,p)):a==="data"?e.filter((f,p)=>{var v;let m=i.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(o(f,p)||c(f,p))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function OL(n,e,{includeHydrateFallback:t}={}){return NL(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function NL(n){return[...new Set(n)]}function UL(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function LL(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let a=JSON.stringify(UL(r));return t.has(a)||(t.add(a),i.push({key:a,link:r})),i},[])}function aB(){let n=N.useContext(Mp);return eE(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function IL(){let n=N.useContext(T_);return eE(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var tE=N.createContext(void 0);tE.displayName="FrameworkContext";function sB(){let n=N.useContext(tE);return eE(n,"You must render this element inside a <HydratedRouter> element"),n}function PL(n,e){let t=N.useContext(tE),[i,r]=N.useState(!1),[a,o]=N.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:p,onMouseLeave:m,onTouchStart:v}=e,x=N.useRef(null);N.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let T=b=>{b.forEach(R=>{o(R.isIntersecting)})},M=new IntersectionObserver(T,{threshold:.5});return x.current&&M.observe(x.current),()=>{M.disconnect()}}},[n]),N.useEffect(()=>{if(i){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[i]);let _=()=>{r(!0)},S=()=>{r(!1),o(!1)};return t?n!=="intent"?[a,x,{}]:[a,x,{onFocus:ng(c,_),onBlur:ng(f,S),onMouseEnter:ng(p,_),onMouseLeave:ng(m,S),onTouchStart:ng(v,_)}]:[!1,x,{}]}function ng(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function zL({page:n,...e}){let{router:t}=aB(),i=N.useMemo(()=>W2(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?N.createElement(HL,{page:n,matches:i,...e}):null}function FL(n){let{manifest:e,routeModules:t}=sB(),[i,r]=N.useState([]);return N.useEffect(()=>{let a=!1;return DL(n,e,t).then(o=>{a||r(o)}),()=>{a=!0}},[n,e,t]),i}function HL({page:n,matches:e,...t}){let i=Ou(),{manifest:r,routeModules:a}=sB(),{basename:o}=aB(),{loaderData:c,matches:f}=IL(),p=N.useMemo(()=>yT(n,e,f,r,i,"data"),[n,e,f,r,i]),m=N.useMemo(()=>yT(n,e,f,r,i,"assets"),[n,e,f,r,i]),v=N.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let S=new Set,T=!1;if(e.forEach(b=>{var B;let R=r.routes[b.route.id];!R||!R.hasLoader||(!p.some(D=>D.route.id===b.route.id)&&b.route.id in c&&((B=a[b.route.id])!=null&&B.shouldRevalidate)||R.hasClientLoader?T=!0:S.add(b.route.id))}),S.size===0)return[];let M=wL(n,o,"data");return T&&S.size>0&&M.searchParams.set("_routes",e.filter(b=>S.has(b.route.id)).map(b=>b.route.id).join(",")),[M.pathname+M.search]},[o,c,i,r,p,e,n,a]),x=N.useMemo(()=>OL(m,r),[m,r]),_=FL(m);return N.createElement(N.Fragment,null,v.map(S=>N.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),x.map(S=>N.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),_.map(({key:S,link:T})=>N.createElement("link",{key:S,...T})))}function GL(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var oB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oB&&(window.__reactRouterVersion="7.7.1")}catch{}function VL({basename:n,children:e,window:t}){let i=N.useRef();i.current==null&&(i.current=BU({window:t,v5Compat:!0}));let r=i.current,[a,o]=N.useState({action:r.action,location:r.location}),c=N.useCallback(f=>{N.startTransition(()=>o(f))},[o]);return N.useLayoutEffect(()=>r.listen(c),[r,c]),N.createElement(yL,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:r})}var lB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nE=N.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:a,replace:o,state:c,target:f,to:p,preventScrollReset:m,viewTransition:v,...x},_){let{basename:S}=N.useContext(ml),T=typeof p=="string"&&lB.test(p),M,b=!1;if(typeof p=="string"&&T&&(M=p,oB))try{let P=new URL(window.location.href),L=p.startsWith("//")?new URL(P.protocol+p):new URL(p),k=cc(L.pathname,S);L.origin===P.origin&&k!=null?p=k+L.search+L.hash:b=!0}catch{ul(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=iL(p,{relative:r}),[B,D,I]=PL(i,x),U=YL(p,{replace:o,state:c,target:f,preventScrollReset:m,relative:r,viewTransition:v});function F(P){e&&e(P),P.defaultPrevented||U(P)}let V=N.createElement("a",{...x,...I,href:M||R,onClick:b||a?e:F,ref:GL(_,D),target:f,"data-discover":!T&&t==="render"?"true":void 0});return B&&!T?N.createElement(N.Fragment,null,V,N.createElement(zL,{page:R})):V});nE.displayName="Link";var kL=N.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:a,to:o,viewTransition:c,children:f,...p},m){let v=u0(o,{relative:p.relative}),x=Ou(),_=N.useContext(T_),{navigator:S,basename:T}=N.useContext(ml),M=_!=null&&$L(v)&&c===!0,b=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,R=x.pathname,B=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(R=R.toLowerCase(),B=B?B.toLowerCase():null,b=b.toLowerCase()),B&&T&&(B=cc(B,T)||B);const D=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let I=R===b||!r&&R.startsWith(b)&&R.charAt(D)==="/",U=B!=null&&(B===b||!r&&B.startsWith(b)&&B.charAt(b.length)==="/"),F={isActive:I,isPending:U,isTransitioning:M},V=I?e:void 0,P;typeof i=="function"?P=i(F):P=[i,I?"active":null,U?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(F):a;return N.createElement(nE,{...p,"aria-current":V,className:P,ref:m,style:L,to:o,viewTransition:c},typeof f=="function"?f(F):f)});kL.displayName="NavLink";var jL=N.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:a,method:o=cx,action:c,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:v,...x},_)=>{let S=JL(),T=KL(c,{relative:p}),M=o.toLowerCase()==="get"?"get":"post",b=typeof c=="string"&&lB.test(c),R=B=>{if(f&&f(B),B.defaultPrevented)return;B.preventDefault();let D=B.nativeEvent.submitter,I=(D==null?void 0:D.getAttribute("formmethod"))||o;S(D||B.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:r,state:a,relative:p,preventScrollReset:m,viewTransition:v})};return N.createElement("form",{ref:_,method:M,action:T,onSubmit:i?f:R,...x,"data-discover":!b&&n==="render"?"true":void 0})});jL.displayName="Form";function XL(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cB(n){let e=N.useContext(Mp);return _i(e,XL(n)),e}function YL(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:a,viewTransition:o}={}){let c=$1(),f=Ou(),p=u0(n,{relative:a});return N.useCallback(m=>{if(EL(m,e)){m.preventDefault();let v=t!==void 0?t:Xg(f)===Xg(p);c(n,{replace:v,state:i,preventScrollReset:r,relative:a,viewTransition:o})}},[f,c,p,t,i,e,n,r,a,o])}var qL=0,WL=()=>`__${String(++qL)}__`;function JL(){let{router:n}=cB("useSubmit"),{basename:e}=N.useContext(ml),t=pL();return N.useCallback(async(i,r={})=>{let{action:a,method:o,encType:c,formData:f,body:p}=CL(i,e);if(r.navigate===!1){let m=r.fetcherKey||WL();await n.fetch(m,t,r.action||a,{preventScrollReset:r.preventScrollReset,formData:f,body:p,formMethod:r.method||o,formEncType:r.encType||c,flushSync:r.flushSync})}else await n.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:f,body:p,formMethod:r.method||o,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function KL(n,{relative:e}={}){let{basename:t}=N.useContext(ml),i=N.useContext(pc);_i(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...u0(n||".",{relative:e})},o=Ou();if(n==null){a.search=o.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(v=>v).forEach(v=>c.append("index",v));let m=c.toString();a.search=m?`?${m}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:nc([t,a.pathname])),Xg(a)}function $L(n,{relative:e}={}){let t=N.useContext(eB);_i(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=cB("useViewTransitionState"),r=u0(n,{relative:e});if(!t.isTransitioning)return!1;let a=cc(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=cc(t.nextLocation.pathname,i)||t.nextLocation.pathname;return vx(r.pathname,o)!=null||vx(r.pathname,a)!=null}var w_=j2();const QL=vh(w_),ZL=()=>{const n=$1(),[e,t]=N.useState(null),i=[{id:"array",title:"Arrays",description:"Dynamic arrays, operations, and algorithms",icon:"",color:"from-blue-600 to-blue-800",difficulty:"Beginner"},{id:"linked-list",title:"Linked Lists",description:"Singly, doubly, and circular linked lists",icon:"",color:"from-green-600 to-green-800",difficulty:"Beginner"},{id:"stack",title:"Stacks",description:"LIFO data structure and applications",icon:"",color:"from-purple-600 to-purple-800",difficulty:"Beginner"},{id:"queue",title:"Queues",description:"FIFO data structure and variations",icon:"",color:"from-yellow-600 to-yellow-800",difficulty:"Beginner"},{id:"tree",title:"Trees",description:"Binary trees, BST, AVL, and more",icon:"",color:"from-red-600 to-red-800",difficulty:"Intermediate"},{id:"graph",title:"Graphs",description:"Directed, undirected, and weighted graphs",icon:"",color:"from-indigo-600 to-indigo-800",difficulty:"Intermediate"},{id:"hash-table",title:"Hash Tables",description:"Hash maps, collision handling, and hashing",icon:"",color:"from-pink-600 to-pink-800",difficulty:"Intermediate"},{id:"heap",title:"Heaps",description:"Min heap, max heap, and priority queues",icon:"",color:"from-orange-600 to-orange-800",difficulty:"Intermediate"}],r=[{id:"sorting",title:"Sorting",description:"Bubble, merge, quick, heap sort and more",icon:"",color:"from-cyan-600 to-cyan-800",difficulty:"Beginner"},{id:"searching",title:"Searching",description:"Linear, binary, and advanced search algorithms",icon:"",color:"from-teal-600 to-teal-800",difficulty:"Beginner"},{id:"dynamic-programming",title:"Dynamic Programming",description:"Memoization, tabulation, and optimization",icon:"",color:"from-violet-600 to-violet-800",difficulty:"Advanced"},{id:"greedy",title:"Greedy Algorithms",description:"Local optimization for global solutions",icon:"",color:"from-emerald-600 to-emerald-800",difficulty:"Intermediate"},{id:"divide-conquer",title:"Divide & Conquer",description:"Break problems into smaller subproblems",icon:"",color:"from-rose-600 to-rose-800",difficulty:"Intermediate"},{id:"backtracking",title:"Backtracking",description:"Systematic solution space exploration",icon:"",color:"from-amber-600 to-amber-800",difficulty:"Advanced"}],a=(f,p)=>{n(`/dsa/${f}/${p}`)},o=f=>{switch(f){case"Beginner":return"text-green-400 bg-green-900/30";case"Intermediate":return"text-yellow-400 bg-yellow-900/30";case"Advanced":return"text-red-400 bg-red-900/30";default:return"text-gray-400 bg-gray-900/30"}},c=({item:f,type:p})=>J.jsxs("div",{className:`
                relative overflow-hidden rounded-xl bg-gradient-to-br ${f.color} 
                p-6 cursor-pointer transform transition-all duration-300 ease-out
                hover:scale-105 hover:shadow-2xl hover:shadow-black/50
                border border-gray-700/50 hover:border-gray-500/50
                ${e===f.id?"scale-105 shadow-2xl shadow-black/50":""}
            `,onClick:()=>a(p,f.id),onMouseEnter:()=>t(f.id),onMouseLeave:()=>t(null),children:[J.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white/10 rounded-full -translate-y-6 translate-x-6"}),J.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/5 rounded-full translate-y-6 -translate-x-6"}),J.jsxs("div",{className:"relative z-10",children:[J.jsxs("div",{className:"flex items-start justify-between mb-4",children:[J.jsx("div",{className:"text-4xl mb-2",children:f.icon}),J.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o(f.difficulty)}`,children:f.difficulty})]}),J.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:f.title}),J.jsx("p",{className:"text-gray-200 text-sm leading-relaxed",children:f.description}),J.jsx("div",{className:"mt-4 flex items-center text-white/80",children:J.jsx("span",{className:"text-sm font-medium",children:"Explore "})})]})]});return J.jsx("div",{className:"min-h-screen px-6 py-10 bg-black",children:J.jsxs("div",{className:"max-w-7xl mx-auto py-12",children:[J.jsxs("div",{className:"text-center mb-12",children:[J.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-white via-gray-300 to-gray-500 bg-clip-text text-transparent mb-4 h-[8rem] sm:h-[4rem]",children:"Data Structures & Algorithms"}),J.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"Master the fundamentals of computer science through interactive visualizations and explanations"})]}),J.jsxs("div",{className:"mb-16",children:[J.jsxs("div",{className:"flex items-center mb-8",children:[J.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-blue-500 to-purple-500 rounded-full mr-4"}),J.jsx("h2",{className:"text-3xl font-bold text-white",children:"Data Structures"})]}),J.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i.map(f=>J.jsx(c,{item:f,type:"data-structure"},f.id))})]}),J.jsxs("div",{className:"mb-16",children:[J.jsxs("div",{className:"flex items-center mb-8",children:[J.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-green-500 to-teal-500 rounded-full mr-4"}),J.jsx("h2",{className:"text-3xl font-bold text-white",children:"Algorithms"})]}),J.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(f=>J.jsx(c,{item:f,type:"algorithm"},f.id))})]}),J.jsx("div",{className:"text-center py-12",children:J.jsx("p",{className:"text-gray-500",children:"Click on any card to explore interactive visualizations and detailed explanations"})})]})})};/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const f0="179",eI={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},tI={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},uB=0,e1=1,fB=2,nI=3,hB=0,R_=1,tp=2,po=3,fl=0,kr=1,go=2,ic=0,ih=1,t1=2,n1=3,i1=4,dB=5,bu=100,pB=101,mB=102,gB=103,vB=104,yB=200,xB=201,_B=202,bB=203,yx=204,xx=205,AB=206,SB=207,EB=208,MB=209,TB=210,CB=211,wB=212,RB=213,BB=214,_x=0,bx=1,Ax=2,lh=3,Sx=4,Ex=5,Mx=6,Tx=7,h0=0,DB=1,OB=2,ll=0,NB=1,UB=2,LB=3,iE=4,IB=5,PB=6,zB=7,r1="attached",FB="detached",B_=300,uc=301,Tu=302,Yg=303,qg=304,Tp=306,Cu=1e3,rs=1001,lp=1002,gr=1003,D_=1004,iI=1004,Kf=1005,rI=1005,Pi=1006,np=1007,aI=1007,Ds=1008,sI=1008,Ns=1009,rE=1010,aE=1011,cp=1012,O_=1013,fc=1014,Fa=1015,Cp=1016,N_=1017,U_=1018,up=1020,sE=35902,oE=1021,lE=1022,Gr=1023,fp=1026,hp=1027,L_=1028,d0=1029,cE=1030,I_=1031,oI=1032,P_=1033,Bg=33776,Dg=33777,Og=33778,Ng=33779,Cx=35840,wx=35841,Rx=35842,Bx=35843,Dx=36196,Ox=37492,Nx=37496,Ux=37808,Lx=37809,Ix=37810,Px=37811,zx=37812,Fx=37813,Hx=37814,Gx=37815,Vx=37816,kx=37817,jx=37818,Xx=37819,Yx=37820,qx=37821,Ug=36492,Wx=36494,Jx=36495,uE=36283,Kx=36284,$x=36285,Qx=36286,HB=2200,GB=2201,VB=2202,dp=2300,pp=2301,fx=2302,$f=2400,Qf=2401,Wg=2402,z_=2500,fE=2501,kB=0,hE=1,Zx=2,jB=3200,XB=3201,lI=3202,cI=3203,Nu=0,YB=1,Ql="",Hr="srgb",wu="srgb-linear",Jg="linear",Fn="srgb",uI=0,Yf=7680,fI=7681,hI=7682,dI=7683,pI=34055,mI=34056,gI=5386,vI=512,yI=513,xI=514,_I=515,bI=516,AI=517,SI=518,a1=519,qB=512,WB=513,JB=514,dE=515,KB=516,$B=517,QB=518,ZB=519,Kg=35044,EI=35048,MI=35040,TI=35045,CI=35049,wI=35041,RI=35046,BI=35050,DI=35042,OI="100",s1="300 es",as=2e3,mp=2001,NI={COMPUTE:"compute",RENDER:"render"},UI={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},LI={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};class gl{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,o=r.length;a<o;a++)r[a].call(this,e);e.target=null}}}const Pr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let xT=1234567;const rh=Math.PI/180,gp=180/Math.PI;function ss(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Pr[n&255]+Pr[n>>8&255]+Pr[n>>16&255]+Pr[n>>24&255]+"-"+Pr[e&255]+Pr[e>>8&255]+"-"+Pr[e>>16&15|64]+Pr[e>>24&255]+"-"+Pr[t&63|128]+Pr[t>>8&255]+"-"+Pr[t>>16&255]+Pr[t>>24&255]+Pr[i&255]+Pr[i>>8&255]+Pr[i>>16&255]+Pr[i>>24&255]).toLowerCase()}function jt(n,e,t){return Math.max(e,Math.min(t,n))}function pE(n,e){return(n%e+e)%e}function II(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function PI(n,e,t){return n!==e?(t-n)/(e-n):0}function Lg(n,e,t){return(1-t)*n+t*e}function zI(n,e,t,i){return Lg(n,e,1-Math.exp(-t*i))}function FI(n,e=1){return e-Math.abs(pE(n,e*2)-e)}function HI(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function GI(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function VI(n,e){return n+Math.floor(Math.random()*(e-n+1))}function kI(n,e){return n+Math.random()*(e-n)}function jI(n){return n*(.5-Math.random())}function XI(n){n!==void 0&&(xT=n);let e=xT+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function YI(n){return n*rh}function qI(n){return n*gp}function WI(n){return(n&n-1)===0&&n!==0}function JI(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function KI(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function $I(n,e,t,i,r){const a=Math.cos,o=Math.sin,c=a(t/2),f=o(t/2),p=a((e+i)/2),m=o((e+i)/2),v=a((e-i)/2),x=o((e-i)/2),_=a((i-e)/2),S=o((i-e)/2);switch(r){case"XYX":n.set(c*m,f*v,f*x,c*p);break;case"YZY":n.set(f*x,c*m,f*v,c*p);break;case"ZXZ":n.set(f*v,f*x,c*m,c*p);break;case"XZX":n.set(c*m,f*S,f*_,c*p);break;case"YXY":n.set(f*_,c*m,f*S,c*p);break;case"ZYZ":n.set(f*S,f*_,c*m,c*p);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function va(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function rn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const mE={DEG2RAD:rh,RAD2DEG:gp,generateUUID:ss,clamp:jt,euclideanModulo:pE,mapLinear:II,inverseLerp:PI,lerp:Lg,damp:zI,pingpong:FI,smoothstep:HI,smootherstep:GI,randInt:VI,randFloat:kI,randFloatSpread:jI,seededRandom:XI,degToRad:YI,radToDeg:qI,isPowerOfTwo:WI,ceilPowerOfTwo:JI,floorPowerOfTwo:KI,setQuaternionFromProperEuler:$I,normalize:rn,denormalize:va};class Ge{constructor(e=0,t=0){Ge.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=jt(this.x,e.x,t.x),this.y=jt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=jt(this.x,e,t),this.y=jt(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(jt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(jt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),a=this.x-e.x,o=this.y-e.y;return this.x=a*i-o*r+e.x,this.y=a*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class zi{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,a,o,c){let f=i[r+0],p=i[r+1],m=i[r+2],v=i[r+3];const x=a[o+0],_=a[o+1],S=a[o+2],T=a[o+3];if(c===0){e[t+0]=f,e[t+1]=p,e[t+2]=m,e[t+3]=v;return}if(c===1){e[t+0]=x,e[t+1]=_,e[t+2]=S,e[t+3]=T;return}if(v!==T||f!==x||p!==_||m!==S){let M=1-c;const b=f*x+p*_+m*S+v*T,R=b>=0?1:-1,B=1-b*b;if(B>Number.EPSILON){const I=Math.sqrt(B),U=Math.atan2(I,b*R);M=Math.sin(M*U)/I,c=Math.sin(c*U)/I}const D=c*R;if(f=f*M+x*D,p=p*M+_*D,m=m*M+S*D,v=v*M+T*D,M===1-c){const I=1/Math.sqrt(f*f+p*p+m*m+v*v);f*=I,p*=I,m*=I,v*=I}}e[t]=f,e[t+1]=p,e[t+2]=m,e[t+3]=v}static multiplyQuaternionsFlat(e,t,i,r,a,o){const c=i[r],f=i[r+1],p=i[r+2],m=i[r+3],v=a[o],x=a[o+1],_=a[o+2],S=a[o+3];return e[t]=c*S+m*v+f*_-p*x,e[t+1]=f*S+m*x+p*v-c*_,e[t+2]=p*S+m*_+c*x-f*v,e[t+3]=m*S-c*v-f*x-p*_,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,a=e._z,o=e._order,c=Math.cos,f=Math.sin,p=c(i/2),m=c(r/2),v=c(a/2),x=f(i/2),_=f(r/2),S=f(a/2);switch(o){case"XYZ":this._x=x*m*v+p*_*S,this._y=p*_*v-x*m*S,this._z=p*m*S+x*_*v,this._w=p*m*v-x*_*S;break;case"YXZ":this._x=x*m*v+p*_*S,this._y=p*_*v-x*m*S,this._z=p*m*S-x*_*v,this._w=p*m*v+x*_*S;break;case"ZXY":this._x=x*m*v-p*_*S,this._y=p*_*v+x*m*S,this._z=p*m*S+x*_*v,this._w=p*m*v-x*_*S;break;case"ZYX":this._x=x*m*v-p*_*S,this._y=p*_*v+x*m*S,this._z=p*m*S-x*_*v,this._w=p*m*v+x*_*S;break;case"YZX":this._x=x*m*v+p*_*S,this._y=p*_*v+x*m*S,this._z=p*m*S-x*_*v,this._w=p*m*v-x*_*S;break;case"XZY":this._x=x*m*v-p*_*S,this._y=p*_*v-x*m*S,this._z=p*m*S+x*_*v,this._w=p*m*v+x*_*S;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],a=t[8],o=t[1],c=t[5],f=t[9],p=t[2],m=t[6],v=t[10],x=i+c+v;if(x>0){const _=.5/Math.sqrt(x+1);this._w=.25/_,this._x=(m-f)*_,this._y=(a-p)*_,this._z=(o-r)*_}else if(i>c&&i>v){const _=2*Math.sqrt(1+i-c-v);this._w=(m-f)/_,this._x=.25*_,this._y=(r+o)/_,this._z=(a+p)/_}else if(c>v){const _=2*Math.sqrt(1+c-i-v);this._w=(a-p)/_,this._x=(r+o)/_,this._y=.25*_,this._z=(f+m)/_}else{const _=2*Math.sqrt(1+v-i-c);this._w=(o-r)/_,this._x=(a+p)/_,this._y=(f+m)/_,this._z=.25*_}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(jt(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,a=e._z,o=e._w,c=t._x,f=t._y,p=t._z,m=t._w;return this._x=i*m+o*c+r*p-a*f,this._y=r*m+o*f+a*c-i*p,this._z=a*m+o*p+i*f-r*c,this._w=o*m-i*c-r*f-a*p,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,a=this._z,o=this._w;let c=o*e._w+i*e._x+r*e._y+a*e._z;if(c<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,c=-c):this.copy(e),c>=1)return this._w=o,this._x=i,this._y=r,this._z=a,this;const f=1-c*c;if(f<=Number.EPSILON){const _=1-t;return this._w=_*o+t*this._w,this._x=_*i+t*this._x,this._y=_*r+t*this._y,this._z=_*a+t*this._z,this.normalize(),this}const p=Math.sqrt(f),m=Math.atan2(p,c),v=Math.sin((1-t)*m)/p,x=Math.sin(t*m)/p;return this._w=o*v+this._w*x,this._x=i*v+this._x*x,this._y=r*v+this._y*x,this._z=a*v+this._z*x,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class K{constructor(e=0,t=0,i=0){K.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(_T.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(_T.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6]*r,this.y=a[1]*t+a[4]*i+a[7]*r,this.z=a[2]*t+a[5]*i+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=e.elements,o=1/(a[3]*t+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*i+a[8]*r+a[12])*o,this.y=(a[1]*t+a[5]*i+a[9]*r+a[13])*o,this.z=(a[2]*t+a[6]*i+a[10]*r+a[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,a=e.x,o=e.y,c=e.z,f=e.w,p=2*(o*r-c*i),m=2*(c*t-a*r),v=2*(a*i-o*t);return this.x=t+f*p+o*v-c*m,this.y=i+f*m+c*p-a*v,this.z=r+f*v+a*m-o*p,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r,this.y=a[1]*t+a[5]*i+a[9]*r,this.z=a[2]*t+a[6]*i+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=jt(this.x,e.x,t.x),this.y=jt(this.y,e.y,t.y),this.z=jt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=jt(this.x,e,t),this.y=jt(this.y,e,t),this.z=jt(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(jt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,a=e.z,o=t.x,c=t.y,f=t.z;return this.x=r*f-a*c,this.y=a*o-i*f,this.z=i*c-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return uA.copy(this).projectOnVector(e),this.sub(uA)}reflect(e){return this.sub(uA.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(jt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const uA=new K,_T=new zi;class tn{constructor(e,t,i,r,a,o,c,f,p){tn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,a,o,c,f,p)}set(e,t,i,r,a,o,c,f,p){const m=this.elements;return m[0]=e,m[1]=r,m[2]=c,m[3]=t,m[4]=a,m[5]=f,m[6]=i,m[7]=o,m[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,o=i[0],c=i[3],f=i[6],p=i[1],m=i[4],v=i[7],x=i[2],_=i[5],S=i[8],T=r[0],M=r[3],b=r[6],R=r[1],B=r[4],D=r[7],I=r[2],U=r[5],F=r[8];return a[0]=o*T+c*R+f*I,a[3]=o*M+c*B+f*U,a[6]=o*b+c*D+f*F,a[1]=p*T+m*R+v*I,a[4]=p*M+m*B+v*U,a[7]=p*b+m*D+v*F,a[2]=x*T+_*R+S*I,a[5]=x*M+_*B+S*U,a[8]=x*b+_*D+S*F,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],o=e[4],c=e[5],f=e[6],p=e[7],m=e[8];return t*o*m-t*c*p-i*a*m+i*c*f+r*a*p-r*o*f}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],o=e[4],c=e[5],f=e[6],p=e[7],m=e[8],v=m*o-c*p,x=c*f-m*a,_=p*a-o*f,S=t*v+i*x+r*_;if(S===0)return this.set(0,0,0,0,0,0,0,0,0);const T=1/S;return e[0]=v*T,e[1]=(r*p-m*i)*T,e[2]=(c*i-r*o)*T,e[3]=x*T,e[4]=(m*t-r*f)*T,e[5]=(r*a-c*t)*T,e[6]=_*T,e[7]=(i*f-p*t)*T,e[8]=(o*t-i*a)*T,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,a,o,c){const f=Math.cos(a),p=Math.sin(a);return this.set(i*f,i*p,-i*(f*o+p*c)+o+e,-r*p,r*f,-r*(-p*o+f*c)+c+t,0,0,1),this}scale(e,t){return this.premultiply(fA.makeScale(e,t)),this}rotate(e){return this.premultiply(fA.makeRotation(-e)),this}translate(e,t){return this.premultiply(fA.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const fA=new tn;function eD(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const QI={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Qd(n,e){return new QI[n](e)}function $g(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function tD(){const n=$g("canvas");return n.style.display="block",n}const bT={};function ip(n){n in bT||(bT[n]=!0,console.warn(n))}function ZI(n,e,t){return new Promise(function(i,r){function a(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:i()}}setTimeout(a,t)})}const AT=new tn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),ST=new tn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function eP(){const n={enabled:!0,workingColorSpace:wu,spaces:{},convert:function(r,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===Fn&&(r.r=rc(r.r),r.g=rc(r.g),r.b=rc(r.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Fn&&(r.r=rp(r.r),r.g=rp(r.g),r.b=rp(r.b))),r},workingToColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},colorSpaceToWorking:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Ql?Jg:this.spaces[r].transfer},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,o){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,a){return ip("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(r,a)},toWorkingColorSpace:function(r,a){return ip("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(r,a)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[wu]:{primaries:e,whitePoint:i,transfer:Jg,toXYZ:AT,fromXYZ:ST,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Hr},outputColorSpaceConfig:{drawingBufferColorSpace:Hr}},[Hr]:{primaries:e,whitePoint:i,transfer:Fn,toXYZ:AT,fromXYZ:ST,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Hr}}}),n}const bn=eP();function rc(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function rp(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Sd;class nD{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Sd===void 0&&(Sd=$g("canvas")),Sd.width=e.width,Sd.height=e.height;const r=Sd.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=Sd}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=$g("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),a=r.data;for(let o=0;o<a.length;o++)a[o]=rc(a[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(rc(t[i]/255)*255):t[i]=rc(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let tP=0;class Su{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:tP++}),this.uuid=ss(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let o=0,c=r.length;o<c;o++)r[o].isDataTexture?a.push(hA(r[o].image)):a.push(hA(r[o]))}else a=hA(r);i.url=a}return t||(e.images[this.uuid]=i),i}}function hA(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?nD.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let nP=0;const dA=new K;class ui extends gl{constructor(e=ui.DEFAULT_IMAGE,t=ui.DEFAULT_MAPPING,i=rs,r=rs,a=Pi,o=Ds,c=Gr,f=Ns,p=ui.DEFAULT_ANISOTROPY,m=Ql){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:nP++}),this.uuid=ss(),this.name="",this.source=new Su(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=o,this.anisotropy=p,this.format=c,this.internalFormat=null,this.type=f,this.offset=new Ge(0,0),this.repeat=new Ge(1,1),this.center=new Ge(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new tn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(dA).x}get height(){return this.source.getSize(dA).y}get depth(){return this.source.getSize(dA).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==B_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Cu:e.x=e.x-Math.floor(e.x);break;case rs:e.x=e.x<0?0:1;break;case lp:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Cu:e.y=e.y-Math.floor(e.y);break;case rs:e.y=e.y<0?0:1;break;case lp:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ui.DEFAULT_IMAGE=null;ui.DEFAULT_MAPPING=B_;ui.DEFAULT_ANISOTROPY=1;class mn{constructor(e=0,t=0,i=0,r=1){mn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*a,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*a,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*a,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,a;const f=e.elements,p=f[0],m=f[4],v=f[8],x=f[1],_=f[5],S=f[9],T=f[2],M=f[6],b=f[10];if(Math.abs(m-x)<.01&&Math.abs(v-T)<.01&&Math.abs(S-M)<.01){if(Math.abs(m+x)<.1&&Math.abs(v+T)<.1&&Math.abs(S+M)<.1&&Math.abs(p+_+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const B=(p+1)/2,D=(_+1)/2,I=(b+1)/2,U=(m+x)/4,F=(v+T)/4,V=(S+M)/4;return B>D&&B>I?B<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(B),r=U/i,a=F/i):D>I?D<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(D),i=U/r,a=V/r):I<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(I),i=F/a,r=V/a),this.set(i,r,a,t),this}let R=Math.sqrt((M-S)*(M-S)+(v-T)*(v-T)+(x-m)*(x-m));return Math.abs(R)<.001&&(R=1),this.x=(M-S)/R,this.y=(v-T)/R,this.z=(x-m)/R,this.w=Math.acos((p+_+b-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=jt(this.x,e.x,t.x),this.y=jt(this.y,e.y,t.y),this.z=jt(this.z,e.z,t.z),this.w=jt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=jt(this.x,e,t),this.y=jt(this.y,e,t),this.z=jt(this.z,e,t),this.w=jt(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(jt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class gE extends gl{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Pi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new mn(0,0,e,t),this.scissorTest=!1,this.viewport=new mn(0,0,e,t);const r={width:e,height:t,depth:i.depth},a=new ui(r);this.textures=[];const o=i.count;for(let c=0;c<o;c++)this.textures[c]=a.clone(),this.textures[c].isRenderTargetTexture=!0,this.textures[c].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:Pi,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new Su(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class hl extends gE{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class F_ extends ui{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=gr,this.minFilter=gr,this.wrapR=rs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class iP extends hl{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new F_(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class H_ extends ui{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=gr,this.minFilter=gr,this.wrapR=rs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class rP extends hl{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new H_(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class Cr{constructor(e=new K(1/0,1/0,1/0),t=new K(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(co.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(co.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=co.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,c=a.count;o<c;o++)e.isMesh===!0?e.getVertexPosition(o,co):co.fromBufferAttribute(a,o),co.applyMatrix4(e.matrixWorld),this.expandByPoint(co);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),oy.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),oy.copy(i.boundingBox)),oy.applyMatrix4(e.matrixWorld),this.union(oy)}const r=e.children;for(let a=0,o=r.length;a<o;a++)this.expandByObject(r[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,co),co.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ig),ly.subVectors(this.max,ig),Ed.subVectors(e.a,ig),Md.subVectors(e.b,ig),Td.subVectors(e.c,ig),fu.subVectors(Md,Ed),hu.subVectors(Td,Md),Rf.subVectors(Ed,Td);let t=[0,-fu.z,fu.y,0,-hu.z,hu.y,0,-Rf.z,Rf.y,fu.z,0,-fu.x,hu.z,0,-hu.x,Rf.z,0,-Rf.x,-fu.y,fu.x,0,-hu.y,hu.x,0,-Rf.y,Rf.x,0];return!pA(t,Ed,Md,Td,ly)||(t=[1,0,0,0,1,0,0,0,1],!pA(t,Ed,Md,Td,ly))?!1:(cy.crossVectors(fu,hu),t=[cy.x,cy.y,cy.z],pA(t,Ed,Md,Td,ly))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,co).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(co).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Gl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Gl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Gl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Gl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Gl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Gl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Gl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Gl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Gl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Gl=[new K,new K,new K,new K,new K,new K,new K,new K],co=new K,oy=new Cr,Ed=new K,Md=new K,Td=new K,fu=new K,hu=new K,Rf=new K,ig=new K,ly=new K,cy=new K,Bf=new K;function pA(n,e,t,i,r){for(let a=0,o=n.length-3;a<=o;a+=3){Bf.fromArray(n,a);const c=r.x*Math.abs(Bf.x)+r.y*Math.abs(Bf.y)+r.z*Math.abs(Bf.z),f=e.dot(Bf),p=t.dot(Bf),m=i.dot(Bf);if(Math.max(-Math.max(f,p,m),Math.min(f,p,m))>c)return!1}return!0}const aP=new Cr,rg=new K,mA=new K;let vr=class{constructor(e=new K,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):aP.setFromPoints(e).getCenter(i);let r=0;for(let a=0,o=e.length;a<o;a++)r=Math.max(r,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;rg.subVectors(e,this.center);const t=rg.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(rg,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(mA.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(rg.copy(e.center).add(mA)),this.expandByPoint(rg.copy(e.center).sub(mA))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}};const Vl=new K,gA=new K,uy=new K,du=new K,vA=new K,fy=new K,yA=new K;class wp{constructor(e=new K,t=new K(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Vl)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Vl.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Vl.copy(this.origin).addScaledVector(this.direction,t),Vl.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){gA.copy(e).add(t).multiplyScalar(.5),uy.copy(t).sub(e).normalize(),du.copy(this.origin).sub(gA);const a=e.distanceTo(t)*.5,o=-this.direction.dot(uy),c=du.dot(this.direction),f=-du.dot(uy),p=du.lengthSq(),m=Math.abs(1-o*o);let v,x,_,S;if(m>0)if(v=o*f-c,x=o*c-f,S=a*m,v>=0)if(x>=-S)if(x<=S){const T=1/m;v*=T,x*=T,_=v*(v+o*x+2*c)+x*(o*v+x+2*f)+p}else x=a,v=Math.max(0,-(o*x+c)),_=-v*v+x*(x+2*f)+p;else x=-a,v=Math.max(0,-(o*x+c)),_=-v*v+x*(x+2*f)+p;else x<=-S?(v=Math.max(0,-(-o*a+c)),x=v>0?-a:Math.min(Math.max(-a,-f),a),_=-v*v+x*(x+2*f)+p):x<=S?(v=0,x=Math.min(Math.max(-a,-f),a),_=x*(x+2*f)+p):(v=Math.max(0,-(o*a+c)),x=v>0?a:Math.min(Math.max(-a,-f),a),_=-v*v+x*(x+2*f)+p);else x=o>0?-a:a,v=Math.max(0,-(o*x+c)),_=-v*v+x*(x+2*f)+p;return i&&i.copy(this.origin).addScaledVector(this.direction,v),r&&r.copy(gA).addScaledVector(uy,x),_}intersectSphere(e,t){Vl.subVectors(e.center,this.origin);const i=Vl.dot(this.direction),r=Vl.dot(Vl)-i*i,a=e.radius*e.radius;if(r>a)return null;const o=Math.sqrt(a-r),c=i-o,f=i+o;return f<0?null:c<0?this.at(f,t):this.at(c,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,a,o,c,f;const p=1/this.direction.x,m=1/this.direction.y,v=1/this.direction.z,x=this.origin;return p>=0?(i=(e.min.x-x.x)*p,r=(e.max.x-x.x)*p):(i=(e.max.x-x.x)*p,r=(e.min.x-x.x)*p),m>=0?(a=(e.min.y-x.y)*m,o=(e.max.y-x.y)*m):(a=(e.max.y-x.y)*m,o=(e.min.y-x.y)*m),i>o||a>r||((a>i||isNaN(i))&&(i=a),(o<r||isNaN(r))&&(r=o),v>=0?(c=(e.min.z-x.z)*v,f=(e.max.z-x.z)*v):(c=(e.max.z-x.z)*v,f=(e.min.z-x.z)*v),i>f||c>r)||((c>i||i!==i)&&(i=c),(f<r||r!==r)&&(r=f),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Vl)!==null}intersectTriangle(e,t,i,r,a){vA.subVectors(t,e),fy.subVectors(i,e),yA.crossVectors(vA,fy);let o=this.direction.dot(yA),c;if(o>0){if(r)return null;c=1}else if(o<0)c=-1,o=-o;else return null;du.subVectors(this.origin,e);const f=c*this.direction.dot(fy.crossVectors(du,fy));if(f<0)return null;const p=c*this.direction.dot(vA.cross(du));if(p<0||f+p>o)return null;const m=-c*du.dot(yA);return m<0?null:this.at(m/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ot{constructor(e,t,i,r,a,o,c,f,p,m,v,x,_,S,T,M){Ot.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,a,o,c,f,p,m,v,x,_,S,T,M)}set(e,t,i,r,a,o,c,f,p,m,v,x,_,S,T,M){const b=this.elements;return b[0]=e,b[4]=t,b[8]=i,b[12]=r,b[1]=a,b[5]=o,b[9]=c,b[13]=f,b[2]=p,b[6]=m,b[10]=v,b[14]=x,b[3]=_,b[7]=S,b[11]=T,b[15]=M,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ot().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Cd.setFromMatrixColumn(e,0).length(),a=1/Cd.setFromMatrixColumn(e,1).length(),o=1/Cd.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*a,t[5]=i[5]*a,t[6]=i[6]*a,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,a=e.z,o=Math.cos(i),c=Math.sin(i),f=Math.cos(r),p=Math.sin(r),m=Math.cos(a),v=Math.sin(a);if(e.order==="XYZ"){const x=o*m,_=o*v,S=c*m,T=c*v;t[0]=f*m,t[4]=-f*v,t[8]=p,t[1]=_+S*p,t[5]=x-T*p,t[9]=-c*f,t[2]=T-x*p,t[6]=S+_*p,t[10]=o*f}else if(e.order==="YXZ"){const x=f*m,_=f*v,S=p*m,T=p*v;t[0]=x+T*c,t[4]=S*c-_,t[8]=o*p,t[1]=o*v,t[5]=o*m,t[9]=-c,t[2]=_*c-S,t[6]=T+x*c,t[10]=o*f}else if(e.order==="ZXY"){const x=f*m,_=f*v,S=p*m,T=p*v;t[0]=x-T*c,t[4]=-o*v,t[8]=S+_*c,t[1]=_+S*c,t[5]=o*m,t[9]=T-x*c,t[2]=-o*p,t[6]=c,t[10]=o*f}else if(e.order==="ZYX"){const x=o*m,_=o*v,S=c*m,T=c*v;t[0]=f*m,t[4]=S*p-_,t[8]=x*p+T,t[1]=f*v,t[5]=T*p+x,t[9]=_*p-S,t[2]=-p,t[6]=c*f,t[10]=o*f}else if(e.order==="YZX"){const x=o*f,_=o*p,S=c*f,T=c*p;t[0]=f*m,t[4]=T-x*v,t[8]=S*v+_,t[1]=v,t[5]=o*m,t[9]=-c*m,t[2]=-p*m,t[6]=_*v+S,t[10]=x-T*v}else if(e.order==="XZY"){const x=o*f,_=o*p,S=c*f,T=c*p;t[0]=f*m,t[4]=-v,t[8]=p*m,t[1]=x*v+T,t[5]=o*m,t[9]=_*v-S,t[2]=S*v-_,t[6]=c*m,t[10]=T*v+x}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(sP,e,oP)}lookAt(e,t,i){const r=this.elements;return ns.subVectors(e,t),ns.lengthSq()===0&&(ns.z=1),ns.normalize(),pu.crossVectors(i,ns),pu.lengthSq()===0&&(Math.abs(i.z)===1?ns.x+=1e-4:ns.z+=1e-4,ns.normalize(),pu.crossVectors(i,ns)),pu.normalize(),hy.crossVectors(ns,pu),r[0]=pu.x,r[4]=hy.x,r[8]=ns.x,r[1]=pu.y,r[5]=hy.y,r[9]=ns.y,r[2]=pu.z,r[6]=hy.z,r[10]=ns.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,o=i[0],c=i[4],f=i[8],p=i[12],m=i[1],v=i[5],x=i[9],_=i[13],S=i[2],T=i[6],M=i[10],b=i[14],R=i[3],B=i[7],D=i[11],I=i[15],U=r[0],F=r[4],V=r[8],P=r[12],L=r[1],k=r[5],ie=r[9],te=r[13],ue=r[2],fe=r[6],G=r[10],$=r[14],Q=r[3],he=r[7],Y=r[11],ae=r[15];return a[0]=o*U+c*L+f*ue+p*Q,a[4]=o*F+c*k+f*fe+p*he,a[8]=o*V+c*ie+f*G+p*Y,a[12]=o*P+c*te+f*$+p*ae,a[1]=m*U+v*L+x*ue+_*Q,a[5]=m*F+v*k+x*fe+_*he,a[9]=m*V+v*ie+x*G+_*Y,a[13]=m*P+v*te+x*$+_*ae,a[2]=S*U+T*L+M*ue+b*Q,a[6]=S*F+T*k+M*fe+b*he,a[10]=S*V+T*ie+M*G+b*Y,a[14]=S*P+T*te+M*$+b*ae,a[3]=R*U+B*L+D*ue+I*Q,a[7]=R*F+B*k+D*fe+I*he,a[11]=R*V+B*ie+D*G+I*Y,a[15]=R*P+B*te+D*$+I*ae,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],a=e[12],o=e[1],c=e[5],f=e[9],p=e[13],m=e[2],v=e[6],x=e[10],_=e[14],S=e[3],T=e[7],M=e[11],b=e[15];return S*(+a*f*v-r*p*v-a*c*x+i*p*x+r*c*_-i*f*_)+T*(+t*f*_-t*p*x+a*o*x-r*o*_+r*p*m-a*f*m)+M*(+t*p*v-t*c*_-a*o*v+i*o*_+a*c*m-i*p*m)+b*(-r*c*m-t*f*v+t*c*x+r*o*v-i*o*x+i*f*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],o=e[4],c=e[5],f=e[6],p=e[7],m=e[8],v=e[9],x=e[10],_=e[11],S=e[12],T=e[13],M=e[14],b=e[15],R=v*M*p-T*x*p+T*f*_-c*M*_-v*f*b+c*x*b,B=S*x*p-m*M*p-S*f*_+o*M*_+m*f*b-o*x*b,D=m*T*p-S*v*p+S*c*_-o*T*_-m*c*b+o*v*b,I=S*v*f-m*T*f-S*c*x+o*T*x+m*c*M-o*v*M,U=t*R+i*B+r*D+a*I;if(U===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const F=1/U;return e[0]=R*F,e[1]=(T*x*a-v*M*a-T*r*_+i*M*_+v*r*b-i*x*b)*F,e[2]=(c*M*a-T*f*a+T*r*p-i*M*p-c*r*b+i*f*b)*F,e[3]=(v*f*a-c*x*a-v*r*p+i*x*p+c*r*_-i*f*_)*F,e[4]=B*F,e[5]=(m*M*a-S*x*a+S*r*_-t*M*_-m*r*b+t*x*b)*F,e[6]=(S*f*a-o*M*a-S*r*p+t*M*p+o*r*b-t*f*b)*F,e[7]=(o*x*a-m*f*a+m*r*p-t*x*p-o*r*_+t*f*_)*F,e[8]=D*F,e[9]=(S*v*a-m*T*a-S*i*_+t*T*_+m*i*b-t*v*b)*F,e[10]=(o*T*a-S*c*a+S*i*p-t*T*p-o*i*b+t*c*b)*F,e[11]=(m*c*a-o*v*a-m*i*p+t*v*p+o*i*_-t*c*_)*F,e[12]=I*F,e[13]=(m*T*r-S*v*r+S*i*x-t*T*x-m*i*M+t*v*M)*F,e[14]=(S*c*r-o*T*r-S*i*f+t*T*f+o*i*M-t*c*M)*F,e[15]=(o*v*r-m*c*r+m*i*f-t*v*f-o*i*x+t*c*x)*F,this}scale(e){const t=this.elements,i=e.x,r=e.y,a=e.z;return t[0]*=i,t[4]*=r,t[8]*=a,t[1]*=i,t[5]*=r,t[9]*=a,t[2]*=i,t[6]*=r,t[10]*=a,t[3]*=i,t[7]*=r,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),a=1-i,o=e.x,c=e.y,f=e.z,p=a*o,m=a*c;return this.set(p*o+i,p*c-r*f,p*f+r*c,0,p*c+r*f,m*c+i,m*f-r*o,0,p*f-r*c,m*f+r*o,a*f*f+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,a,o){return this.set(1,i,a,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,a=t._x,o=t._y,c=t._z,f=t._w,p=a+a,m=o+o,v=c+c,x=a*p,_=a*m,S=a*v,T=o*m,M=o*v,b=c*v,R=f*p,B=f*m,D=f*v,I=i.x,U=i.y,F=i.z;return r[0]=(1-(T+b))*I,r[1]=(_+D)*I,r[2]=(S-B)*I,r[3]=0,r[4]=(_-D)*U,r[5]=(1-(x+b))*U,r[6]=(M+R)*U,r[7]=0,r[8]=(S+B)*F,r[9]=(M-R)*F,r[10]=(1-(x+T))*F,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let a=Cd.set(r[0],r[1],r[2]).length();const o=Cd.set(r[4],r[5],r[6]).length(),c=Cd.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],uo.copy(this);const p=1/a,m=1/o,v=1/c;return uo.elements[0]*=p,uo.elements[1]*=p,uo.elements[2]*=p,uo.elements[4]*=m,uo.elements[5]*=m,uo.elements[6]*=m,uo.elements[8]*=v,uo.elements[9]*=v,uo.elements[10]*=v,t.setFromRotationMatrix(uo),i.x=a,i.y=o,i.z=c,this}makePerspective(e,t,i,r,a,o,c=as,f=!1){const p=this.elements,m=2*a/(t-e),v=2*a/(i-r),x=(t+e)/(t-e),_=(i+r)/(i-r);let S,T;if(f)S=a/(o-a),T=o*a/(o-a);else if(c===as)S=-(o+a)/(o-a),T=-2*o*a/(o-a);else if(c===mp)S=-o/(o-a),T=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+c);return p[0]=m,p[4]=0,p[8]=x,p[12]=0,p[1]=0,p[5]=v,p[9]=_,p[13]=0,p[2]=0,p[6]=0,p[10]=S,p[14]=T,p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this}makeOrthographic(e,t,i,r,a,o,c=as,f=!1){const p=this.elements,m=2/(t-e),v=2/(i-r),x=-(t+e)/(t-e),_=-(i+r)/(i-r);let S,T;if(f)S=1/(o-a),T=o/(o-a);else if(c===as)S=-2/(o-a),T=-(o+a)/(o-a);else if(c===mp)S=-1/(o-a),T=-a/(o-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+c);return p[0]=m,p[4]=0,p[8]=0,p[12]=x,p[1]=0,p[5]=v,p[9]=0,p[13]=_,p[2]=0,p[6]=0,p[10]=S,p[14]=T,p[3]=0,p[7]=0,p[11]=0,p[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Cd=new K,uo=new Ot,sP=new K(0,0,0),oP=new K(1,1,1),pu=new K,hy=new K,ns=new K,ET=new Ot,MT=new zi;class Va{constructor(e=0,t=0,i=0,r=Va.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,a=r[0],o=r[4],c=r[8],f=r[1],p=r[5],m=r[9],v=r[2],x=r[6],_=r[10];switch(t){case"XYZ":this._y=Math.asin(jt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,_),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(x,p),this._z=0);break;case"YXZ":this._x=Math.asin(-jt(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(c,_),this._z=Math.atan2(f,p)):(this._y=Math.atan2(-v,a),this._z=0);break;case"ZXY":this._x=Math.asin(jt(x,-1,1)),Math.abs(x)<.9999999?(this._y=Math.atan2(-v,_),this._z=Math.atan2(-o,p)):(this._y=0,this._z=Math.atan2(f,a));break;case"ZYX":this._y=Math.asin(-jt(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(x,_),this._z=Math.atan2(f,a)):(this._x=0,this._z=Math.atan2(-o,p));break;case"YZX":this._z=Math.asin(jt(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-m,p),this._y=Math.atan2(-v,a)):(this._x=0,this._y=Math.atan2(c,_));break;case"XZY":this._z=Math.asin(-jt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(x,p),this._y=Math.atan2(c,a)):(this._x=Math.atan2(-m,_),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return ET.makeRotationFromQuaternion(e),this.setFromRotationMatrix(ET,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return MT.setFromEuler(this),this.setFromQuaternion(MT,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Va.DEFAULT_ORDER="XYZ";class vp{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let lP=0;const TT=new K,wd=new zi,kl=new Ot,dy=new K,ag=new K,cP=new K,uP=new zi,CT=new K(1,0,0),wT=new K(0,1,0),RT=new K(0,0,1),BT={type:"added"},fP={type:"removed"},Rd={type:"childadded",child:null},xA={type:"childremoved",child:null};class An extends gl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:lP++}),this.uuid=ss(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=An.DEFAULT_UP.clone();const e=new K,t=new Va,i=new zi,r=new K(1,1,1);function a(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(a),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Ot},normalMatrix:{value:new tn}}),this.matrix=new Ot,this.matrixWorld=new Ot,this.matrixAutoUpdate=An.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=An.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new vp,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return wd.setFromAxisAngle(e,t),this.quaternion.multiply(wd),this}rotateOnWorldAxis(e,t){return wd.setFromAxisAngle(e,t),this.quaternion.premultiply(wd),this}rotateX(e){return this.rotateOnAxis(CT,e)}rotateY(e){return this.rotateOnAxis(wT,e)}rotateZ(e){return this.rotateOnAxis(RT,e)}translateOnAxis(e,t){return TT.copy(e).applyQuaternion(this.quaternion),this.position.add(TT.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(CT,e)}translateY(e){return this.translateOnAxis(wT,e)}translateZ(e){return this.translateOnAxis(RT,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(kl.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?dy.copy(e):dy.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),ag.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?kl.lookAt(ag,dy,this.up):kl.lookAt(dy,ag,this.up),this.quaternion.setFromRotationMatrix(kl),r&&(kl.extractRotation(r.matrixWorld),wd.setFromRotationMatrix(kl),this.quaternion.premultiply(wd.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(BT),Rd.child=e,this.dispatchEvent(Rd),Rd.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(fP),xA.child=e,this.dispatchEvent(xA),xA.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),kl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),kl.multiply(e.parent.matrixWorld)),e.applyMatrix4(kl),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(BT),Rd.child=e,this.dispatchEvent(Rd),Rd.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let a=0,o=r.length;a<o;a++)r[a].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ag,e,cP),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ag,uP,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let a=0,o=r.length;a<o;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(c=>({...c,boundingBox:c.boundingBox?c.boundingBox.toJSON():void 0,boundingSphere:c.boundingSphere?c.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(c=>({...c})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function a(c,f){return c[f.uuid]===void 0&&(c[f.uuid]=f.toJSON(e)),f.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){const f=c.shapes;if(Array.isArray(f))for(let p=0,m=f.length;p<m;p++){const v=f[p];a(e.shapes,v)}else a(e.shapes,f)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const c=[];for(let f=0,p=this.material.length;f<p;f++)c.push(a(e.materials,this.material[f]));r.material=c}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let c=0;c<this.children.length;c++)r.children.push(this.children[c].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let c=0;c<this.animations.length;c++){const f=this.animations[c];r.animations.push(a(e.animations,f))}}if(t){const c=o(e.geometries),f=o(e.materials),p=o(e.textures),m=o(e.images),v=o(e.shapes),x=o(e.skeletons),_=o(e.animations),S=o(e.nodes);c.length>0&&(i.geometries=c),f.length>0&&(i.materials=f),p.length>0&&(i.textures=p),m.length>0&&(i.images=m),v.length>0&&(i.shapes=v),x.length>0&&(i.skeletons=x),_.length>0&&(i.animations=_),S.length>0&&(i.nodes=S)}return i.object=r,i;function o(c){const f=[];for(const p in c){const m=c[p];delete m.metadata,f.push(m)}return f}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}An.DEFAULT_UP=new K(0,1,0);An.DEFAULT_MATRIX_AUTO_UPDATE=!0;An.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const fo=new K,jl=new K,_A=new K,Xl=new K,Bd=new K,Dd=new K,DT=new K,bA=new K,AA=new K,SA=new K,EA=new mn,MA=new mn,TA=new mn;class za{constructor(e=new K,t=new K,i=new K){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),fo.subVectors(e,t),r.cross(fo);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,t,i,r,a){fo.subVectors(r,t),jl.subVectors(i,t),_A.subVectors(e,t);const o=fo.dot(fo),c=fo.dot(jl),f=fo.dot(_A),p=jl.dot(jl),m=jl.dot(_A),v=o*p-c*c;if(v===0)return a.set(0,0,0),null;const x=1/v,_=(p*f-c*m)*x,S=(o*m-c*f)*x;return a.set(1-_-S,S,_)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Xl)===null?!1:Xl.x>=0&&Xl.y>=0&&Xl.x+Xl.y<=1}static getInterpolation(e,t,i,r,a,o,c,f){return this.getBarycoord(e,t,i,r,Xl)===null?(f.x=0,f.y=0,"z"in f&&(f.z=0),"w"in f&&(f.w=0),null):(f.setScalar(0),f.addScaledVector(a,Xl.x),f.addScaledVector(o,Xl.y),f.addScaledVector(c,Xl.z),f)}static getInterpolatedAttribute(e,t,i,r,a,o){return EA.setScalar(0),MA.setScalar(0),TA.setScalar(0),EA.fromBufferAttribute(e,t),MA.fromBufferAttribute(e,i),TA.fromBufferAttribute(e,r),o.setScalar(0),o.addScaledVector(EA,a.x),o.addScaledVector(MA,a.y),o.addScaledVector(TA,a.z),o}static isFrontFacing(e,t,i,r){return fo.subVectors(i,t),jl.subVectors(e,t),fo.cross(jl).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return fo.subVectors(this.c,this.b),jl.subVectors(this.a,this.b),fo.cross(jl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return za.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return za.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,a){return za.getInterpolation(e,this.a,this.b,this.c,t,i,r,a)}containsPoint(e){return za.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return za.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,a=this.c;let o,c;Bd.subVectors(r,i),Dd.subVectors(a,i),bA.subVectors(e,i);const f=Bd.dot(bA),p=Dd.dot(bA);if(f<=0&&p<=0)return t.copy(i);AA.subVectors(e,r);const m=Bd.dot(AA),v=Dd.dot(AA);if(m>=0&&v<=m)return t.copy(r);const x=f*v-m*p;if(x<=0&&f>=0&&m<=0)return o=f/(f-m),t.copy(i).addScaledVector(Bd,o);SA.subVectors(e,a);const _=Bd.dot(SA),S=Dd.dot(SA);if(S>=0&&_<=S)return t.copy(a);const T=_*p-f*S;if(T<=0&&p>=0&&S<=0)return c=p/(p-S),t.copy(i).addScaledVector(Dd,c);const M=m*S-_*v;if(M<=0&&v-m>=0&&_-S>=0)return DT.subVectors(a,r),c=(v-m)/(v-m+(_-S)),t.copy(r).addScaledVector(DT,c);const b=1/(M+T+x);return o=T*b,c=x*b,t.copy(i).addScaledVector(Bd,o).addScaledVector(Dd,c)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const iD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},mu={h:0,s:0,l:0},py={h:0,s:0,l:0};function CA(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}let ot=class{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Hr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,bn.colorSpaceToWorking(this,t),this}setRGB(e,t,i,r=bn.workingColorSpace){return this.r=e,this.g=t,this.b=i,bn.colorSpaceToWorking(this,r),this}setHSL(e,t,i,r=bn.workingColorSpace){if(e=pE(e,1),t=jt(t,0,1),i=jt(i,0,1),t===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+t):i+t-i*t,o=2*i-a;this.r=CA(o,a,e+1/3),this.g=CA(o,a,e),this.b=CA(o,a,e-1/3)}return bn.colorSpaceToWorking(this,r),this}setStyle(e,t=Hr){function i(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=r[1],c=r[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Hr){const i=iD[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=rc(e.r),this.g=rc(e.g),this.b=rc(e.b),this}copyLinearToSRGB(e){return this.r=rp(e.r),this.g=rp(e.g),this.b=rp(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Hr){return bn.workingToColorSpace(zr.copy(this),e),Math.round(jt(zr.r*255,0,255))*65536+Math.round(jt(zr.g*255,0,255))*256+Math.round(jt(zr.b*255,0,255))}getHexString(e=Hr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=bn.workingColorSpace){bn.workingToColorSpace(zr.copy(this),t);const i=zr.r,r=zr.g,a=zr.b,o=Math.max(i,r,a),c=Math.min(i,r,a);let f,p;const m=(c+o)/2;if(c===o)f=0,p=0;else{const v=o-c;switch(p=m<=.5?v/(o+c):v/(2-o-c),o){case i:f=(r-a)/v+(r<a?6:0);break;case r:f=(a-i)/v+2;break;case a:f=(i-r)/v+4;break}f/=6}return e.h=f,e.s=p,e.l=m,e}getRGB(e,t=bn.workingColorSpace){return bn.workingToColorSpace(zr.copy(this),t),e.r=zr.r,e.g=zr.g,e.b=zr.b,e}getStyle(e=Hr){bn.workingToColorSpace(zr.copy(this),e);const t=zr.r,i=zr.g,r=zr.b;return e!==Hr?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(mu),this.setHSL(mu.h+e,mu.s+t,mu.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(mu),e.getHSL(py);const i=Lg(mu.h,py.h,t),r=Lg(mu.s,py.s,t),a=Lg(mu.l,py.l,t);return this.setHSL(i,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,a=e.elements;return this.r=a[0]*t+a[3]*i+a[6]*r,this.g=a[1]*t+a[4]*i+a[7]*r,this.b=a[2]*t+a[5]*i+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const zr=new ot;ot.NAMES=iD;let hP=0;class ar extends gl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:hP++}),this.uuid=ss(),this.name="",this.type="Material",this.blending=ih,this.side=fl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=yx,this.blendDst=xx,this.blendEquation=bu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ot(0,0,0),this.blendAlpha=0,this.depthFunc=lh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=a1,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Yf,this.stencilZFail=Yf,this.stencilZPass=Yf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==ih&&(i.blending=this.blending),this.side!==fl&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==yx&&(i.blendSrc=this.blendSrc),this.blendDst!==xx&&(i.blendDst=this.blendDst),this.blendEquation!==bu&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==lh&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==a1&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Yf&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Yf&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Yf&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const o=[];for(const c in a){const f=a[c];delete f.metadata,o.push(f)}return o}if(t){const a=r(e.textures),o=r(e.images);a.length>0&&(i.textures=a),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=t[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ha extends ar{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ot(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Va,this.combine=h0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Zl=dP();function dP(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let f=0;f<256;++f){const p=f-127;p<-27?(i[f]=0,i[f|256]=32768,r[f]=24,r[f|256]=24):p<-14?(i[f]=1024>>-p-14,i[f|256]=1024>>-p-14|32768,r[f]=-p-1,r[f|256]=-p-1):p<=15?(i[f]=p+15<<10,i[f|256]=p+15<<10|32768,r[f]=13,r[f|256]=13):p<128?(i[f]=31744,i[f|256]=64512,r[f]=24,r[f|256]=24):(i[f]=31744,i[f|256]=64512,r[f]=13,r[f|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),c=new Uint32Array(64);for(let f=1;f<1024;++f){let p=f<<13,m=0;for(;(p&8388608)===0;)p<<=1,m-=8388608;p&=-8388609,m+=947912704,a[f]=p|m}for(let f=1024;f<2048;++f)a[f]=939524096+(f-1024<<13);for(let f=1;f<31;++f)o[f]=f<<23;o[31]=1199570944,o[32]=2147483648;for(let f=33;f<63;++f)o[f]=2147483648+(f-32<<23);o[63]=3347054592;for(let f=1;f<64;++f)f!==32&&(c[f]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:o,offsetTable:c}}function Ia(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=jt(n,-65504,65504),Zl.floatView[0]=n;const e=Zl.uint32View[0],t=e>>23&511;return Zl.baseTable[t]+((e&8388607)>>Zl.shiftTable[t])}function Mg(n){const e=n>>10;return Zl.uint32View[0]=Zl.mantissaTable[Zl.offsetTable[e]+(n&1023)]+Zl.exponentTable[e],Zl.floatView[0]}class pP{static toHalfFloat(e){return Ia(e)}static fromHalfFloat(e){return Mg(e)}}const ji=new K,my=new Ge;let mP=0;class Tn{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:mP++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Kg,this.updateRanges=[],this.gpuType=Fa,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)my.fromBufferAttribute(this,t),my.applyMatrix3(e),this.setXY(t,my.x,my.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)ji.fromBufferAttribute(this,t),ji.applyMatrix3(e),this.setXYZ(t,ji.x,ji.y,ji.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)ji.fromBufferAttribute(this,t),ji.applyMatrix4(e),this.setXYZ(t,ji.x,ji.y,ji.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ji.fromBufferAttribute(this,t),ji.applyNormalMatrix(e),this.setXYZ(t,ji.x,ji.y,ji.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ji.fromBufferAttribute(this,t),ji.transformDirection(e),this.setXYZ(t,ji.x,ji.y,ji.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=va(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=rn(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=va(t,this.array)),t}setX(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=va(t,this.array)),t}setY(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=va(t,this.array)),t}setZ(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=va(t,this.array)),t}setW(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),i=rn(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),i=rn(i,this.array),r=rn(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,a){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),i=rn(i,this.array),r=rn(r,this.array),a=rn(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Kg&&(e.usage=this.usage),e}}class gP extends Tn{constructor(e,t,i){super(new Int8Array(e),t,i)}}class vP extends Tn{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class yP extends Tn{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class xP extends Tn{constructor(e,t,i){super(new Int16Array(e),t,i)}}class vE extends Tn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class _P extends Tn{constructor(e,t,i){super(new Int32Array(e),t,i)}}class yE extends Tn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class bP extends Tn{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Mg(this.array[e*this.itemSize]);return this.normalized&&(t=va(t,this.array)),t}setX(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize]=Ia(t),this}getY(e){let t=Mg(this.array[e*this.itemSize+1]);return this.normalized&&(t=va(t,this.array)),t}setY(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+1]=Ia(t),this}getZ(e){let t=Mg(this.array[e*this.itemSize+2]);return this.normalized&&(t=va(t,this.array)),t}setZ(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+2]=Ia(t),this}getW(e){let t=Mg(this.array[e*this.itemSize+3]);return this.normalized&&(t=va(t,this.array)),t}setW(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+3]=Ia(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),i=rn(i,this.array)),this.array[e+0]=Ia(t),this.array[e+1]=Ia(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),i=rn(i,this.array),r=rn(r,this.array)),this.array[e+0]=Ia(t),this.array[e+1]=Ia(i),this.array[e+2]=Ia(r),this}setXYZW(e,t,i,r,a){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),i=rn(i,this.array),r=rn(r,this.array),a=rn(a,this.array)),this.array[e+0]=Ia(t),this.array[e+1]=Ia(i),this.array[e+2]=Ia(r),this.array[e+3]=Ia(a),this}}class bt extends Tn{constructor(e,t,i){super(new Float32Array(e),t,i)}}let AP=0;const Cs=new Ot,wA=new An,Od=new K,is=new Cr,sg=new Cr,pr=new K;class Qt extends gl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:AP++}),this.uuid=ss(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(eD(e)?yE:vE)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new tn().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Cs.makeRotationFromQuaternion(e),this.applyMatrix4(Cs),this}rotateX(e){return Cs.makeRotationX(e),this.applyMatrix4(Cs),this}rotateY(e){return Cs.makeRotationY(e),this.applyMatrix4(Cs),this}rotateZ(e){return Cs.makeRotationZ(e),this.applyMatrix4(Cs),this}translate(e,t,i){return Cs.makeTranslation(e,t,i),this.applyMatrix4(Cs),this}scale(e,t,i){return Cs.makeScale(e,t,i),this.applyMatrix4(Cs),this}lookAt(e){return wA.lookAt(e),wA.updateMatrix(),this.applyMatrix4(wA.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Od).negate(),this.translate(Od.x,Od.y,Od.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,a=e.length;r<a;r++){const o=e[r];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new bt(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const a=e[r];t.setXYZ(r,a.x,a.y,a.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Cr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new K(-1/0,-1/0,-1/0),new K(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const a=t[i];is.setFromBufferAttribute(a),this.morphTargetsRelative?(pr.addVectors(this.boundingBox.min,is.min),this.boundingBox.expandByPoint(pr),pr.addVectors(this.boundingBox.max,is.max),this.boundingBox.expandByPoint(pr)):(this.boundingBox.expandByPoint(is.min),this.boundingBox.expandByPoint(is.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new vr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new K,1/0);return}if(e){const i=this.boundingSphere.center;if(is.setFromBufferAttribute(e),t)for(let a=0,o=t.length;a<o;a++){const c=t[a];sg.setFromBufferAttribute(c),this.morphTargetsRelative?(pr.addVectors(is.min,sg.min),is.expandByPoint(pr),pr.addVectors(is.max,sg.max),is.expandByPoint(pr)):(is.expandByPoint(sg.min),is.expandByPoint(sg.max))}is.getCenter(i);let r=0;for(let a=0,o=e.count;a<o;a++)pr.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(pr));if(t)for(let a=0,o=t.length;a<o;a++){const c=t[a],f=this.morphTargetsRelative;for(let p=0,m=c.count;p<m;p++)pr.fromBufferAttribute(c,p),f&&(Od.fromBufferAttribute(e,p),pr.add(Od)),r=Math.max(r,i.distanceToSquared(pr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Tn(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),c=[],f=[];for(let V=0;V<i.count;V++)c[V]=new K,f[V]=new K;const p=new K,m=new K,v=new K,x=new Ge,_=new Ge,S=new Ge,T=new K,M=new K;function b(V,P,L){p.fromBufferAttribute(i,V),m.fromBufferAttribute(i,P),v.fromBufferAttribute(i,L),x.fromBufferAttribute(a,V),_.fromBufferAttribute(a,P),S.fromBufferAttribute(a,L),m.sub(p),v.sub(p),_.sub(x),S.sub(x);const k=1/(_.x*S.y-S.x*_.y);isFinite(k)&&(T.copy(m).multiplyScalar(S.y).addScaledVector(v,-_.y).multiplyScalar(k),M.copy(v).multiplyScalar(_.x).addScaledVector(m,-S.x).multiplyScalar(k),c[V].add(T),c[P].add(T),c[L].add(T),f[V].add(M),f[P].add(M),f[L].add(M))}let R=this.groups;R.length===0&&(R=[{start:0,count:e.count}]);for(let V=0,P=R.length;V<P;++V){const L=R[V],k=L.start,ie=L.count;for(let te=k,ue=k+ie;te<ue;te+=3)b(e.getX(te+0),e.getX(te+1),e.getX(te+2))}const B=new K,D=new K,I=new K,U=new K;function F(V){I.fromBufferAttribute(r,V),U.copy(I);const P=c[V];B.copy(P),B.sub(I.multiplyScalar(I.dot(P))).normalize(),D.crossVectors(U,P);const k=D.dot(f[V])<0?-1:1;o.setXYZW(V,B.x,B.y,B.z,k)}for(let V=0,P=R.length;V<P;++V){const L=R[V],k=L.start,ie=L.count;for(let te=k,ue=k+ie;te<ue;te+=3)F(e.getX(te+0)),F(e.getX(te+1)),F(e.getX(te+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Tn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let x=0,_=i.count;x<_;x++)i.setXYZ(x,0,0,0);const r=new K,a=new K,o=new K,c=new K,f=new K,p=new K,m=new K,v=new K;if(e)for(let x=0,_=e.count;x<_;x+=3){const S=e.getX(x+0),T=e.getX(x+1),M=e.getX(x+2);r.fromBufferAttribute(t,S),a.fromBufferAttribute(t,T),o.fromBufferAttribute(t,M),m.subVectors(o,a),v.subVectors(r,a),m.cross(v),c.fromBufferAttribute(i,S),f.fromBufferAttribute(i,T),p.fromBufferAttribute(i,M),c.add(m),f.add(m),p.add(m),i.setXYZ(S,c.x,c.y,c.z),i.setXYZ(T,f.x,f.y,f.z),i.setXYZ(M,p.x,p.y,p.z)}else for(let x=0,_=t.count;x<_;x+=3)r.fromBufferAttribute(t,x+0),a.fromBufferAttribute(t,x+1),o.fromBufferAttribute(t,x+2),m.subVectors(o,a),v.subVectors(r,a),m.cross(v),i.setXYZ(x+0,m.x,m.y,m.z),i.setXYZ(x+1,m.x,m.y,m.z),i.setXYZ(x+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)pr.fromBufferAttribute(e,t),pr.normalize(),e.setXYZ(t,pr.x,pr.y,pr.z)}toNonIndexed(){function e(c,f){const p=c.array,m=c.itemSize,v=c.normalized,x=new p.constructor(f.length*m);let _=0,S=0;for(let T=0,M=f.length;T<M;T++){c.isInterleavedBufferAttribute?_=f[T]*c.data.stride+c.offset:_=f[T]*m;for(let b=0;b<m;b++)x[S++]=p[_++]}return new Tn(x,m,v)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Qt,i=this.index.array,r=this.attributes;for(const c in r){const f=r[c],p=e(f,i);t.setAttribute(c,p)}const a=this.morphAttributes;for(const c in a){const f=[],p=a[c];for(let m=0,v=p.length;m<v;m++){const x=p[m],_=e(x,i);f.push(_)}t.morphAttributes[c]=f}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let c=0,f=o.length;c<f;c++){const p=o[c];t.addGroup(p.start,p.count,p.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const f=this.parameters;for(const p in f)f[p]!==void 0&&(e[p]=f[p]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const f in i){const p=i[f];e.data.attributes[f]=p.toJSON(e.data)}const r={};let a=!1;for(const f in this.morphAttributes){const p=this.morphAttributes[f],m=[];for(let v=0,x=p.length;v<x;v++){const _=p[v];m.push(_.toJSON(e.data))}m.length>0&&(r[f]=m,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const c=this.boundingSphere;return c!==null&&(e.data.boundingSphere=c.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const p in r){const m=r[p];this.setAttribute(p,m.clone(t))}const a=e.morphAttributes;for(const p in a){const m=[],v=a[p];for(let x=0,_=v.length;x<_;x++)m.push(v[x].clone(t));this.morphAttributes[p]=m}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let p=0,m=o.length;p<m;p++){const v=o[p];this.addGroup(v.start,v.count,v.materialIndex)}const c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());const f=e.boundingSphere;return f!==null&&(this.boundingSphere=f.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const OT=new Ot,Df=new wp,gy=new vr,NT=new K,vy=new K,yy=new K,xy=new K,RA=new K,_y=new K,UT=new K,by=new K;class ri extends An{constructor(e=new Qt,t=new Ha){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const c=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const c=this.morphTargetInfluences;if(a&&c){_y.set(0,0,0);for(let f=0,p=a.length;f<p;f++){const m=c[f],v=a[f];m!==0&&(RA.fromBufferAttribute(v,e),o?_y.addScaledVector(RA,m):_y.addScaledVector(RA.sub(t),m))}t.add(_y)}return t}raycast(e,t){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),gy.copy(i.boundingSphere),gy.applyMatrix4(a),Df.copy(e.ray).recast(e.near),!(gy.containsPoint(Df.origin)===!1&&(Df.intersectSphere(gy,NT)===null||Df.origin.distanceToSquared(NT)>(e.far-e.near)**2))&&(OT.copy(a).invert(),Df.copy(e.ray).applyMatrix4(OT),!(i.boundingBox!==null&&Df.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Df)))}_computeIntersections(e,t,i){let r;const a=this.geometry,o=this.material,c=a.index,f=a.attributes.position,p=a.attributes.uv,m=a.attributes.uv1,v=a.attributes.normal,x=a.groups,_=a.drawRange;if(c!==null)if(Array.isArray(o))for(let S=0,T=x.length;S<T;S++){const M=x[S],b=o[M.materialIndex],R=Math.max(M.start,_.start),B=Math.min(c.count,Math.min(M.start+M.count,_.start+_.count));for(let D=R,I=B;D<I;D+=3){const U=c.getX(D),F=c.getX(D+1),V=c.getX(D+2);r=Ay(this,b,e,i,p,m,v,U,F,V),r&&(r.faceIndex=Math.floor(D/3),r.face.materialIndex=M.materialIndex,t.push(r))}}else{const S=Math.max(0,_.start),T=Math.min(c.count,_.start+_.count);for(let M=S,b=T;M<b;M+=3){const R=c.getX(M),B=c.getX(M+1),D=c.getX(M+2);r=Ay(this,o,e,i,p,m,v,R,B,D),r&&(r.faceIndex=Math.floor(M/3),t.push(r))}}else if(f!==void 0)if(Array.isArray(o))for(let S=0,T=x.length;S<T;S++){const M=x[S],b=o[M.materialIndex],R=Math.max(M.start,_.start),B=Math.min(f.count,Math.min(M.start+M.count,_.start+_.count));for(let D=R,I=B;D<I;D+=3){const U=D,F=D+1,V=D+2;r=Ay(this,b,e,i,p,m,v,U,F,V),r&&(r.faceIndex=Math.floor(D/3),r.face.materialIndex=M.materialIndex,t.push(r))}}else{const S=Math.max(0,_.start),T=Math.min(f.count,_.start+_.count);for(let M=S,b=T;M<b;M+=3){const R=M,B=M+1,D=M+2;r=Ay(this,o,e,i,p,m,v,R,B,D),r&&(r.faceIndex=Math.floor(M/3),t.push(r))}}}}function SP(n,e,t,i,r,a,o,c){let f;if(e.side===kr?f=i.intersectTriangle(o,a,r,!0,c):f=i.intersectTriangle(r,a,o,e.side===fl,c),f===null)return null;by.copy(c),by.applyMatrix4(n.matrixWorld);const p=t.ray.origin.distanceTo(by);return p<t.near||p>t.far?null:{distance:p,point:by.clone(),object:n}}function Ay(n,e,t,i,r,a,o,c,f,p){n.getVertexPosition(c,vy),n.getVertexPosition(f,yy),n.getVertexPosition(p,xy);const m=SP(n,e,t,i,vy,yy,xy,UT);if(m){const v=new K;za.getBarycoord(UT,vy,yy,xy,v),r&&(m.uv=za.getInterpolatedAttribute(r,c,f,p,v,new Ge)),a&&(m.uv1=za.getInterpolatedAttribute(a,c,f,p,v,new Ge)),o&&(m.normal=za.getInterpolatedAttribute(o,c,f,p,v,new K),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const x={a:c,b:f,c:p,normal:new K,materialIndex:0};za.getNormal(vy,yy,xy,x.normal),m.face=x,m.barycoord=v}return m}class mc extends Qt{constructor(e=1,t=1,i=1,r=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:a,depthSegments:o};const c=this;r=Math.floor(r),a=Math.floor(a),o=Math.floor(o);const f=[],p=[],m=[],v=[];let x=0,_=0;S("z","y","x",-1,-1,i,t,e,o,a,0),S("z","y","x",1,-1,i,t,-e,o,a,1),S("x","z","y",1,1,e,i,t,r,o,2),S("x","z","y",1,-1,e,i,-t,r,o,3),S("x","y","z",1,-1,e,t,i,r,a,4),S("x","y","z",-1,-1,e,t,-i,r,a,5),this.setIndex(f),this.setAttribute("position",new bt(p,3)),this.setAttribute("normal",new bt(m,3)),this.setAttribute("uv",new bt(v,2));function S(T,M,b,R,B,D,I,U,F,V,P){const L=D/F,k=I/V,ie=D/2,te=I/2,ue=U/2,fe=F+1,G=V+1;let $=0,Q=0;const he=new K;for(let Y=0;Y<G;Y++){const ae=Y*k-te;for(let Se=0;Se<fe;Se++){const Re=Se*L-ie;he[T]=Re*R,he[M]=ae*B,he[b]=ue,p.push(he.x,he.y,he.z),he[T]=0,he[M]=0,he[b]=U>0?1:-1,m.push(he.x,he.y,he.z),v.push(Se/F),v.push(1-Y/V),$+=1}}for(let Y=0;Y<V;Y++)for(let ae=0;ae<F;ae++){const Se=x+ae+fe*Y,Re=x+ae+fe*(Y+1),Ue=x+(ae+1)+fe*(Y+1),pe=x+(ae+1)+fe*Y;f.push(Se,Re,pe),f.push(Re,Ue,pe),Q+=6}c.addGroup(_,Q,P),_+=Q,x+=$}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function yp(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function pa(n){const e={};for(let t=0;t<n.length;t++){const i=yp(n[t]);for(const r in i)e[r]=i[r]}return e}function EP(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function rD(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:bn.workingColorSpace}const xE={clone:yp,merge:pa};var MP=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,TP=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Us extends ar{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=MP,this.fragmentShader=TP,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=yp(e.uniforms),this.uniformsGroups=EP(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class G_ extends An{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ot,this.projectionMatrix=new Ot,this.projectionMatrixInverse=new Ot,this.coordinateSystem=as,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const gu=new K,LT=new Ge,IT=new Ge;class Xi extends G_{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=gp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(rh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return gp*2*Math.atan(Math.tan(rh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){gu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(gu.x,gu.y).multiplyScalar(-e/gu.z),gu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(gu.x,gu.y).multiplyScalar(-e/gu.z)}getViewSize(e,t){return this.getViewBounds(e,LT,IT),t.subVectors(IT,LT)}setViewOffset(e,t,i,r,a,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(rh*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,a=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const f=o.fullWidth,p=o.fullHeight;a+=o.offsetX*r/f,t-=o.offsetY*i/p,r*=o.width/f,i*=o.height/p}const c=this.filmOffset;c!==0&&(a+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Nd=-90,Ud=1;class aD extends An{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Xi(Nd,Ud,e,t);r.layers=this.layers,this.add(r);const a=new Xi(Nd,Ud,e,t);a.layers=this.layers,this.add(a);const o=new Xi(Nd,Ud,e,t);o.layers=this.layers,this.add(o);const c=new Xi(Nd,Ud,e,t);c.layers=this.layers,this.add(c);const f=new Xi(Nd,Ud,e,t);f.layers=this.layers,this.add(f);const p=new Xi(Nd,Ud,e,t);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,a,o,c,f]=t;for(const p of t)this.remove(p);if(e===as)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),c.up.set(0,1,0),c.lookAt(0,0,1),f.up.set(0,1,0),f.lookAt(0,0,-1);else if(e===mp)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),c.up.set(0,-1,0),c.lookAt(0,0,1),f.up.set(0,-1,0),f.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const p of t)this.add(p),p.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,c,f,p,m]=this.children,v=e.getRenderTarget(),x=e.getActiveCubeFace(),_=e.getActiveMipmapLevel(),S=e.xr.enabled;e.xr.enabled=!1;const T=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,a),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,c),e.setRenderTarget(i,3,r),e.render(t,f),e.setRenderTarget(i,4,r),e.render(t,p),i.texture.generateMipmaps=T,e.setRenderTarget(i,5,r),e.render(t,m),e.setRenderTarget(v,x,_),e.xr.enabled=S,i.texture.needsPMREMUpdate=!0}}class p0 extends ui{constructor(e=[],t=uc,i,r,a,o,c,f,p,m){super(e,t,i,r,a,o,c,f,p,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class sD extends hl{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new p0(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new mc(5,5,5),a=new Us({name:"CubemapFromEquirect",uniforms:yp(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:kr,blending:ic});a.uniforms.tEquirect.value=t;const o=new ri(r,a),c=t.minFilter;return t.minFilter===Ds&&(t.minFilter=Pi),new aD(1,10,this).update(e,o),t.minFilter=c,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(a)}}class tc extends An{constructor(){super(),this.isGroup=!0,this.type="Group"}}const CP={type:"move"};class hx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new tc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new tc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new K,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new K),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new tc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new K,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new K),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,a=null,o=null;const c=this._targetRay,f=this._grip,p=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(p&&e.hand){o=!0;for(const T of e.hand.values()){const M=t.getJointPose(T,i),b=this._getHandJoint(p,T);M!==null&&(b.matrix.fromArray(M.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=M.radius),b.visible=M!==null}const m=p.joints["index-finger-tip"],v=p.joints["thumb-tip"],x=m.position.distanceTo(v.position),_=.02,S=.005;p.inputState.pinching&&x>_+S?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!p.inputState.pinching&&x<=_-S&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else f!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,i),a!==null&&(f.matrix.fromArray(a.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,a.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(a.linearVelocity)):f.hasLinearVelocity=!1,a.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(a.angularVelocity)):f.hasAngularVelocity=!1));c!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(c.matrix.fromArray(r.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,r.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(r.linearVelocity)):c.hasLinearVelocity=!1,r.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(r.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(CP)))}return c!==null&&(c.visible=r!==null),f!==null&&(f.visible=a!==null),p!==null&&(p.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new tc;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class V_{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ot(e),this.density=t}clone(){return new V_(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class k_{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new ot(e),this.near=t,this.far=i}clone(){return new k_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class j_ extends An{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Va,this.environmentIntensity=1,this.environmentRotation=new Va,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class m0{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Kg,this.updateRanges=[],this.version=0,this.uuid=ss()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ss()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ss()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ha=new K;class Ru{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)ha.fromBufferAttribute(this,t),ha.applyMatrix4(e),this.setXYZ(t,ha.x,ha.y,ha.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ha.fromBufferAttribute(this,t),ha.applyNormalMatrix(e),this.setXYZ(t,ha.x,ha.y,ha.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ha.fromBufferAttribute(this,t),ha.transformDirection(e),this.setXYZ(t,ha.x,ha.y,ha.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=va(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=rn(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=va(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=va(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=va(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=va(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=rn(t,this.array),i=rn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=rn(t,this.array),i=rn(i,this.array),r=rn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=rn(t,this.array),i=rn(i,this.array),r=rn(r,this.array),a=rn(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return new Tn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ru(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class _E extends ar{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ot(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Ld;const og=new K,Id=new K,Pd=new K,zd=new Ge,lg=new Ge,oD=new Ot,Sy=new K,cg=new K,Ey=new K,PT=new Ge,BA=new Ge,zT=new Ge;class lD extends An{constructor(e=new _E){if(super(),this.isSprite=!0,this.type="Sprite",Ld===void 0){Ld=new Qt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new m0(t,5);Ld.setIndex([0,1,2,0,2,3]),Ld.setAttribute("position",new Ru(i,3,0,!1)),Ld.setAttribute("uv",new Ru(i,2,3,!1))}this.geometry=Ld,this.material=e,this.center=new Ge(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Id.setFromMatrixScale(this.matrixWorld),oD.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Pd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Id.multiplyScalar(-Pd.z);const i=this.material.rotation;let r,a;i!==0&&(a=Math.cos(i),r=Math.sin(i));const o=this.center;My(Sy.set(-.5,-.5,0),Pd,o,Id,r,a),My(cg.set(.5,-.5,0),Pd,o,Id,r,a),My(Ey.set(.5,.5,0),Pd,o,Id,r,a),PT.set(0,0),BA.set(1,0),zT.set(1,1);let c=e.ray.intersectTriangle(Sy,cg,Ey,!1,og);if(c===null&&(My(cg.set(-.5,.5,0),Pd,o,Id,r,a),BA.set(0,1),c=e.ray.intersectTriangle(Sy,Ey,cg,!1,og),c===null))return;const f=e.ray.origin.distanceTo(og);f<e.near||f>e.far||t.push({distance:f,point:og.clone(),uv:za.getInterpolation(og,Sy,cg,Ey,PT,BA,zT,new Ge),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function My(n,e,t,i,r,a){zd.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(lg.x=a*zd.x-r*zd.y,lg.y=r*zd.x+a*zd.y):lg.copy(zd),n.copy(e),n.x+=lg.x,n.y+=lg.y,n.applyMatrix4(oD)}const Ty=new K,FT=new K;class cD extends An{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const a=t[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let a;for(a=0;a<r.length&&!(t<r[a].distance);a++);return r.splice(a,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let a=t[i].distance;if(t[i].object.visible&&(a-=a*t[i].hysteresis),e<a)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Ty.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Ty);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Ty.setFromMatrixPosition(e.matrixWorld),FT.setFromMatrixPosition(this.matrixWorld);const i=Ty.distanceTo(FT)/e.zoom;t[0].object.visible=!0;let r,a;for(r=1,a=t.length;r<a;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,a=i.length;r<a;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const HT=new K,GT=new mn,VT=new mn,wP=new K,kT=new Ot,Cy=new K,DA=new vr,jT=new Ot,OA=new wp;class bE extends ri{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=r1,this.bindMatrix=new Ot,this.bindMatrixInverse=new Ot,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Cr),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Cy),this.boundingBox.expandByPoint(Cy)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new vr),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Cy),this.boundingSphere.expandByPoint(Cy)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),DA.copy(this.boundingSphere),DA.applyMatrix4(r),e.ray.intersectsSphere(DA)!==!1&&(jT.copy(r).invert(),OA.copy(e.ray).applyMatrix4(jT),!(this.boundingBox!==null&&OA.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,OA)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new mn,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===r1?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===FB?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;GT.fromBufferAttribute(r.attributes.skinIndex,e),VT.fromBufferAttribute(r.attributes.skinWeight,e),HT.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const o=VT.getComponent(a);if(o!==0){const c=GT.getComponent(a);kT.multiplyMatrices(i.bones[c].matrixWorld,i.boneInverses[c]),t.addScaledVector(wP.copy(HT).applyMatrix4(kT),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class X_ extends An{constructor(){super(),this.isBone=!0,this.type="Bone"}}class cl extends ui{constructor(e=null,t=1,i=1,r,a,o,c,f,p=gr,m=gr,v,x){super(null,o,c,f,p,m,r,a,v,x),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const XT=new Ot,RP=new Ot;class g0{constructor(e=[],t=[]){this.uuid=ss(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Ot)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Ot;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const c=e[a]?e[a].matrixWorld:RP;XT.multiplyMatrices(c,t[a]),XT.toArray(i,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new g0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new cl(t,e,e,Gr,Fa);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const a=e.bones[i];let o=t[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new X_),this.bones.push(o),this.boneInverses.push(new Ot().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,a=t.length;r<a;r++){const o=t[r];e.bones.push(o.uuid);const c=i[r];e.boneInverses.push(c.toArray())}return e}}class ch extends Tn{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Fd=new Ot,YT=new Ot,wy=[],qT=new Cr,BP=new Ot,ug=new ri,fg=new vr;class AE extends ri{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new ch(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,BP)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Cr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Fd),qT.copy(e.boundingBox).applyMatrix4(Fd),this.boundingBox.union(qT)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new vr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Fd),fg.copy(e.boundingSphere).applyMatrix4(Fd),this.boundingSphere.union(fg)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,a=i.length+1,o=e*a+1;for(let c=0;c<i.length;c++)i[c]=r[o+c]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(ug.geometry=this.geometry,ug.material=this.material,ug.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),fg.copy(this.boundingSphere),fg.applyMatrix4(i),e.ray.intersectsSphere(fg)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,Fd),YT.multiplyMatrices(i,Fd),ug.matrixWorld=YT,ug.raycast(e,wy);for(let o=0,c=wy.length;o<c;o++){const f=wy[o];f.instanceId=a,f.object=this,t.push(f)}wy.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new ch(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new cl(new Float32Array(r*this.count),r,this.count,L_,Fa));const a=this.morphTexture.source.data.data;let o=0;for(let p=0;p<i.length;p++)o+=i[p];const c=this.geometry.morphTargetsRelative?1:1-o,f=r*e;a[f]=c,a.set(i,f+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const NA=new K,DP=new K,OP=new tn;class _u{constructor(e=new K(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=NA.subVectors(i,t).cross(DP.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(NA),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||OP.getNormalMatrix(e),r=this.coplanarPoint(NA).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Of=new vr,NP=new Ge(.5,.5),Ry=new K;class Rp{constructor(e=new _u,t=new _u,i=new _u,r=new _u,a=new _u,o=new _u){this.planes=[e,t,i,r,a,o]}set(e,t,i,r,a,o){const c=this.planes;return c[0].copy(e),c[1].copy(t),c[2].copy(i),c[3].copy(r),c[4].copy(a),c[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=as,i=!1){const r=this.planes,a=e.elements,o=a[0],c=a[1],f=a[2],p=a[3],m=a[4],v=a[5],x=a[6],_=a[7],S=a[8],T=a[9],M=a[10],b=a[11],R=a[12],B=a[13],D=a[14],I=a[15];if(r[0].setComponents(p-o,_-m,b-S,I-R).normalize(),r[1].setComponents(p+o,_+m,b+S,I+R).normalize(),r[2].setComponents(p+c,_+v,b+T,I+B).normalize(),r[3].setComponents(p-c,_-v,b-T,I-B).normalize(),i)r[4].setComponents(f,x,M,D).normalize(),r[5].setComponents(p-f,_-x,b-M,I-D).normalize();else if(r[4].setComponents(p-f,_-x,b-M,I-D).normalize(),t===as)r[5].setComponents(p+f,_+x,b+M,I+D).normalize();else if(t===mp)r[5].setComponents(f,x,M,D).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Of.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Of.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Of)}intersectsSprite(e){Of.center.set(0,0,0);const t=NP.distanceTo(e.center);return Of.radius=.7071067811865476+t,Of.applyMatrix4(e.matrixWorld),this.intersectsSphere(Of)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Ry.x=r.normal.x>0?e.max.x:e.min.x,Ry.y=r.normal.y>0?e.max.y:e.min.y,Ry.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Ry)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const rl=new Ot,al=new Rp;class Y_{constructor(){this.coordinateSystem=as}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(rl.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),al.setFromProjectionMatrix(rl,r.coordinateSystem,r.reversedDepth),al.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(rl.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),al.setFromProjectionMatrix(rl,r.coordinateSystem,r.reversedDepth),al.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(rl.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),al.setFromProjectionMatrix(rl,r.coordinateSystem,r.reversedDepth),al.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(rl.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),al.setFromProjectionMatrix(rl,r.coordinateSystem,r.reversedDepth),al.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(rl.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),al.setFromProjectionMatrix(rl,r.coordinateSystem,r.reversedDepth),al.containsPoint(e))return!0}return!1}clone(){return new Y_}}function UA(n,e){return n-e}function UP(n,e){return n.z-e.z}function LP(n,e){return e.z-n.z}class IP{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const a=this.pool,o=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const c=a[this.index];o.push(c),this.index++,c.start=e,c.count=t,c.z=i,c.index=r}reset(){this.list.length=0,this.index=0}}const La=new Ot,PP=new ot(1,1,1),WT=new Rp,zP=new Y_,By=new Cr,Nf=new vr,hg=new K,JT=new K,FP=new K,LA=new IP,Fr=new ri,Dy=[];function HP(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let a=0;a<r;a++)for(let o=0;o<i;o++)e.setComponent(a+t,o,n.getComponent(a,o))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function Uf(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class uD extends ri{constructor(e,t,i=t*2,r){super(new Qt,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new cl(t,e,e,Gr,Fa);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new cl(t,e,e,d0,fc);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new cl(t,e,e,Gr,Fa);i.colorSpace=bn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const o=e.getAttribute(a),{array:c,itemSize:f,normalized:p}=o,m=new c.constructor(i*f),v=new Tn(m,f,p);t.setAttribute(a,v)}if(e.getIndex()!==null){const a=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Tn(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),a=t.getAttribute(i);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Cr);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,La),this.getBoundingBoxAt(a,By).applyMatrix4(La),e.union(By)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new vr);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,La),this.getBoundingSphereAt(a,Nf).applyMatrix4(La),e.union(Nf)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(UA),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;La.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const o=this._colorsTexture;return o&&(PP.toArray(o.image.data,r*4),o.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?o.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let f;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(UA),f=this._availableGeometryIds.shift(),a[f]=r):(f=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(f,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,f}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,a=i.getIndex(),o=t.getIndex(),c=this._geometryInfo[e];if(r&&o.count>c.reservedIndexCount||t.attributes.position.count>c.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const f=c.vertexStart,p=c.reservedVertexCount;c.vertexCount=t.getAttribute("position").count;for(const m in i.attributes){const v=t.getAttribute(m),x=i.getAttribute(m);HP(v,x,f);const _=v.itemSize;for(let S=v.count,T=p;S<T;S++){const M=f+S;for(let b=0;b<_;b++)x.setComponent(M,b,0)}x.needsUpdate=!0,x.addUpdateRange(f*_,p*_)}if(r){const m=c.indexStart,v=c.reservedIndexCount;c.indexCount=t.getIndex().count;for(let x=0;x<o.count;x++)a.setX(m+x,f+o.getX(x));for(let x=o.count,_=v;x<_;x++)a.setX(m+x,f);a.needsUpdate=!0,a.addUpdateRange(m,c.reservedIndexCount)}return c.start=r?c.indexStart:c.vertexStart,c.count=r?c.indexCount:c.vertexCount,c.boundingBox=null,t.boundingBox!==null&&(c.boundingBox=t.boundingBox.clone()),c.boundingSphere=null,t.boundingSphere!==null&&(c.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,a=i.length;r<a;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((o,c)=>c).sort((o,c)=>i[o].vertexStart-i[c].vertexStart),a=this.geometry;for(let o=0,c=i.length;o<c;o++){const f=r[o],p=i[f];if(p.active!==!1){if(a.index!==null){if(p.indexStart!==t){const{indexStart:m,vertexStart:v,reservedIndexCount:x}=p,_=a.index,S=_.array,T=e-v;for(let M=m;M<m+x;M++)S[M]=S[M]+T;_.array.copyWithin(t,m,m+x),_.addUpdateRange(t,x),p.indexStart=t}t+=p.reservedIndexCount}if(p.vertexStart!==e){const{vertexStart:m,reservedVertexCount:v}=p,x=a.attributes;for(const _ in x){const S=x[_],{array:T,itemSize:M}=S;T.copyWithin(e*M,m*M,(m+v)*M),S.addUpdateRange(e*M,v*M)}p.vertexStart=e}e+=p.reservedVertexCount,p.start=a.index?p.indexStart:p.vertexStart,this._nextIndexStart=a.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const a=new Cr,o=i.index,c=i.attributes.position;for(let f=r.start,p=r.start+r.count;f<p;f++){let m=f;o&&(m=o.getX(m)),a.expandByPoint(hg.fromBufferAttribute(c,m))}r.boundingBox=a}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const a=new vr;this.getBoundingBoxAt(e,By),By.getCenter(a.center);const o=i.index,c=i.attributes.position;let f=0;for(let p=r.start,m=r.start+r.count;p<m;p++){let v=p;o&&(v=o.getX(v)),hg.fromBufferAttribute(c,v),f=Math.max(f,a.center.distanceToSquared(hg))}a.radius=Math.sqrt(f),r.boundingSphere=a}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(UA);t[t.length-1]===i.length-1;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),a=new Int32Array(e);Uf(this._multiDrawCounts,r),Uf(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=e;const o=this._indirectTexture,c=this._matricesTexture,f=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Uf(o.image.data,this._indirectTexture.image.data),c.dispose(),this._initMatricesTexture(),Uf(c.image.data,this._matricesTexture.image.data),f&&(f.dispose(),this._initColorsTexture(),Uf(f.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(c=>c.active);if(Math.max(...i.map(c=>c.vertexStart+c.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(f=>f.indexStart+f.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Qt,this._initializeGeometry(a));const o=this.geometry;a.index&&Uf(a.index.array,o.index.array);for(const c in a.attributes)Uf(a.attributes[c].array,o.attributes[c].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,o=this.geometry;Fr.material=this.material,Fr.geometry.index=o.index,Fr.geometry.attributes=o.attributes,Fr.geometry.boundingBox===null&&(Fr.geometry.boundingBox=new Cr),Fr.geometry.boundingSphere===null&&(Fr.geometry.boundingSphere=new vr);for(let c=0,f=i.length;c<f;c++){if(!i[c].visible||!i[c].active)continue;const p=i[c].geometryIndex,m=r[p];Fr.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(c,Fr.matrixWorld).premultiply(a),this.getBoundingBoxAt(p,Fr.geometry.boundingBox),this.getBoundingSphereAt(p,Fr.geometry.boundingSphere),Fr.raycast(e,Dy);for(let v=0,x=Dy.length;v<x;v++){const _=Dy[v];_.object=this,_.batchId=c,t.push(_)}Dy.length=0}Fr.material=null,Fr.geometry.index=null,Fr.geometry.attributes={},Fr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),c=o===null?1:o.array.BYTES_PER_ELEMENT,f=this._instanceInfo,p=this._multiDrawStarts,m=this._multiDrawCounts,v=this._geometryInfo,x=this.perObjectFrustumCulled,_=this._indirectTexture,S=_.image.data,T=i.isArrayCamera?zP:WT;x&&!i.isArrayCamera&&(La.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),WT.setFromProjectionMatrix(La,i.coordinateSystem,i.reversedDepth));let M=0;if(this.sortObjects){La.copy(this.matrixWorld).invert(),hg.setFromMatrixPosition(i.matrixWorld).applyMatrix4(La),JT.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(La);for(let B=0,D=f.length;B<D;B++)if(f[B].visible&&f[B].active){const I=f[B].geometryIndex;this.getMatrixAt(B,La),this.getBoundingSphereAt(I,Nf).applyMatrix4(La);let U=!1;if(x&&(U=!T.intersectsSphere(Nf,i)),!U){const F=v[I],V=FP.subVectors(Nf.center,hg).dot(JT);LA.push(F.start,F.count,V,B)}}const b=LA.list,R=this.customSort;R===null?b.sort(a.transparent?LP:UP):R.call(this,b,i);for(let B=0,D=b.length;B<D;B++){const I=b[B];p[M]=I.start*c,m[M]=I.count,S[M]=I.index,M++}LA.reset()}else for(let b=0,R=f.length;b<R;b++)if(f[b].visible&&f[b].active){const B=f[b].geometryIndex;let D=!1;if(x&&(this.getMatrixAt(b,La),this.getBoundingSphereAt(B,Nf).applyMatrix4(La),D=!T.intersectsSphere(Nf,i)),!D){const I=v[B];p[M]=I.start*c,m[M]=I.count,S[M]=b,M++}}_.needsUpdate=!0,this._multiDrawCount=M,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,a,o){this.onBeforeRender(e,null,r,a,o)}}class jr extends ar{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ot(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const e_=new K,t_=new K,KT=new Ot,dg=new wp,Oy=new vr,IA=new K,$T=new K;class hc extends An{constructor(e=new Qt,t=new jr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,a=t.count;r<a;r++)e_.fromBufferAttribute(t,r-1),t_.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=e_.distanceTo(t_);e.setAttribute("lineDistance",new bt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Oy.copy(i.boundingSphere),Oy.applyMatrix4(r),Oy.radius+=a,e.ray.intersectsSphere(Oy)===!1)return;KT.copy(r).invert(),dg.copy(e.ray).applyMatrix4(KT);const c=a/((this.scale.x+this.scale.y+this.scale.z)/3),f=c*c,p=this.isLineSegments?2:1,m=i.index,x=i.attributes.position;if(m!==null){const _=Math.max(0,o.start),S=Math.min(m.count,o.start+o.count);for(let T=_,M=S-1;T<M;T+=p){const b=m.getX(T),R=m.getX(T+1),B=Ny(this,e,dg,f,b,R,T);B&&t.push(B)}if(this.isLineLoop){const T=m.getX(S-1),M=m.getX(_),b=Ny(this,e,dg,f,T,M,S-1);b&&t.push(b)}}else{const _=Math.max(0,o.start),S=Math.min(x.count,o.start+o.count);for(let T=_,M=S-1;T<M;T+=p){const b=Ny(this,e,dg,f,T,T+1,T);b&&t.push(b)}if(this.isLineLoop){const T=Ny(this,e,dg,f,S-1,_,S-1);T&&t.push(T)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const c=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}}function Ny(n,e,t,i,r,a,o){const c=n.geometry.attributes.position;if(e_.fromBufferAttribute(c,r),t_.fromBufferAttribute(c,a),t.distanceSqToSegment(e_,t_,IA,$T)>i)return;IA.applyMatrix4(n.matrixWorld);const p=e.ray.origin.distanceTo(IA);if(!(p<e.near||p>e.far))return{distance:p,point:$T.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const QT=new K,ZT=new K;class _o extends hc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,a=t.count;r<a;r+=2)QT.fromBufferAttribute(t,r),ZT.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+QT.distanceTo(ZT);e.setAttribute("lineDistance",new bt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class SE extends hc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class q_ extends ar{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ot(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const eC=new Ot,o1=new wp,Uy=new vr,Ly=new K;class EE extends An{constructor(e=new Qt,t=new q_){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Uy.copy(i.boundingSphere),Uy.applyMatrix4(r),Uy.radius+=a,e.ray.intersectsSphere(Uy)===!1)return;eC.copy(r).invert(),o1.copy(e.ray).applyMatrix4(eC);const c=a/((this.scale.x+this.scale.y+this.scale.z)/3),f=c*c,p=i.index,v=i.attributes.position;if(p!==null){const x=Math.max(0,o.start),_=Math.min(p.count,o.start+o.count);for(let S=x,T=_;S<T;S++){const M=p.getX(S);Ly.fromBufferAttribute(v,M),tC(Ly,M,f,r,e,t,this)}}else{const x=Math.max(0,o.start),_=Math.min(v.count,o.start+o.count);for(let S=x,T=_;S<T;S++)Ly.fromBufferAttribute(v,S),tC(Ly,S,f,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const c=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}}function tC(n,e,t,i,r,a,o){const c=o1.distanceSqToPoint(n);if(c<t){const f=new K;o1.closestPointToPoint(n,f),f.applyMatrix4(i);const p=r.ray.origin.distanceTo(f);if(p<r.near||p>r.far)return;a.push({distance:p,distanceToRay:Math.sqrt(c),point:f,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class fD extends ui{constructor(e,t,i,r,a=Pi,o=Pi,c,f,p){super(e,t,i,r,a,o,c,f,p),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const m=this;function v(){m.needsUpdate=!0,m._requestVideoFrameCallbackId=e.requestVideoFrameCallback(v)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(v))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class GP extends fD{constructor(e,t,i,r,a,o,c,f){super({},e,t,i,r,a,o,c,f),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class VP extends ui{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=gr,this.minFilter=gr,this.generateMipmaps=!1,this.needsUpdate=!0}}class W_ extends ui{constructor(e,t,i,r,a,o,c,f,p,m,v,x){super(null,o,c,f,p,m,r,a,v,x),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class kP extends W_{constructor(e,t,i,r,a,o){super(e,t,i,a,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=rs,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class jP extends W_{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,uc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class hD extends ui{constructor(e,t,i,r,a,o,c,f,p){super(e,t,i,r,a,o,c,f,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ME extends ui{constructor(e,t,i=fc,r,a,o,c=gr,f=gr,p,m=fp,v=1){if(m!==fp&&m!==hp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const x={width:e,height:t,depth:v};super(x,r,a,o,c,f,m,i,p),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Su(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class J_ extends Qt{constructor(e=1,t=1,i=4,r=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r,heightSegments:a},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),a=Math.max(1,Math.floor(a));const o=[],c=[],f=[],p=[],m=t/2,v=Math.PI/2*e,x=t,_=2*v+x,S=i*2+a,T=r+1,M=new K,b=new K;for(let R=0;R<=S;R++){let B=0,D=0,I=0,U=0;if(R<=i){const P=R/i,L=P*Math.PI/2;D=-m-e*Math.cos(L),I=e*Math.sin(L),U=-e*Math.cos(L),B=P*v}else if(R<=i+a){const P=(R-i)/a;D=-m+P*t,I=e,U=0,B=v+P*x}else{const P=(R-i-a)/i,L=P*Math.PI/2;D=m+e*Math.sin(L),I=e*Math.cos(L),U=e*Math.sin(L),B=v+x+P*v}const F=Math.max(0,Math.min(1,B/_));let V=0;R===0?V=.5/r:R===S&&(V=-.5/r);for(let P=0;P<=r;P++){const L=P/r,k=L*Math.PI*2,ie=Math.sin(k),te=Math.cos(k);b.x=-I*te,b.y=D,b.z=I*ie,c.push(b.x,b.y,b.z),M.set(-I*te,U,I*ie),M.normalize(),f.push(M.x,M.y,M.z),p.push(L+V,F)}if(R>0){const P=(R-1)*T;for(let L=0;L<r;L++){const k=P+L,ie=P+L+1,te=R*T+L,ue=R*T+L+1;o.push(k,ie,te),o.push(ie,ue,te)}}}this.setIndex(o),this.setAttribute("position",new bt(c,3)),this.setAttribute("normal",new bt(f,3)),this.setAttribute("uv",new bt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new J_(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class K_ extends Qt{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const a=[],o=[],c=[],f=[],p=new K,m=new Ge;o.push(0,0,0),c.push(0,0,1),f.push(.5,.5);for(let v=0,x=3;v<=t;v++,x+=3){const _=i+v/t*r;p.x=e*Math.cos(_),p.y=e*Math.sin(_),o.push(p.x,p.y,p.z),c.push(0,0,1),m.x=(o[x]/e+1)/2,m.y=(o[x+1]/e+1)/2,f.push(m.x,m.y)}for(let v=1;v<=t;v++)a.push(v,v+1,0);this.setIndex(a),this.setAttribute("position",new bt(o,3)),this.setAttribute("normal",new bt(c,3)),this.setAttribute("uv",new bt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new K_(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class v0 extends Qt{constructor(e=1,t=1,i=1,r=32,a=1,o=!1,c=0,f=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:a,openEnded:o,thetaStart:c,thetaLength:f};const p=this;r=Math.floor(r),a=Math.floor(a);const m=[],v=[],x=[],_=[];let S=0;const T=[],M=i/2;let b=0;R(),o===!1&&(e>0&&B(!0),t>0&&B(!1)),this.setIndex(m),this.setAttribute("position",new bt(v,3)),this.setAttribute("normal",new bt(x,3)),this.setAttribute("uv",new bt(_,2));function R(){const D=new K,I=new K;let U=0;const F=(t-e)/i;for(let V=0;V<=a;V++){const P=[],L=V/a,k=L*(t-e)+e;for(let ie=0;ie<=r;ie++){const te=ie/r,ue=te*f+c,fe=Math.sin(ue),G=Math.cos(ue);I.x=k*fe,I.y=-L*i+M,I.z=k*G,v.push(I.x,I.y,I.z),D.set(fe,F,G).normalize(),x.push(D.x,D.y,D.z),_.push(te,1-L),P.push(S++)}T.push(P)}for(let V=0;V<r;V++)for(let P=0;P<a;P++){const L=T[P][V],k=T[P+1][V],ie=T[P+1][V+1],te=T[P][V+1];(e>0||P!==0)&&(m.push(L,k,te),U+=3),(t>0||P!==a-1)&&(m.push(k,ie,te),U+=3)}p.addGroup(b,U,0),b+=U}function B(D){const I=S,U=new Ge,F=new K;let V=0;const P=D===!0?e:t,L=D===!0?1:-1;for(let ie=1;ie<=r;ie++)v.push(0,M*L,0),x.push(0,L,0),_.push(.5,.5),S++;const k=S;for(let ie=0;ie<=r;ie++){const ue=ie/r*f+c,fe=Math.cos(ue),G=Math.sin(ue);F.x=P*G,F.y=M*L,F.z=P*fe,v.push(F.x,F.y,F.z),x.push(0,L,0),U.x=fe*.5+.5,U.y=G*.5*L+.5,_.push(U.x,U.y),S++}for(let ie=0;ie<r;ie++){const te=I+ie,ue=k+ie;D===!0?m.push(ue,ue+1,te):m.push(ue+1,ue,te),V+=3}p.addGroup(b,V,D===!0?1:2),b+=V}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new v0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class y0 extends v0{constructor(e=1,t=1,i=32,r=1,a=!1,o=0,c=Math.PI*2){super(0,e,t,i,r,a,o,c),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:c}}static fromJSON(e){return new y0(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Uu extends Qt{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const a=[],o=[];c(r),p(i),m(),this.setAttribute("position",new bt(a,3)),this.setAttribute("normal",new bt(a.slice(),3)),this.setAttribute("uv",new bt(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function c(R){const B=new K,D=new K,I=new K;for(let U=0;U<t.length;U+=3)_(t[U+0],B),_(t[U+1],D),_(t[U+2],I),f(B,D,I,R)}function f(R,B,D,I){const U=I+1,F=[];for(let V=0;V<=U;V++){F[V]=[];const P=R.clone().lerp(D,V/U),L=B.clone().lerp(D,V/U),k=U-V;for(let ie=0;ie<=k;ie++)ie===0&&V===U?F[V][ie]=P:F[V][ie]=P.clone().lerp(L,ie/k)}for(let V=0;V<U;V++)for(let P=0;P<2*(U-V)-1;P++){const L=Math.floor(P/2);P%2===0?(x(F[V][L+1]),x(F[V+1][L]),x(F[V][L])):(x(F[V][L+1]),x(F[V+1][L+1]),x(F[V+1][L]))}}function p(R){const B=new K;for(let D=0;D<a.length;D+=3)B.x=a[D+0],B.y=a[D+1],B.z=a[D+2],B.normalize().multiplyScalar(R),a[D+0]=B.x,a[D+1]=B.y,a[D+2]=B.z}function m(){const R=new K;for(let B=0;B<a.length;B+=3){R.x=a[B+0],R.y=a[B+1],R.z=a[B+2];const D=M(R)/2/Math.PI+.5,I=b(R)/Math.PI+.5;o.push(D,1-I)}S(),v()}function v(){for(let R=0;R<o.length;R+=6){const B=o[R+0],D=o[R+2],I=o[R+4],U=Math.max(B,D,I),F=Math.min(B,D,I);U>.9&&F<.1&&(B<.2&&(o[R+0]+=1),D<.2&&(o[R+2]+=1),I<.2&&(o[R+4]+=1))}}function x(R){a.push(R.x,R.y,R.z)}function _(R,B){const D=R*3;B.x=e[D+0],B.y=e[D+1],B.z=e[D+2]}function S(){const R=new K,B=new K,D=new K,I=new K,U=new Ge,F=new Ge,V=new Ge;for(let P=0,L=0;P<a.length;P+=9,L+=6){R.set(a[P+0],a[P+1],a[P+2]),B.set(a[P+3],a[P+4],a[P+5]),D.set(a[P+6],a[P+7],a[P+8]),U.set(o[L+0],o[L+1]),F.set(o[L+2],o[L+3]),V.set(o[L+4],o[L+5]),I.copy(R).add(B).add(D).divideScalar(3);const k=M(I);T(U,L+0,R,k),T(F,L+2,B,k),T(V,L+4,D,k)}}function T(R,B,D,I){I<0&&R.x===1&&(o[B]=R.x-1),D.x===0&&D.z===0&&(o[B]=I/2/Math.PI+.5)}function M(R){return Math.atan2(R.z,-R.x)}function b(R){return Math.atan2(-R.y,Math.sqrt(R.x*R.x+R.z*R.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Uu(e.vertices,e.indices,e.radius,e.details)}}class $_ extends Uu{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new $_(e.radius,e.detail)}}const Iy=new K,Py=new K,PA=new K,zy=new za;class dD extends Qt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),a=Math.cos(rh*t),o=e.getIndex(),c=e.getAttribute("position"),f=o?o.count:c.count,p=[0,0,0],m=["a","b","c"],v=new Array(3),x={},_=[];for(let S=0;S<f;S+=3){o?(p[0]=o.getX(S),p[1]=o.getX(S+1),p[2]=o.getX(S+2)):(p[0]=S,p[1]=S+1,p[2]=S+2);const{a:T,b:M,c:b}=zy;if(T.fromBufferAttribute(c,p[0]),M.fromBufferAttribute(c,p[1]),b.fromBufferAttribute(c,p[2]),zy.getNormal(PA),v[0]=`${Math.round(T.x*r)},${Math.round(T.y*r)},${Math.round(T.z*r)}`,v[1]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,v[2]=`${Math.round(b.x*r)},${Math.round(b.y*r)},${Math.round(b.z*r)}`,!(v[0]===v[1]||v[1]===v[2]||v[2]===v[0]))for(let R=0;R<3;R++){const B=(R+1)%3,D=v[R],I=v[B],U=zy[m[R]],F=zy[m[B]],V=`${D}_${I}`,P=`${I}_${D}`;P in x&&x[P]?(PA.dot(x[P].normal)<=a&&(_.push(U.x,U.y,U.z),_.push(F.x,F.y,F.z)),x[P]=null):V in x||(x[V]={index0:p[R],index1:p[B],normal:PA.clone()})}}for(const S in x)if(x[S]){const{index0:T,index1:M}=x[S];Iy.fromBufferAttribute(c,T),Py.fromBufferAttribute(c,M),_.push(Iy.x,Iy.y,Iy.z),_.push(Py.x,Py.y,Py.z)}this.setAttribute("position",new bt(_,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class bo{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),a=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),a+=i.distanceTo(r),t.push(a),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const a=i.length;let o;t?o=t:o=e*i[a-1];let c=0,f=a-1,p;for(;c<=f;)if(r=Math.floor(c+(f-c)/2),p=i[r]-o,p<0)c=r+1;else if(p>0)f=r-1;else{f=r;break}if(r=f,i[r]===o)return r/(a-1);const m=i[r],x=i[r+1]-m,_=(o-m)/x;return(r+_)/(a-1)}getTangent(e,t){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);const o=this.getPoint(r),c=this.getPoint(a),f=t||(o.isVector2?new Ge:new K);return f.copy(c).sub(o).normalize(),f}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new K,r=[],a=[],o=[],c=new K,f=new Ot;for(let _=0;_<=e;_++){const S=_/e;r[_]=this.getTangentAt(S,new K)}a[0]=new K,o[0]=new K;let p=Number.MAX_VALUE;const m=Math.abs(r[0].x),v=Math.abs(r[0].y),x=Math.abs(r[0].z);m<=p&&(p=m,i.set(1,0,0)),v<=p&&(p=v,i.set(0,1,0)),x<=p&&i.set(0,0,1),c.crossVectors(r[0],i).normalize(),a[0].crossVectors(r[0],c),o[0].crossVectors(r[0],a[0]);for(let _=1;_<=e;_++){if(a[_]=a[_-1].clone(),o[_]=o[_-1].clone(),c.crossVectors(r[_-1],r[_]),c.length()>Number.EPSILON){c.normalize();const S=Math.acos(jt(r[_-1].dot(r[_]),-1,1));a[_].applyMatrix4(f.makeRotationAxis(c,S))}o[_].crossVectors(r[_],a[_])}if(t===!0){let _=Math.acos(jt(a[0].dot(a[e]),-1,1));_/=e,r[0].dot(c.crossVectors(a[0],a[e]))>0&&(_=-_);for(let S=1;S<=e;S++)a[S].applyMatrix4(f.makeRotationAxis(r[S],_*S)),o[S].crossVectors(r[S],a[S])}return{tangents:r,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Q_ extends bo{constructor(e=0,t=0,i=1,r=1,a=0,o=Math.PI*2,c=!1,f=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=c,this.aRotation=f}getPoint(e,t=new Ge){const i=t,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(o?a=0:a=r),this.aClockwise===!0&&!o&&(a===r?a=-r:a=a-r);const c=this.aStartAngle+e*a;let f=this.aX+this.xRadius*Math.cos(c),p=this.aY+this.yRadius*Math.sin(c);if(this.aRotation!==0){const m=Math.cos(this.aRotation),v=Math.sin(this.aRotation),x=f-this.aX,_=p-this.aY;f=x*m-_*v+this.aX,p=x*v+_*m+this.aY}return i.set(f,p)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class pD extends Q_{constructor(e,t,i,r,a,o){super(e,t,i,i,r,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function TE(){let n=0,e=0,t=0,i=0;function r(a,o,c,f){n=a,e=c,t=-3*a+3*o-2*c-f,i=2*a-2*o+c+f}return{initCatmullRom:function(a,o,c,f,p){r(o,c,p*(c-a),p*(f-o))},initNonuniformCatmullRom:function(a,o,c,f,p,m,v){let x=(o-a)/p-(c-a)/(p+m)+(c-o)/m,_=(c-o)/m-(f-o)/(m+v)+(f-c)/v;x*=m,_*=m,r(o,c,x,_)},calc:function(a){const o=a*a,c=o*a;return n+e*a+t*o+i*c}}}const Fy=new K,zA=new TE,FA=new TE,HA=new TE;class mD extends bo{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new K){const i=t,r=this.points,a=r.length,o=(a-(this.closed?0:1))*e;let c=Math.floor(o),f=o-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/a)+1)*a:f===0&&c===a-1&&(c=a-2,f=1);let p,m;this.closed||c>0?p=r[(c-1)%a]:(Fy.subVectors(r[0],r[1]).add(r[0]),p=Fy);const v=r[c%a],x=r[(c+1)%a];if(this.closed||c+2<a?m=r[(c+2)%a]:(Fy.subVectors(r[a-1],r[a-2]).add(r[a-1]),m=Fy),this.curveType==="centripetal"||this.curveType==="chordal"){const _=this.curveType==="chordal"?.5:.25;let S=Math.pow(p.distanceToSquared(v),_),T=Math.pow(v.distanceToSquared(x),_),M=Math.pow(x.distanceToSquared(m),_);T<1e-4&&(T=1),S<1e-4&&(S=T),M<1e-4&&(M=T),zA.initNonuniformCatmullRom(p.x,v.x,x.x,m.x,S,T,M),FA.initNonuniformCatmullRom(p.y,v.y,x.y,m.y,S,T,M),HA.initNonuniformCatmullRom(p.z,v.z,x.z,m.z,S,T,M)}else this.curveType==="catmullrom"&&(zA.initCatmullRom(p.x,v.x,x.x,m.x,this.tension),FA.initCatmullRom(p.y,v.y,x.y,m.y,this.tension),HA.initCatmullRom(p.z,v.z,x.z,m.z,this.tension));return i.set(zA.calc(f),FA.calc(f),HA.calc(f)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new K().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function nC(n,e,t,i,r){const a=(i-e)*.5,o=(r-t)*.5,c=n*n,f=n*c;return(2*t-2*i+a+o)*f+(-3*t+3*i-2*a-o)*c+a*n+t}function XP(n,e){const t=1-n;return t*t*e}function YP(n,e){return 2*(1-n)*n*e}function qP(n,e){return n*n*e}function Ig(n,e,t,i){return XP(n,e)+YP(n,t)+qP(n,i)}function WP(n,e){const t=1-n;return t*t*t*e}function JP(n,e){const t=1-n;return 3*t*t*n*e}function KP(n,e){return 3*(1-n)*n*n*e}function $P(n,e){return n*n*n*e}function Pg(n,e,t,i,r){return WP(n,e)+JP(n,t)+KP(n,i)+$P(n,r)}class CE extends bo{constructor(e=new Ge,t=new Ge,i=new Ge,r=new Ge){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Ge){const i=t,r=this.v0,a=this.v1,o=this.v2,c=this.v3;return i.set(Pg(e,r.x,a.x,o.x,c.x),Pg(e,r.y,a.y,o.y,c.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class gD extends bo{constructor(e=new K,t=new K,i=new K,r=new K){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new K){const i=t,r=this.v0,a=this.v1,o=this.v2,c=this.v3;return i.set(Pg(e,r.x,a.x,o.x,c.x),Pg(e,r.y,a.y,o.y,c.y),Pg(e,r.z,a.z,o.z,c.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class wE extends bo{constructor(e=new Ge,t=new Ge){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ge){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ge){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class vD extends bo{constructor(e=new K,t=new K){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new K){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new K){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class RE extends bo{constructor(e=new Ge,t=new Ge,i=new Ge){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Ge){const i=t,r=this.v0,a=this.v1,o=this.v2;return i.set(Ig(e,r.x,a.x,o.x),Ig(e,r.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class BE extends bo{constructor(e=new K,t=new K,i=new K){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new K){const i=t,r=this.v0,a=this.v1,o=this.v2;return i.set(Ig(e,r.x,a.x,o.x),Ig(e,r.y,a.y,o.y),Ig(e,r.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class DE extends bo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ge){const i=t,r=this.points,a=(r.length-1)*e,o=Math.floor(a),c=a-o,f=r[o===0?o:o-1],p=r[o],m=r[o>r.length-2?r.length-1:o+1],v=r[o>r.length-3?r.length-1:o+2];return i.set(nC(c,f.x,p.x,m.x,v.x),nC(c,f.y,p.y,m.y,v.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Ge().fromArray(r))}return this}}var n_=Object.freeze({__proto__:null,ArcCurve:pD,CatmullRomCurve3:mD,CubicBezierCurve:CE,CubicBezierCurve3:gD,EllipseCurve:Q_,LineCurve:wE,LineCurve3:vD,QuadraticBezierCurve:RE,QuadraticBezierCurve3:BE,SplineCurve:DE});class yD extends bo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new n_[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=i){const o=r[a]-i,c=this.curves[a],f=c.getLength(),p=f===0?0:1-o/f;return c.getPointAt(p,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,a=this.curves;r<a.length;r++){const o=a[r],c=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,f=o.getPoints(c);for(let p=0;p<f.length;p++){const m=f[p];i&&i.equals(m)||(t.push(m),i=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new n_[r.type]().fromJSON(r))}return this}}class i_ extends yD{constructor(e){super(),this.type="Path",this.currentPoint=new Ge,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new wE(this.currentPoint.clone(),new Ge(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const a=new RE(this.currentPoint.clone(),new Ge(e,t),new Ge(i,r));return this.curves.push(a),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,a,o){const c=new CE(this.currentPoint.clone(),new Ge(e,t),new Ge(i,r),new Ge(a,o));return this.curves.push(c),this.currentPoint.set(a,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new DE(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,a,o){const c=this.currentPoint.x,f=this.currentPoint.y;return this.absarc(e+c,t+f,i,r,a,o),this}absarc(e,t,i,r,a,o){return this.absellipse(e,t,i,i,r,a,o),this}ellipse(e,t,i,r,a,o,c,f){const p=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+p,t+m,i,r,a,o,c,f),this}absellipse(e,t,i,r,a,o,c,f){const p=new Q_(e,t,i,r,a,o,c,f);if(this.curves.length>0){const v=p.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(p);const m=p.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class ah extends i_{constructor(e){super(e),this.uuid=ss(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new i_().fromJSON(r))}return this}}function QP(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let a=xD(n,0,r,t,!0);const o=[];if(!a||a.next===a.prev)return o;let c,f,p;if(i&&(a=i4(n,e,a,t)),n.length>80*t){c=1/0,f=1/0;let m=-1/0,v=-1/0;for(let x=t;x<r;x+=t){const _=n[x],S=n[x+1];_<c&&(c=_),S<f&&(f=S),_>m&&(m=_),S>v&&(v=S)}p=Math.max(m-c,v-f),p=p!==0?32767/p:0}return Qg(a,o,t,c,f,p,0),o}function xD(n,e,t,i,r){let a;if(r===p4(n,e,t,i)>0)for(let o=e;o<t;o+=i)a=iC(o/i|0,n[o],n[o+1],a);else for(let o=t-i;o>=e;o-=i)a=iC(o/i|0,n[o],n[o+1],a);return a&&xp(a,a.next)&&(e0(a),a=a.next),a}function uh(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(xp(t,t.next)||yi(t.prev,t,t.next)===0)){if(e0(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Qg(n,e,t,i,r,a,o){if(!n)return;!o&&a&&l4(n,i,r,a);let c=n;for(;n.prev!==n.next;){const f=n.prev,p=n.next;if(a?e4(n,i,r,a):ZP(n)){e.push(f.i,n.i,p.i),e0(n),n=p.next,c=p.next;continue}if(n=p,n===c){o?o===1?(n=t4(uh(n),e),Qg(n,e,t,i,r,a,2)):o===2&&n4(n,e,t,i,r,a):Qg(uh(n),e,t,i,r,a,1);break}}}function ZP(n){const e=n.prev,t=n,i=n.next;if(yi(e,t,i)>=0)return!1;const r=e.x,a=t.x,o=i.x,c=e.y,f=t.y,p=i.y,m=Math.min(r,a,o),v=Math.min(c,f,p),x=Math.max(r,a,o),_=Math.max(c,f,p);let S=i.next;for(;S!==e;){if(S.x>=m&&S.x<=x&&S.y>=v&&S.y<=_&&Tg(r,c,a,f,o,p,S.x,S.y)&&yi(S.prev,S,S.next)>=0)return!1;S=S.next}return!0}function e4(n,e,t,i){const r=n.prev,a=n,o=n.next;if(yi(r,a,o)>=0)return!1;const c=r.x,f=a.x,p=o.x,m=r.y,v=a.y,x=o.y,_=Math.min(c,f,p),S=Math.min(m,v,x),T=Math.max(c,f,p),M=Math.max(m,v,x),b=l1(_,S,e,t,i),R=l1(T,M,e,t,i);let B=n.prevZ,D=n.nextZ;for(;B&&B.z>=b&&D&&D.z<=R;){if(B.x>=_&&B.x<=T&&B.y>=S&&B.y<=M&&B!==r&&B!==o&&Tg(c,m,f,v,p,x,B.x,B.y)&&yi(B.prev,B,B.next)>=0||(B=B.prevZ,D.x>=_&&D.x<=T&&D.y>=S&&D.y<=M&&D!==r&&D!==o&&Tg(c,m,f,v,p,x,D.x,D.y)&&yi(D.prev,D,D.next)>=0))return!1;D=D.nextZ}for(;B&&B.z>=b;){if(B.x>=_&&B.x<=T&&B.y>=S&&B.y<=M&&B!==r&&B!==o&&Tg(c,m,f,v,p,x,B.x,B.y)&&yi(B.prev,B,B.next)>=0)return!1;B=B.prevZ}for(;D&&D.z<=R;){if(D.x>=_&&D.x<=T&&D.y>=S&&D.y<=M&&D!==r&&D!==o&&Tg(c,m,f,v,p,x,D.x,D.y)&&yi(D.prev,D,D.next)>=0)return!1;D=D.nextZ}return!0}function t4(n,e){let t=n;do{const i=t.prev,r=t.next.next;!xp(i,r)&&bD(i,t,t.next,r)&&Zg(i,r)&&Zg(r,i)&&(e.push(i.i,t.i,r.i),e0(t),e0(t.next),t=n=r),t=t.next}while(t!==n);return uh(t)}function n4(n,e,t,i,r,a){let o=n;do{let c=o.next.next;for(;c!==o.prev;){if(o.i!==c.i&&f4(o,c)){let f=AD(o,c);o=uh(o,o.next),f=uh(f,f.next),Qg(o,e,t,i,r,a,0),Qg(f,e,t,i,r,a,0);return}c=c.next}o=o.next}while(o!==n)}function i4(n,e,t,i){const r=[];for(let a=0,o=e.length;a<o;a++){const c=e[a]*i,f=a<o-1?e[a+1]*i:n.length,p=xD(n,c,f,i,!1);p===p.next&&(p.steiner=!0),r.push(u4(p))}r.sort(r4);for(let a=0;a<r.length;a++)t=a4(r[a],t);return t}function r4(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function a4(n,e){const t=s4(n,e);if(!t)return e;const i=AD(t,n);return uh(i,i.next),uh(t,t.next)}function s4(n,e){let t=e;const i=n.x,r=n.y;let a=-1/0,o;if(xp(n,t))return t;do{if(xp(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const v=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(v<=i&&v>a&&(a=v,o=t.x<t.next.x?t:t.next,v===i))return o}t=t.next}while(t!==e);if(!o)return null;const c=o,f=o.x,p=o.y;let m=1/0;t=o;do{if(i>=t.x&&t.x>=f&&i!==t.x&&_D(r<p?i:a,r,f,p,r<p?a:i,r,t.x,t.y)){const v=Math.abs(r-t.y)/(i-t.x);Zg(t,n)&&(v<m||v===m&&(t.x>o.x||t.x===o.x&&o4(o,t)))&&(o=t,m=v)}t=t.next}while(t!==c);return o}function o4(n,e){return yi(n.prev,n,e.prev)<0&&yi(e.next,n,n.next)<0}function l4(n,e,t,i){let r=n;do r.z===0&&(r.z=l1(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,c4(r)}function c4(n){let e,t=1;do{let i=n,r;n=null;let a=null;for(e=0;i;){e++;let o=i,c=0;for(let p=0;p<t&&(c++,o=o.nextZ,!!o);p++);let f=t;for(;c>0||f>0&&o;)c!==0&&(f===0||!o||i.z<=o.z)?(r=i,i=i.nextZ,c--):(r=o,o=o.nextZ,f--),a?a.nextZ=r:n=r,r.prevZ=a,a=r;i=o}a.nextZ=null,t*=2}while(e>1);return n}function l1(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function u4(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function _D(n,e,t,i,r,a,o,c){return(r-o)*(e-c)>=(n-o)*(a-c)&&(n-o)*(i-c)>=(t-o)*(e-c)&&(t-o)*(a-c)>=(r-o)*(i-c)}function Tg(n,e,t,i,r,a,o,c){return!(n===o&&e===c)&&_D(n,e,t,i,r,a,o,c)}function f4(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!h4(n,e)&&(Zg(n,e)&&Zg(e,n)&&d4(n,e)&&(yi(n.prev,n,e.prev)||yi(n,e.prev,e))||xp(n,e)&&yi(n.prev,n,n.next)>0&&yi(e.prev,e,e.next)>0)}function yi(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function xp(n,e){return n.x===e.x&&n.y===e.y}function bD(n,e,t,i){const r=Gy(yi(n,e,t)),a=Gy(yi(n,e,i)),o=Gy(yi(t,i,n)),c=Gy(yi(t,i,e));return!!(r!==a&&o!==c||r===0&&Hy(n,t,e)||a===0&&Hy(n,i,e)||o===0&&Hy(t,n,i)||c===0&&Hy(t,e,i))}function Hy(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Gy(n){return n>0?1:n<0?-1:0}function h4(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&bD(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Zg(n,e){return yi(n.prev,n,n.next)<0?yi(n,e,n.next)>=0&&yi(n,n.prev,e)>=0:yi(n,e,n.prev)<0||yi(n,n.next,e)<0}function d4(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&r<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function AD(n,e){const t=c1(n.i,n.x,n.y),i=c1(e.i,e.x,e.y),r=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,a.next=i,i.prev=a,i}function iC(n,e,t,i){const r=c1(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function e0(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function c1(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function p4(n,e,t,i){let r=0;for(let a=e,o=t-i;a<t;a+=i)r+=(n[o]-n[a])*(n[a+1]+n[o+1]),o=a;return r}class m4{static triangulate(e,t,i=2){return QP(e,t,i)}}class vo{static area(e){const t=e.length;let i=0;for(let r=t-1,a=0;a<t;r=a++)i+=e[r].x*e[a].y-e[a].x*e[r].y;return i*.5}static isClockWise(e){return vo.area(e)<0}static triangulateShape(e,t){const i=[],r=[],a=[];rC(e),aC(i,e);let o=e.length;t.forEach(rC);for(let f=0;f<t.length;f++)r.push(o),o+=t[f].length,aC(i,t[f]);const c=m4.triangulate(i,r);for(let f=0;f<c.length;f+=3)a.push(c.slice(f,f+3));return a}}function rC(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function aC(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Z_ extends Qt{constructor(e=new ah([new Ge(.5,.5),new Ge(-.5,.5),new Ge(-.5,-.5),new Ge(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],a=[];for(let c=0,f=e.length;c<f;c++){const p=e[c];o(p)}this.setAttribute("position",new bt(r,3)),this.setAttribute("uv",new bt(a,2)),this.computeVertexNormals();function o(c){const f=[],p=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,v=t.depth!==void 0?t.depth:1;let x=t.bevelEnabled!==void 0?t.bevelEnabled:!0,_=t.bevelThickness!==void 0?t.bevelThickness:.2,S=t.bevelSize!==void 0?t.bevelSize:_-.1,T=t.bevelOffset!==void 0?t.bevelOffset:0,M=t.bevelSegments!==void 0?t.bevelSegments:3;const b=t.extrudePath,R=t.UVGenerator!==void 0?t.UVGenerator:g4;let B,D=!1,I,U,F,V;b&&(B=b.getSpacedPoints(m),D=!0,x=!1,I=b.computeFrenetFrames(m,!1),U=new K,F=new K,V=new K),x||(M=0,_=0,S=0,T=0);const P=c.extractPoints(p);let L=P.shape;const k=P.holes;if(!vo.isClockWise(L)){L=L.reverse();for(let Pe=0,Oe=k.length;Pe<Oe;Pe++){const Xe=k[Pe];vo.isClockWise(Xe)&&(k[Pe]=Xe.reverse())}}function te(Pe){const Xe=10000000000000001e-36;let De=Pe[0];for(let et=1;et<=Pe.length;et++){const Ve=et%Pe.length,Ye=Pe[Ve],Mt=Ye.x-De.x,Tt=Ye.y-De.y,j=Mt*Mt+Tt*Tt,H=Math.max(Math.abs(Ye.x),Math.abs(Ye.y),Math.abs(De.x),Math.abs(De.y)),de=Xe*H*H;if(j<=de){Pe.splice(Ve,1),et--;continue}De=Ye}}te(L),k.forEach(te);const ue=k.length,fe=L;for(let Pe=0;Pe<ue;Pe++){const Oe=k[Pe];L=L.concat(Oe)}function G(Pe,Oe,Xe){return Oe||console.error("THREE.ExtrudeGeometry: vec does not exist"),Pe.clone().addScaledVector(Oe,Xe)}const $=L.length;function Q(Pe,Oe,Xe){let De,et,Ve;const Ye=Pe.x-Oe.x,Mt=Pe.y-Oe.y,Tt=Xe.x-Pe.x,j=Xe.y-Pe.y,H=Ye*Ye+Mt*Mt,de=Ye*j-Mt*Tt;if(Math.abs(de)>Number.EPSILON){const be=Math.sqrt(H),Ne=Math.sqrt(Tt*Tt+j*j),we=Oe.x-Mt/be,at=Oe.y+Ye/be,Qe=Xe.x-j/Ne,pt=Xe.y+Tt/Ne,mt=((Qe-we)*j-(pt-at)*Tt)/(Ye*j-Mt*Tt);De=we+Ye*mt-Pe.x,et=at+Mt*mt-Pe.y;const je=De*De+et*et;if(je<=2)return new Ge(De,et);Ve=Math.sqrt(je/2)}else{let be=!1;Ye>Number.EPSILON?Tt>Number.EPSILON&&(be=!0):Ye<-Number.EPSILON?Tt<-Number.EPSILON&&(be=!0):Math.sign(Mt)===Math.sign(j)&&(be=!0),be?(De=-Mt,et=Ye,Ve=Math.sqrt(H)):(De=Ye,et=Mt,Ve=Math.sqrt(H/2))}return new Ge(De/Ve,et/Ve)}const he=[];for(let Pe=0,Oe=fe.length,Xe=Oe-1,De=Pe+1;Pe<Oe;Pe++,Xe++,De++)Xe===Oe&&(Xe=0),De===Oe&&(De=0),he[Pe]=Q(fe[Pe],fe[Xe],fe[De]);const Y=[];let ae,Se=he.concat();for(let Pe=0,Oe=ue;Pe<Oe;Pe++){const Xe=k[Pe];ae=[];for(let De=0,et=Xe.length,Ve=et-1,Ye=De+1;De<et;De++,Ve++,Ye++)Ve===et&&(Ve=0),Ye===et&&(Ye=0),ae[De]=Q(Xe[De],Xe[Ve],Xe[Ye]);Y.push(ae),Se=Se.concat(ae)}let Re;if(M===0)Re=vo.triangulateShape(fe,k);else{const Pe=[],Oe=[];for(let Xe=0;Xe<M;Xe++){const De=Xe/M,et=_*Math.cos(De*Math.PI/2),Ve=S*Math.sin(De*Math.PI/2)+T;for(let Ye=0,Mt=fe.length;Ye<Mt;Ye++){const Tt=G(fe[Ye],he[Ye],Ve);st(Tt.x,Tt.y,-et),De===0&&Pe.push(Tt)}for(let Ye=0,Mt=ue;Ye<Mt;Ye++){const Tt=k[Ye];ae=Y[Ye];const j=[];for(let H=0,de=Tt.length;H<de;H++){const be=G(Tt[H],ae[H],Ve);st(be.x,be.y,-et),De===0&&j.push(be)}De===0&&Oe.push(j)}}Re=vo.triangulateShape(Pe,Oe)}const Ue=Re.length,pe=S+T;for(let Pe=0;Pe<$;Pe++){const Oe=x?G(L[Pe],Se[Pe],pe):L[Pe];D?(F.copy(I.normals[0]).multiplyScalar(Oe.x),U.copy(I.binormals[0]).multiplyScalar(Oe.y),V.copy(B[0]).add(F).add(U),st(V.x,V.y,V.z)):st(Oe.x,Oe.y,0)}for(let Pe=1;Pe<=m;Pe++)for(let Oe=0;Oe<$;Oe++){const Xe=x?G(L[Oe],Se[Oe],pe):L[Oe];D?(F.copy(I.normals[Pe]).multiplyScalar(Xe.x),U.copy(I.binormals[Pe]).multiplyScalar(Xe.y),V.copy(B[Pe]).add(F).add(U),st(V.x,V.y,V.z)):st(Xe.x,Xe.y,v/m*Pe)}for(let Pe=M-1;Pe>=0;Pe--){const Oe=Pe/M,Xe=_*Math.cos(Oe*Math.PI/2),De=S*Math.sin(Oe*Math.PI/2)+T;for(let et=0,Ve=fe.length;et<Ve;et++){const Ye=G(fe[et],he[et],De);st(Ye.x,Ye.y,v+Xe)}for(let et=0,Ve=k.length;et<Ve;et++){const Ye=k[et];ae=Y[et];for(let Mt=0,Tt=Ye.length;Mt<Tt;Mt++){const j=G(Ye[Mt],ae[Mt],De);D?st(j.x,j.y+B[m-1].y,B[m-1].x+Xe):st(j.x,j.y,v+Xe)}}}Be(),Fe();function Be(){const Pe=r.length/3;if(x){let Oe=0,Xe=$*Oe;for(let De=0;De<Ue;De++){const et=Re[De];St(et[2]+Xe,et[1]+Xe,et[0]+Xe)}Oe=m+M*2,Xe=$*Oe;for(let De=0;De<Ue;De++){const et=Re[De];St(et[0]+Xe,et[1]+Xe,et[2]+Xe)}}else{for(let Oe=0;Oe<Ue;Oe++){const Xe=Re[Oe];St(Xe[2],Xe[1],Xe[0])}for(let Oe=0;Oe<Ue;Oe++){const Xe=Re[Oe];St(Xe[0]+$*m,Xe[1]+$*m,Xe[2]+$*m)}}i.addGroup(Pe,r.length/3-Pe,0)}function Fe(){const Pe=r.length/3;let Oe=0;We(fe,Oe),Oe+=fe.length;for(let Xe=0,De=k.length;Xe<De;Xe++){const et=k[Xe];We(et,Oe),Oe+=et.length}i.addGroup(Pe,r.length/3-Pe,1)}function We(Pe,Oe){let Xe=Pe.length;for(;--Xe>=0;){const De=Xe;let et=Xe-1;et<0&&(et=Pe.length-1);for(let Ve=0,Ye=m+M*2;Ve<Ye;Ve++){const Mt=$*Ve,Tt=$*(Ve+1),j=Oe+De+Mt,H=Oe+et+Mt,de=Oe+et+Tt,be=Oe+De+Tt;ln(j,H,de,be)}}}function st(Pe,Oe,Xe){f.push(Pe),f.push(Oe),f.push(Xe)}function St(Pe,Oe,Xe){Et(Pe),Et(Oe),Et(Xe);const De=r.length/3,et=R.generateTopUV(i,r,De-3,De-2,De-1);Z(et[0]),Z(et[1]),Z(et[2])}function ln(Pe,Oe,Xe,De){Et(Pe),Et(Oe),Et(De),Et(Oe),Et(Xe),Et(De);const et=r.length/3,Ve=R.generateSideWallUV(i,r,et-6,et-3,et-2,et-1);Z(Ve[0]),Z(Ve[1]),Z(Ve[3]),Z(Ve[1]),Z(Ve[2]),Z(Ve[3])}function Et(Pe){r.push(f[Pe*3+0]),r.push(f[Pe*3+1]),r.push(f[Pe*3+2])}function Z(Pe){a.push(Pe.x),a.push(Pe.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return v4(t,i,e)}static fromJSON(e,t){const i=[];for(let a=0,o=e.shapes.length;a<o;a++){const c=t[e.shapes[a]];i.push(c)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new n_[r.type]().fromJSON(r)),new Z_(i,e.options)}}const g4={generateTopUV:function(n,e,t,i,r){const a=e[t*3],o=e[t*3+1],c=e[i*3],f=e[i*3+1],p=e[r*3],m=e[r*3+1];return[new Ge(a,o),new Ge(c,f),new Ge(p,m)]},generateSideWallUV:function(n,e,t,i,r,a){const o=e[t*3],c=e[t*3+1],f=e[t*3+2],p=e[i*3],m=e[i*3+1],v=e[i*3+2],x=e[r*3],_=e[r*3+1],S=e[r*3+2],T=e[a*3],M=e[a*3+1],b=e[a*3+2];return Math.abs(c-m)<Math.abs(o-p)?[new Ge(o,1-f),new Ge(p,1-v),new Ge(x,1-S),new Ge(T,1-b)]:[new Ge(c,1-f),new Ge(m,1-v),new Ge(_,1-S),new Ge(M,1-b)]}};function v4(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const a=n[i];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class eb extends Uu{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new eb(e.radius,e.detail)}}class tb extends Qt{constructor(e=[new Ge(0,-.5),new Ge(.5,0),new Ge(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=jt(r,0,Math.PI*2);const a=[],o=[],c=[],f=[],p=[],m=1/t,v=new K,x=new Ge,_=new K,S=new K,T=new K;let M=0,b=0;for(let R=0;R<=e.length-1;R++)switch(R){case 0:M=e[R+1].x-e[R].x,b=e[R+1].y-e[R].y,_.x=b*1,_.y=-M,_.z=b*0,T.copy(_),_.normalize(),f.push(_.x,_.y,_.z);break;case e.length-1:f.push(T.x,T.y,T.z);break;default:M=e[R+1].x-e[R].x,b=e[R+1].y-e[R].y,_.x=b*1,_.y=-M,_.z=b*0,S.copy(_),_.x+=T.x,_.y+=T.y,_.z+=T.z,_.normalize(),f.push(_.x,_.y,_.z),T.copy(S)}for(let R=0;R<=t;R++){const B=i+R*m*r,D=Math.sin(B),I=Math.cos(B);for(let U=0;U<=e.length-1;U++){v.x=e[U].x*D,v.y=e[U].y,v.z=e[U].x*I,o.push(v.x,v.y,v.z),x.x=R/t,x.y=U/(e.length-1),c.push(x.x,x.y);const F=f[3*U+0]*D,V=f[3*U+1],P=f[3*U+0]*I;p.push(F,V,P)}}for(let R=0;R<t;R++)for(let B=0;B<e.length-1;B++){const D=B+R*e.length,I=D,U=D+e.length,F=D+e.length+1,V=D+1;a.push(I,U,V),a.push(F,V,U)}this.setIndex(a),this.setAttribute("position",new bt(o,3)),this.setAttribute("uv",new bt(c,2)),this.setAttribute("normal",new bt(p,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tb(e.points,e.segments,e.phiStart,e.phiLength)}}class x0 extends Uu{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new x0(e.radius,e.detail)}}class yh extends Qt{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const a=e/2,o=t/2,c=Math.floor(i),f=Math.floor(r),p=c+1,m=f+1,v=e/c,x=t/f,_=[],S=[],T=[],M=[];for(let b=0;b<m;b++){const R=b*x-o;for(let B=0;B<p;B++){const D=B*v-a;S.push(D,-R,0),T.push(0,0,1),M.push(B/c),M.push(1-b/f)}}for(let b=0;b<f;b++)for(let R=0;R<c;R++){const B=R+p*b,D=R+p*(b+1),I=R+1+p*(b+1),U=R+1+p*b;_.push(B,D,U),_.push(D,I,U)}this.setIndex(_),this.setAttribute("position",new bt(S,3)),this.setAttribute("normal",new bt(T,3)),this.setAttribute("uv",new bt(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yh(e.width,e.height,e.widthSegments,e.heightSegments)}}class nb extends Qt{constructor(e=.5,t=1,i=32,r=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const c=[],f=[],p=[],m=[];let v=e;const x=(t-e)/r,_=new K,S=new Ge;for(let T=0;T<=r;T++){for(let M=0;M<=i;M++){const b=a+M/i*o;_.x=v*Math.cos(b),_.y=v*Math.sin(b),f.push(_.x,_.y,_.z),p.push(0,0,1),S.x=(_.x/t+1)/2,S.y=(_.y/t+1)/2,m.push(S.x,S.y)}v+=x}for(let T=0;T<r;T++){const M=T*(i+1);for(let b=0;b<i;b++){const R=b+M,B=R,D=R+i+1,I=R+i+2,U=R+1;c.push(B,D,U),c.push(D,I,U)}}this.setIndex(c),this.setAttribute("position",new bt(f,3)),this.setAttribute("normal",new bt(p,3)),this.setAttribute("uv",new bt(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nb(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class ib extends Qt{constructor(e=new ah([new Ge(0,.5),new Ge(-.5,-.5),new Ge(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],a=[],o=[];let c=0,f=0;if(Array.isArray(e)===!1)p(e);else for(let m=0;m<e.length;m++)p(e[m]),this.addGroup(c,f,m),c+=f,f=0;this.setIndex(i),this.setAttribute("position",new bt(r,3)),this.setAttribute("normal",new bt(a,3)),this.setAttribute("uv",new bt(o,2));function p(m){const v=r.length/3,x=m.extractPoints(t);let _=x.shape;const S=x.holes;vo.isClockWise(_)===!1&&(_=_.reverse());for(let M=0,b=S.length;M<b;M++){const R=S[M];vo.isClockWise(R)===!0&&(S[M]=R.reverse())}const T=vo.triangulateShape(_,S);for(let M=0,b=S.length;M<b;M++){const R=S[M];_=_.concat(R)}for(let M=0,b=_.length;M<b;M++){const R=_[M];r.push(R.x,R.y,0),a.push(0,0,1),o.push(R.x,R.y)}for(let M=0,b=T.length;M<b;M++){const R=T[M],B=R[0]+v,D=R[1]+v,I=R[2]+v;i.push(B,D,I),f+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return y4(t,e)}static fromJSON(e,t){const i=[];for(let r=0,a=e.shapes.length;r<a;r++){const o=t[e.shapes[r]];i.push(o)}return new ib(i,e.curveSegments)}}function y4(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class _0 extends Qt{constructor(e=1,t=32,i=16,r=0,a=Math.PI*2,o=0,c=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:a,thetaStart:o,thetaLength:c},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const f=Math.min(o+c,Math.PI);let p=0;const m=[],v=new K,x=new K,_=[],S=[],T=[],M=[];for(let b=0;b<=i;b++){const R=[],B=b/i;let D=0;b===0&&o===0?D=.5/t:b===i&&f===Math.PI&&(D=-.5/t);for(let I=0;I<=t;I++){const U=I/t;v.x=-e*Math.cos(r+U*a)*Math.sin(o+B*c),v.y=e*Math.cos(o+B*c),v.z=e*Math.sin(r+U*a)*Math.sin(o+B*c),S.push(v.x,v.y,v.z),x.copy(v).normalize(),T.push(x.x,x.y,x.z),M.push(U+D,1-B),R.push(p++)}m.push(R)}for(let b=0;b<i;b++)for(let R=0;R<t;R++){const B=m[b][R+1],D=m[b][R],I=m[b+1][R],U=m[b+1][R+1];(b!==0||o>0)&&_.push(B,D,U),(b!==i-1||f<Math.PI)&&_.push(D,I,U)}this.setIndex(_),this.setAttribute("position",new bt(S,3)),this.setAttribute("normal",new bt(T,3)),this.setAttribute("uv",new bt(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class rb extends Uu{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new rb(e.radius,e.detail)}}class ab extends Qt{constructor(e=1,t=.4,i=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:a},i=Math.floor(i),r=Math.floor(r);const o=[],c=[],f=[],p=[],m=new K,v=new K,x=new K;for(let _=0;_<=i;_++)for(let S=0;S<=r;S++){const T=S/r*a,M=_/i*Math.PI*2;v.x=(e+t*Math.cos(M))*Math.cos(T),v.y=(e+t*Math.cos(M))*Math.sin(T),v.z=t*Math.sin(M),c.push(v.x,v.y,v.z),m.x=e*Math.cos(T),m.y=e*Math.sin(T),x.subVectors(v,m).normalize(),f.push(x.x,x.y,x.z),p.push(S/r),p.push(_/i)}for(let _=1;_<=i;_++)for(let S=1;S<=r;S++){const T=(r+1)*_+S-1,M=(r+1)*(_-1)+S-1,b=(r+1)*(_-1)+S,R=(r+1)*_+S;o.push(T,M,R),o.push(M,b,R)}this.setIndex(o),this.setAttribute("position",new bt(c,3)),this.setAttribute("normal",new bt(f,3)),this.setAttribute("uv",new bt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ab(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class sb extends Qt{constructor(e=1,t=.4,i=64,r=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:a,q:o},i=Math.floor(i),r=Math.floor(r);const c=[],f=[],p=[],m=[],v=new K,x=new K,_=new K,S=new K,T=new K,M=new K,b=new K;for(let B=0;B<=i;++B){const D=B/i*a*Math.PI*2;R(D,a,o,e,_),R(D+.01,a,o,e,S),M.subVectors(S,_),b.addVectors(S,_),T.crossVectors(M,b),b.crossVectors(T,M),T.normalize(),b.normalize();for(let I=0;I<=r;++I){const U=I/r*Math.PI*2,F=-t*Math.cos(U),V=t*Math.sin(U);v.x=_.x+(F*b.x+V*T.x),v.y=_.y+(F*b.y+V*T.y),v.z=_.z+(F*b.z+V*T.z),f.push(v.x,v.y,v.z),x.subVectors(v,_).normalize(),p.push(x.x,x.y,x.z),m.push(B/i),m.push(I/r)}}for(let B=1;B<=i;B++)for(let D=1;D<=r;D++){const I=(r+1)*(B-1)+(D-1),U=(r+1)*B+(D-1),F=(r+1)*B+D,V=(r+1)*(B-1)+D;c.push(I,U,V),c.push(U,F,V)}this.setIndex(c),this.setAttribute("position",new bt(f,3)),this.setAttribute("normal",new bt(p,3)),this.setAttribute("uv",new bt(m,2));function R(B,D,I,U,F){const V=Math.cos(B),P=Math.sin(B),L=I/D*B,k=Math.cos(L);F.x=U*(2+k)*.5*V,F.y=U*(2+k)*P*.5,F.z=U*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sb(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class ob extends Qt{constructor(e=new BE(new K(-1,-1,0),new K(-1,1,0),new K(1,1,0)),t=64,i=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:a};const o=e.computeFrenetFrames(t,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const c=new K,f=new K,p=new Ge;let m=new K;const v=[],x=[],_=[],S=[];T(),this.setIndex(S),this.setAttribute("position",new bt(v,3)),this.setAttribute("normal",new bt(x,3)),this.setAttribute("uv",new bt(_,2));function T(){for(let B=0;B<t;B++)M(B);M(a===!1?t:0),R(),b()}function M(B){m=e.getPointAt(B/t,m);const D=o.normals[B],I=o.binormals[B];for(let U=0;U<=r;U++){const F=U/r*Math.PI*2,V=Math.sin(F),P=-Math.cos(F);f.x=P*D.x+V*I.x,f.y=P*D.y+V*I.y,f.z=P*D.z+V*I.z,f.normalize(),x.push(f.x,f.y,f.z),c.x=m.x+i*f.x,c.y=m.y+i*f.y,c.z=m.z+i*f.z,v.push(c.x,c.y,c.z)}}function b(){for(let B=1;B<=t;B++)for(let D=1;D<=r;D++){const I=(r+1)*(B-1)+(D-1),U=(r+1)*B+(D-1),F=(r+1)*B+D,V=(r+1)*(B-1)+D;S.push(I,U,V),S.push(U,F,V)}}function R(){for(let B=0;B<=t;B++)for(let D=0;D<=r;D++)p.x=B/t,p.y=D/r,_.push(p.x,p.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new ob(new n_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class SD extends Qt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new K,a=new K;if(e.index!==null){const o=e.attributes.position,c=e.index;let f=e.groups;f.length===0&&(f=[{start:0,count:c.count,materialIndex:0}]);for(let p=0,m=f.length;p<m;++p){const v=f[p],x=v.start,_=v.count;for(let S=x,T=x+_;S<T;S+=3)for(let M=0;M<3;M++){const b=c.getX(S+M),R=c.getX(S+(M+1)%3);r.fromBufferAttribute(o,b),a.fromBufferAttribute(o,R),sC(r,a,i)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let c=0,f=o.count/3;c<f;c++)for(let p=0;p<3;p++){const m=3*c+p,v=3*c+(p+1)%3;r.fromBufferAttribute(o,m),a.fromBufferAttribute(o,v),sC(r,a,i)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new bt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function sC(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var oC=Object.freeze({__proto__:null,BoxGeometry:mc,CapsuleGeometry:J_,CircleGeometry:K_,ConeGeometry:y0,CylinderGeometry:v0,DodecahedronGeometry:$_,EdgesGeometry:dD,ExtrudeGeometry:Z_,IcosahedronGeometry:eb,LatheGeometry:tb,OctahedronGeometry:x0,PlaneGeometry:yh,PolyhedronGeometry:Uu,RingGeometry:nb,ShapeGeometry:ib,SphereGeometry:_0,TetrahedronGeometry:rb,TorusGeometry:ab,TorusKnotGeometry:sb,TubeGeometry:ob,WireframeGeometry:SD});class ED extends ar{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ot(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class MD extends Us{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Bp extends ar{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new ot(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nu,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Va,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ls extends Bp{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ge(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return jt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ot(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ot(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ot(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class TD extends ar{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ot(16777215),this.specular=new ot(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nu,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Va,this.combine=h0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class CD extends ar{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ot(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nu,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class wD extends ar{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nu,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class RD extends ar{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ot(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nu,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Va,this.combine=h0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class OE extends ar{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=jB,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class NE extends ar{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class BD extends ar{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ot(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nu,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class DD extends jr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Zf(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function OD(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function ND(n){function e(r,a){return n[r]-n[a]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function u1(n,e,t){const i=n.length,r=new n.constructor(i);for(let a=0,o=0;o!==i;++a){const c=t[a]*e;for(let f=0;f!==e;++f)r[o++]=n[c+f]}return r}function UE(n,e,t,i){let r=1,a=n[0];for(;a!==void 0&&a[i]===void 0;)a=n[r++];if(a===void 0)return;let o=a[i];if(o!==void 0)if(Array.isArray(o))do o=a[i],o!==void 0&&(e.push(a.time),t.push(...o)),a=n[r++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[i],o!==void 0&&(e.push(a.time),o.toArray(t,t.length)),a=n[r++];while(a!==void 0);else do o=a[i],o!==void 0&&(e.push(a.time),t.push(o)),a=n[r++];while(a!==void 0)}function x4(n,e,t,i,r=30){const a=n.clone();a.name=e;const o=[];for(let f=0;f<a.tracks.length;++f){const p=a.tracks[f],m=p.getValueSize(),v=[],x=[];for(let _=0;_<p.times.length;++_){const S=p.times[_]*r;if(!(S<t||S>=i)){v.push(p.times[_]);for(let T=0;T<m;++T)x.push(p.values[_*m+T])}}v.length!==0&&(p.times=Zf(v,p.times.constructor),p.values=Zf(x,p.values.constructor),o.push(p))}a.tracks=o;let c=1/0;for(let f=0;f<a.tracks.length;++f)c>a.tracks[f].times[0]&&(c=a.tracks[f].times[0]);for(let f=0;f<a.tracks.length;++f)a.tracks[f].shift(-1*c);return a.resetDuration(),a}function _4(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,a=e/i;for(let o=0;o<r;++o){const c=t.tracks[o],f=c.ValueTypeName;if(f==="bool"||f==="string")continue;const p=n.tracks.find(function(b){return b.name===c.name&&b.ValueTypeName===f});if(p===void 0)continue;let m=0;const v=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);let x=0;const _=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(x=_/3);const S=c.times.length-1;let T;if(a<=c.times[0]){const b=m,R=v-m;T=c.values.slice(b,R)}else if(a>=c.times[S]){const b=S*v+m,R=b+v-m;T=c.values.slice(b,R)}else{const b=c.createInterpolant(),R=m,B=v-m;b.evaluate(a),T=b.resultBuffer.slice(R,B)}f==="quaternion"&&new zi().fromArray(T).normalize().conjugate().toArray(T);const M=p.times.length;for(let b=0;b<M;++b){const R=b*_+x;if(f==="quaternion")zi.multiplyQuaternionsFlat(p.values,R,T,0,p.values,R);else{const B=_-x*2;for(let D=0;D<B;++D)p.values[R+D]-=T[D]}}}return n.blendMode=fE,n}class b4{static convertArray(e,t){return Zf(e,t)}static isTypedArray(e){return OD(e)}static getKeyframeOrder(e){return ND(e)}static sortedArray(e,t,i){return u1(e,t,i)}static flattenJSON(e,t,i,r){UE(e,t,i,r)}static subclip(e,t,i,r,a=30){return x4(e,t,i,r,a)}static makeClipAdditive(e,t=0,i=e,r=30){return _4(e,t,i,r)}}class Dp{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],a=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let c=i+2;;){if(r===void 0){if(e<a)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===c)break;if(a=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=a)){const c=t[1];e<c&&(i=2,a=c);for(let f=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===f)break;if(r=a,a=t[--i-1],e>=a)break t}o=i,i=0;break n}break e}for(;i<o;){const c=i+o>>>1;e<t[c]?o=c:i=c+1}if(r=t[i],a=t[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r;for(let o=0;o!==r;++o)t[o]=i[a+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class UD extends Dp{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:$f,endingEnd:$f}}intervalChanged_(e,t,i){const r=this.parameterPositions;let a=e-2,o=e+1,c=r[a],f=r[o];if(c===void 0)switch(this.getSettings_().endingStart){case Qf:a=e,c=2*t-i;break;case Wg:a=r.length-2,c=t+r[a]-r[a+1];break;default:a=e,c=i}if(f===void 0)switch(this.getSettings_().endingEnd){case Qf:o=e,f=2*i-t;break;case Wg:o=1,f=i+r[1]-r[0];break;default:o=e-1,f=t}const p=(i-t)*.5,m=this.valueSize;this._weightPrev=p/(t-c),this._weightNext=p/(f-i),this._offsetPrev=a*m,this._offsetNext=o*m}interpolate_(e,t,i,r){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,f=e*c,p=f-c,m=this._offsetPrev,v=this._offsetNext,x=this._weightPrev,_=this._weightNext,S=(i-t)/(r-t),T=S*S,M=T*S,b=-x*M+2*x*T-x*S,R=(1+x)*M+(-1.5-2*x)*T+(-.5+x)*S+1,B=(-1-_)*M+(1.5+_)*T+.5*S,D=_*M-_*T;for(let I=0;I!==c;++I)a[I]=b*o[m+I]+R*o[p+I]+B*o[f+I]+D*o[v+I];return a}}class LE extends Dp{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,f=e*c,p=f-c,m=(i-t)/(r-t),v=1-m;for(let x=0;x!==c;++x)a[x]=o[p+x]*v+o[f+x]*m;return a}}class LD extends Dp{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Is{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Zf(t,this.TimeBufferType),this.values=Zf(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Zf(e.times,Array),values:Zf(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new LD(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new LE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new UD(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case dp:t=this.InterpolantFactoryMethodDiscrete;break;case pp:t=this.InterpolantFactoryMethodLinear;break;case fx:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return dp;case this.InterpolantFactoryMethodLinear:return pp;case this.InterpolantFactoryMethodSmooth:return fx}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let a=0,o=r-1;for(;a!==r&&i[a]<e;)++a;for(;o!==-1&&i[o]>t;)--o;if(++o,a!==0||o!==r){a>=o&&(o=Math.max(o,1),a=o-1);const c=this.getValueSize();this.times=i.slice(a,o),this.values=this.values.slice(a*c,o*c)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,a=i.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let c=0;c!==a;c++){const f=i[c];if(typeof f=="number"&&isNaN(f)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,c,f),e=!1;break}if(o!==null&&o>f){console.error("THREE.KeyframeTrack: Out of order keys.",this,c,f,o),e=!1;break}o=f}if(r!==void 0&&OD(r))for(let c=0,f=r.length;c!==f;++c){const p=r[c];if(isNaN(p)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,c,p),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===fx,a=e.length-1;let o=1;for(let c=1;c<a;++c){let f=!1;const p=e[c],m=e[c+1];if(p!==m&&(c!==1||p!==e[0]))if(r)f=!0;else{const v=c*i,x=v-i,_=v+i;for(let S=0;S!==i;++S){const T=t[v+S];if(T!==t[x+S]||T!==t[_+S]){f=!0;break}}}if(f){if(c!==o){e[o]=e[c];const v=c*i,x=o*i;for(let _=0;_!==i;++_)t[x+_]=t[v+_]}++o}}if(a>0){e[o]=e[a];for(let c=a*i,f=o*i,p=0;p!==i;++p)t[f+p]=t[c+p];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Is.prototype.ValueTypeName="";Is.prototype.TimeBufferType=Float32Array;Is.prototype.ValueBufferType=Float32Array;Is.prototype.DefaultInterpolation=pp;class xh extends Is{constructor(e,t,i){super(e,t,i)}}xh.prototype.ValueTypeName="bool";xh.prototype.ValueBufferType=Array;xh.prototype.DefaultInterpolation=dp;xh.prototype.InterpolantFactoryMethodLinear=void 0;xh.prototype.InterpolantFactoryMethodSmooth=void 0;class IE extends Is{constructor(e,t,i,r){super(e,t,i,r)}}IE.prototype.ValueTypeName="color";class fh extends Is{constructor(e,t,i,r){super(e,t,i,r)}}fh.prototype.ValueTypeName="number";class ID extends Dp{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,f=(i-t)/(r-t);let p=e*c;for(let m=p+c;p!==m;p+=4)zi.slerpFlat(a,0,o,p-c,o,p,f);return a}}class hh extends Is{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new ID(this.times,this.values,this.getValueSize(),e)}}hh.prototype.ValueTypeName="quaternion";hh.prototype.InterpolantFactoryMethodSmooth=void 0;class _h extends Is{constructor(e,t,i){super(e,t,i)}}_h.prototype.ValueTypeName="string";_h.prototype.ValueBufferType=Array;_h.prototype.DefaultInterpolation=dp;_h.prototype.InterpolantFactoryMethodLinear=void 0;_h.prototype.InterpolantFactoryMethodSmooth=void 0;class dh extends Is{constructor(e,t,i,r){super(e,t,i,r)}}dh.prototype.ValueTypeName="vector";class _p{constructor(e="",t=-1,i=[],r=z_){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=ss(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,c=i.length;o!==c;++o)t.push(S4(i[o]).scale(r));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,o=i.length;a!==o;++a)t.push(Is.toJSON(i[a]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const a=t.length,o=[];for(let c=0;c<a;c++){let f=[],p=[];f.push((c+a-1)%a,c,(c+1)%a),p.push(0,1,0);const m=ND(f);f=u1(f,1,m),p=u1(p,1,m),!r&&f[0]===0&&(f.push(a),p.push(p[0])),o.push(new fh(".morphTargetInfluences["+t[c].name+"]",f,p).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},a=/^([\w-]*?)([\d]+)$/;for(let c=0,f=e.length;c<f;c++){const p=e[c],m=p.name.match(a);if(m&&m.length>1){const v=m[1];let x=r[v];x||(r[v]=x=[]),x.push(p)}}const o=[];for(const c in r)o.push(this.CreateFromMorphTargetSequence(c,r[c],t,i));return o}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(v,x,_,S,T){if(_.length!==0){const M=[],b=[];UE(_,M,b,S),M.length!==0&&T.push(new v(x,M,b))}},r=[],a=e.name||"default",o=e.fps||30,c=e.blendMode;let f=e.length||-1;const p=e.hierarchy||[];for(let v=0;v<p.length;v++){const x=p[v].keys;if(!(!x||x.length===0))if(x[0].morphTargets){const _={};let S;for(S=0;S<x.length;S++)if(x[S].morphTargets)for(let T=0;T<x[S].morphTargets.length;T++)_[x[S].morphTargets[T]]=-1;for(const T in _){const M=[],b=[];for(let R=0;R!==x[S].morphTargets.length;++R){const B=x[S];M.push(B.time),b.push(B.morphTarget===T?1:0)}r.push(new fh(".morphTargetInfluence["+T+"]",M,b))}f=_.length*o}else{const _=".bones["+t[v].name+"]";i(dh,_+".position",x,"pos",r),i(hh,_+".quaternion",x,"rot",r),i(dh,_+".scale",x,"scl",r)}}return r.length===0?null:new this(a,f,r,c)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const a=this.tracks[i];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function A4(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return fh;case"vector":case"vector2":case"vector3":case"vector4":return dh;case"color":return IE;case"quaternion":return hh;case"bool":case"boolean":return xh;case"string":return _h}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function S4(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=A4(n.type);if(n.times===void 0){const t=[],i=[];UE(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const ol={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class PE{constructor(e,t,i){const r=this;let a=!1,o=0,c=0,f;const p=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.abortController=new AbortController,this.itemStart=function(m){c++,a===!1&&r.onStart!==void 0&&r.onStart(m,o,c),a=!0},this.itemEnd=function(m){o++,r.onProgress!==void 0&&r.onProgress(m,o,c),o===c&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(m){r.onError!==void 0&&r.onError(m)},this.resolveURL=function(m){return f?f(m):m},this.setURLModifier=function(m){return f=m,this},this.addHandler=function(m,v){return p.push(m,v),this},this.removeHandler=function(m){const v=p.indexOf(m);return v!==-1&&p.splice(v,2),this},this.getHandler=function(m){for(let v=0,x=p.length;v<x;v+=2){const _=p[v],S=p[v+1];if(_.global&&(_.lastIndex=0),_.test(m))return S}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const PD=new PE;class Xr{constructor(e){this.manager=e!==void 0?e:PD,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,a){i.load(e,r,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Xr.DEFAULT_MATERIAL_NAME="__DEFAULT";const Yl={};class E4 extends Error{constructor(e,t){super(e),this.response=t}}class os extends Xr{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=ol.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Yl[e]!==void 0){Yl[e].push({onLoad:t,onProgress:i,onError:r});return}Yl[e]=[],Yl[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),c=this.mimeType,f=this.responseType;fetch(o).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const m=Yl[e],v=p.body.getReader(),x=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),_=x?parseInt(x):0,S=_!==0;let T=0;const M=new ReadableStream({start(b){R();function R(){v.read().then(({done:B,value:D})=>{if(B)b.close();else{T+=D.byteLength;const I=new ProgressEvent("progress",{lengthComputable:S,loaded:T,total:_});for(let U=0,F=m.length;U<F;U++){const V=m[U];V.onProgress&&V.onProgress(I)}b.enqueue(D),R()}},B=>{b.error(B)})}}});return new Response(M)}else throw new E4(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(f){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(m=>new DOMParser().parseFromString(m,c));case"json":return p.json();default:if(c==="")return p.text();{const v=/charset="?([^;"\s]*)"?/i.exec(c),x=v&&v[1]?v[1].toLowerCase():void 0,_=new TextDecoder(x);return p.arrayBuffer().then(S=>_.decode(S))}}}).then(p=>{ol.add(`file:${e}`,p);const m=Yl[e];delete Yl[e];for(let v=0,x=m.length;v<x;v++){const _=m[v];_.onLoad&&_.onLoad(p)}}).catch(p=>{const m=Yl[e];if(m===void 0)throw this.manager.itemError(e),p;delete Yl[e];for(let v=0,x=m.length;v<x;v++){const _=m[v];_.onError&&_.onError(p)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class M4 extends Xr{constructor(e){super(e)}load(e,t,i,r){const a=this,o=new os(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(f){r?r(f):console.error(f),a.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=_p.parse(e[i]);t.push(r)}return t}}class T4 extends Xr{constructor(e){super(e)}load(e,t,i,r){const a=this,o=[],c=new W_,f=new os(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(a.withCredentials);let p=0;function m(v){f.load(e[v],function(x){const _=a.parse(x,!0);o[v]={width:_.width,height:_.height,format:_.format,mipmaps:_.mipmaps},p+=1,p===6&&(_.mipmapCount===1&&(c.minFilter=Pi),c.image=o,c.format=_.format,c.needsUpdate=!0,t&&t(c))},i,r)}if(Array.isArray(e))for(let v=0,x=e.length;v<x;++v)m(v);else f.load(e,function(v){const x=a.parse(v,!0);if(x.isCubemap){const _=x.mipmaps.length/x.mipmapCount;for(let S=0;S<_;S++){o[S]={mipmaps:[]};for(let T=0;T<x.mipmapCount;T++)o[S].mipmaps.push(x.mipmaps[S*x.mipmapCount+T]),o[S].format=x.format,o[S].width=x.width,o[S].height=x.height}c.image=o}else c.image.width=x.width,c.image.height=x.height,c.mipmaps=x.mipmaps;x.mipmapCount===1&&(c.minFilter=Pi),c.format=x.format,c.needsUpdate=!0,t&&t(c)},i,r);return c}}const Hd=new WeakMap;class t0 extends Xr{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=ol.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0);else{let v=Hd.get(o);v===void 0&&(v=[],Hd.set(o,v)),v.push({onLoad:t,onError:r})}return o}const c=$g("img");function f(){m(),t&&t(this);const v=Hd.get(this)||[];for(let x=0;x<v.length;x++){const _=v[x];_.onLoad&&_.onLoad(this)}Hd.delete(this),a.manager.itemEnd(e)}function p(v){m(),r&&r(v),ol.remove(`image:${e}`);const x=Hd.get(this)||[];for(let _=0;_<x.length;_++){const S=x[_];S.onError&&S.onError(v)}Hd.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function m(){c.removeEventListener("load",f,!1),c.removeEventListener("error",p,!1)}return c.addEventListener("load",f,!1),c.addEventListener("error",p,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(c.crossOrigin=this.crossOrigin),ol.add(`image:${e}`,c),a.manager.itemStart(e),c.src=e,c}}class C4 extends Xr{constructor(e){super(e)}load(e,t,i,r){const a=new p0;a.colorSpace=Hr;const o=new t0(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let c=0;function f(p){o.load(e[p],function(m){a.images[p]=m,c++,c===6&&(a.needsUpdate=!0,t&&t(a))},void 0,r)}for(let p=0;p<e.length;++p)f(p);return a}}class w4 extends Xr{constructor(e){super(e)}load(e,t,i,r){const a=this,o=new cl,c=new os(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(a.withCredentials),c.load(e,function(f){let p;try{p=a.parse(f)}catch(m){if(r!==void 0)r(m);else{console.error(m);return}}p.image!==void 0?o.image=p.image:p.data!==void 0&&(o.image.width=p.width,o.image.height=p.height,o.image.data=p.data),o.wrapS=p.wrapS!==void 0?p.wrapS:rs,o.wrapT=p.wrapT!==void 0?p.wrapT:rs,o.magFilter=p.magFilter!==void 0?p.magFilter:Pi,o.minFilter=p.minFilter!==void 0?p.minFilter:Pi,o.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(o.colorSpace=p.colorSpace),p.flipY!==void 0&&(o.flipY=p.flipY),p.format!==void 0&&(o.format=p.format),p.type!==void 0&&(o.type=p.type),p.mipmaps!==void 0&&(o.mipmaps=p.mipmaps,o.minFilter=Ds),p.mipmapCount===1&&(o.minFilter=Pi),p.generateMipmaps!==void 0&&(o.generateMipmaps=p.generateMipmaps),o.needsUpdate=!0,t&&t(o,p)},i,r),o}}class zD extends Xr{constructor(e){super(e)}load(e,t,i,r){const a=new ui,o=new t0(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(c){a.image=c,a.needsUpdate=!0,t!==void 0&&t(a)},i,r),a}}let Lu=class extends An{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ot(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}};class FD extends Lu{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(An.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ot(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const GA=new Ot,lC=new K,cC=new K;class zE{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ge(512,512),this.mapType=Ns,this.map=null,this.mapPass=null,this.matrix=new Ot,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Rp,this._frameExtents=new Ge(1,1),this._viewportCount=1,this._viewports=[new mn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;lC.setFromMatrixPosition(e.matrixWorld),t.position.copy(lC),cC.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(cC),t.updateMatrixWorld(),GA.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(GA,t.coordinateSystem,t.reversedDepth),t.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(GA)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class R4 extends zE{constructor(){super(new Xi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=gp*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||t.far;(i!==t.fov||r!==t.aspect||a!==t.far)&&(t.fov=i,t.aspect=r,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class FE extends Lu{constructor(e,t,i=0,r=Math.PI/3,a=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(An.DEFAULT_UP),this.updateMatrix(),this.target=new An,this.distance=i,this.angle=r,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new R4}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const uC=new Ot,pg=new K,VA=new K;class B4 extends zE{constructor(){super(new Xi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ge(4,2),this._viewportCount=6,this._viewports=[new mn(2,1,1,1),new mn(0,1,1,1),new mn(3,1,1,1),new mn(1,1,1,1),new mn(3,0,1,1),new mn(1,0,1,1)],this._cubeDirections=[new K(1,0,0),new K(-1,0,0),new K(0,0,1),new K(0,0,-1),new K(0,1,0),new K(0,-1,0)],this._cubeUps=[new K(0,1,0),new K(0,1,0),new K(0,1,0),new K(0,1,0),new K(0,0,1),new K(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,a=e.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),pg.setFromMatrixPosition(e.matrixWorld),i.position.copy(pg),VA.copy(i.position),VA.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(VA),i.updateMatrixWorld(),r.makeTranslation(-pg.x,-pg.y,-pg.z),uC.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(uC,i.coordinateSystem,i.reversedDepth)}}class HE extends Lu{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new B4}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Op extends G_{constructor(e=-1,t=1,i=1,r=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-e,o=i+e,c=r+t,f=r-t;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=p*this.view.offsetX,o=a+p*this.view.width,c-=m*this.view.offsetY,f=c-m*this.view.height}this.projectionMatrix.makeOrthographic(a,o,c,f,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class D4 extends zE{constructor(){super(new Op(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class lb extends Lu{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(An.DEFAULT_UP),this.updateMatrix(),this.target=new An,this.shadow=new D4}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class GE extends Lu{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class HD extends Lu{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class GD{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new K)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*a),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*a)),t.addScaledVector(o[6],.315392*(3*a*a-1)),t.addScaledVector(o[7],1.092548*(i*a)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*a),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*a),t.addScaledVector(o[6],.743125*a*a-.247708),t.addScaledVector(o[7],2*.429043*i*a),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,a=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*a,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*i*a,t[8]=.546274*(i*i-r*r)}}class VD extends Lu{constructor(e=new GD,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class cb extends Xr{constructor(e){super(e),this.textures={}}load(e,t,i,r){const a=this,o=new os(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(f){r?r(f):console.error(f),a.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new ot().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(r.uniforms[a]={},o.type){case"t":r.uniforms[a].value=i(o.value);break;case"c":r.uniforms[a].value=new ot().setHex(o.value);break;case"v2":r.uniforms[a].value=new Ge().fromArray(o.value);break;case"v3":r.uniforms[a].value=new K().fromArray(o.value);break;case"v4":r.uniforms[a].value=new mn().fromArray(o.value);break;case"m3":r.uniforms[a].value=new tn().fromArray(o.value);break;case"m4":r.uniforms[a].value=new Ot().fromArray(o.value);break;default:r.uniforms[a].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new Ge().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Ge().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return cb.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:ED,SpriteMaterial:_E,RawShaderMaterial:MD,ShaderMaterial:Us,PointsMaterial:q_,MeshPhysicalMaterial:Ls,MeshStandardMaterial:Bp,MeshPhongMaterial:TD,MeshToonMaterial:CD,MeshNormalMaterial:wD,MeshLambertMaterial:RD,MeshDepthMaterial:OE,MeshDistanceMaterial:NE,MeshBasicMaterial:Ha,MeshMatcapMaterial:BD,LineDashedMaterial:DD,LineBasicMaterial:jr,Material:ar};return new t[e]}}class Eu{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class kD extends Qt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class jD extends Xr{constructor(e){super(e)}load(e,t,i,r){const a=this,o=new os(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(f){r?r(f):console.error(f),a.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(_,S){if(t[S]!==void 0)return t[S];const M=_.interleavedBuffers[S],b=a(_,M.buffer),R=Qd(M.type,b),B=new m0(R,M.stride);return B.uuid=M.uuid,t[S]=B,B}function a(_,S){if(i[S]!==void 0)return i[S];const M=_.arrayBuffers[S],b=new Uint32Array(M).buffer;return i[S]=b,b}const o=e.isInstancedBufferGeometry?new kD:new Qt,c=e.data.index;if(c!==void 0){const _=Qd(c.type,c.array);o.setIndex(new Tn(_,1))}const f=e.data.attributes;for(const _ in f){const S=f[_];let T;if(S.isInterleavedBufferAttribute){const M=r(e.data,S.data);T=new Ru(M,S.itemSize,S.offset,S.normalized)}else{const M=Qd(S.type,S.array),b=S.isInstancedBufferAttribute?ch:Tn;T=new b(M,S.itemSize,S.normalized)}S.name!==void 0&&(T.name=S.name),S.usage!==void 0&&T.setUsage(S.usage),o.setAttribute(_,T)}const p=e.data.morphAttributes;if(p)for(const _ in p){const S=p[_],T=[];for(let M=0,b=S.length;M<b;M++){const R=S[M];let B;if(R.isInterleavedBufferAttribute){const D=r(e.data,R.data);B=new Ru(D,R.itemSize,R.offset,R.normalized)}else{const D=Qd(R.type,R.array);B=new Tn(D,R.itemSize,R.normalized)}R.name!==void 0&&(B.name=R.name),T.push(B)}o.morphAttributes[_]=T}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const v=e.data.groups||e.data.drawcalls||e.data.offsets;if(v!==void 0)for(let _=0,S=v.length;_!==S;++_){const T=v[_];o.addGroup(T.start,T.count,T.materialIndex)}const x=e.data.boundingSphere;return x!==void 0&&(o.boundingSphere=new vr().fromJSON(x)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class O4 extends Xr{constructor(e){super(e)}load(e,t,i,r){const a=this,o=this.path===""?Eu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const c=new os(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(f){let p=null;try{p=JSON.parse(f)}catch(v){r!==void 0&&r(v),console.error("THREE:ObjectLoader: Can't parse "+e+".",v.message);return}const m=p.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(p,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?Eu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new os(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,t),c=JSON.parse(o),f=c.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(c)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(p)}),c=this.parseTextures(e.textures,o),f=this.parseMaterials(e.materials,c),p=this.parseObject(e.object,a,f,c,i),m=this.parseSkeletons(e.skeletons,p);if(this.bindSkeletons(p,m),this.bindLightTargets(p),t!==void 0){let v=!1;for(const x in o)if(o[x].data instanceof HTMLImageElement){v=!0;break}v===!1&&t(p)}return p}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),c=this.parseMaterials(e.materials,o),f=this.parseObject(e.object,r,c,o,t),p=this.parseSkeletons(e.skeletons,f);return this.bindSkeletons(f,p),this.bindLightTargets(f),f}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const a=new ah().fromJSON(e[i]);t[a.uuid]=a}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const c=new g0().fromJSON(e[a],r);i[c.uuid]=c}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new jD;for(let a=0,o=e.length;a<o;a++){let c;const f=e[a];switch(f.type){case"BufferGeometry":case"InstancedBufferGeometry":c=r.parse(f);break;default:f.type in oC?c=oC[f.type].fromJSON(f,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${f.type}"`)}c.uuid=f.uuid,f.name!==void 0&&(c.name=f.name),f.userData!==void 0&&(c.userData=f.userData),i[f.uuid]=c}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const a=new cb;a.setTextures(t);for(let o=0,c=e.length;o<c;o++){const f=e[o];i[f.uuid]===void 0&&(i[f.uuid]=a.parse(f)),r[f.uuid]=i[f.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],a=_p.parse(r);t[a.uuid]=a}return t}parseImages(e,t){const i=this,r={};let a;function o(f){return i.manager.itemStart(f),a.load(f,function(){i.manager.itemEnd(f)},void 0,function(){i.manager.itemError(f),i.manager.itemEnd(f)})}function c(f){if(typeof f=="string"){const p=f,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.resourcePath+p;return o(m)}else return f.data?{data:Qd(f.type,f.data),width:f.width,height:f.height}:null}if(e!==void 0&&e.length>0){const f=new PE(t);a=new t0(f),a.setCrossOrigin(this.crossOrigin);for(let p=0,m=e.length;p<m;p++){const v=e[p],x=v.url;if(Array.isArray(x)){const _=[];for(let S=0,T=x.length;S<T;S++){const M=x[S],b=c(M);b!==null&&(b instanceof HTMLImageElement?_.push(b):_.push(new cl(b.data,b.width,b.height)))}r[v.uuid]=new Su(_)}else{const _=c(v.url);r[v.uuid]=new Su(_)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function a(o){if(typeof o=="string"){const c=o,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:t.resourcePath+c;return await r.loadAsync(f)}else return o.data?{data:Qd(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new t0(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,c=e.length;o<c;o++){const f=e[o],p=f.url;if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const _=p[v],S=await a(_);S!==null&&(S instanceof HTMLImageElement?m.push(S):m.push(new cl(S.data,S.width,S.height)))}i[f.uuid]=new Su(m)}else{const m=await a(f.url);i[f.uuid]=new Su(m)}}}return i}parseTextures(e,t){function i(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const r={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const c=e[a];c.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',c.uuid),t[c.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",c.image);const f=t[c.image],p=f.data;let m;Array.isArray(p)?(m=new p0,p.length===6&&(m.needsUpdate=!0)):(p&&p.data?m=new cl:m=new ui,p&&(m.needsUpdate=!0)),m.source=f,m.uuid=c.uuid,c.name!==void 0&&(m.name=c.name),c.mapping!==void 0&&(m.mapping=i(c.mapping,N4)),c.channel!==void 0&&(m.channel=c.channel),c.offset!==void 0&&m.offset.fromArray(c.offset),c.repeat!==void 0&&m.repeat.fromArray(c.repeat),c.center!==void 0&&m.center.fromArray(c.center),c.rotation!==void 0&&(m.rotation=c.rotation),c.wrap!==void 0&&(m.wrapS=i(c.wrap[0],fC),m.wrapT=i(c.wrap[1],fC)),c.format!==void 0&&(m.format=c.format),c.internalFormat!==void 0&&(m.internalFormat=c.internalFormat),c.type!==void 0&&(m.type=c.type),c.colorSpace!==void 0&&(m.colorSpace=c.colorSpace),c.minFilter!==void 0&&(m.minFilter=i(c.minFilter,hC)),c.magFilter!==void 0&&(m.magFilter=i(c.magFilter,hC)),c.anisotropy!==void 0&&(m.anisotropy=c.anisotropy),c.flipY!==void 0&&(m.flipY=c.flipY),c.generateMipmaps!==void 0&&(m.generateMipmaps=c.generateMipmaps),c.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=c.premultiplyAlpha),c.unpackAlignment!==void 0&&(m.unpackAlignment=c.unpackAlignment),c.compareFunction!==void 0&&(m.compareFunction=c.compareFunction),c.userData!==void 0&&(m.userData=c.userData),r[c.uuid]=m}return r}parseObject(e,t,i,r,a){let o;function c(x){return t[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",x),t[x]}function f(x){if(x!==void 0){if(Array.isArray(x)){const _=[];for(let S=0,T=x.length;S<T;S++){const M=x[S];i[M]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",M),_.push(i[M])}return _}return i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),i[x]}}function p(x){return r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",x),r[x]}let m,v;switch(e.type){case"Scene":o=new j_,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ot(e.background):o.background=p(e.background)),e.environment!==void 0&&(o.environment=p(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new k_(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new V_(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Xi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Op(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new GE(e.color,e.intensity);break;case"DirectionalLight":o=new lb(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new HE(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new HD(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new FE(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new FD(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new VD().fromJSON(e);break;case"SkinnedMesh":m=c(e.geometry),v=f(e.material),o=new bE(m,v),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":m=c(e.geometry),v=f(e.material),o=new ri(m,v);break;case"InstancedMesh":m=c(e.geometry),v=f(e.material);const x=e.count,_=e.instanceMatrix,S=e.instanceColor;o=new AE(m,v,x),o.instanceMatrix=new ch(new Float32Array(_.array),16),S!==void 0&&(o.instanceColor=new ch(new Float32Array(S.array),S.itemSize));break;case"BatchedMesh":m=c(e.geometry),v=f(e.material),o=new uD(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,v),o.geometry=m,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(T=>{let M=null,b=null;return T.boundingBox!==void 0&&(M=new Cr().fromJSON(T.boundingBox)),T.boundingSphere!==void 0&&(b=new vr().fromJSON(T.boundingSphere)),{...T,boundingBox:M,boundingSphere:b}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=p(e.matricesTexture.uuid),o._indirectTexture=p(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=p(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new vr().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new Cr().fromJSON(e.boundingBox));break;case"LOD":o=new cD;break;case"Line":o=new hc(c(e.geometry),f(e.material));break;case"LineLoop":o=new SE(c(e.geometry),f(e.material));break;case"LineSegments":o=new _o(c(e.geometry),f(e.material));break;case"PointCloud":case"Points":o=new EE(c(e.geometry),f(e.material));break;case"Sprite":o=new lD(f(e.material));break;case"Group":o=new tc;break;case"Bone":o=new X_;break;default:o=new An}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const x=e.children;for(let _=0;_<x.length;_++)o.add(this.parseObject(x[_],t,i,r,a))}if(e.animations!==void 0){const x=e.animations;for(let _=0;_<x.length;_++){const S=x[_];o.animations.push(a[S])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const x=e.levels;for(let _=0;_<x.length;_++){const S=x[_],T=o.getObjectByProperty("uuid",S.object);T!==void 0&&o.addLevel(T,S.distance,S.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new An}})}}const N4={UVMapping:B_,CubeReflectionMapping:uc,CubeRefractionMapping:Tu,EquirectangularReflectionMapping:Yg,EquirectangularRefractionMapping:qg,CubeUVReflectionMapping:Tp},fC={RepeatWrapping:Cu,ClampToEdgeWrapping:rs,MirroredRepeatWrapping:lp},hC={NearestFilter:gr,NearestMipmapNearestFilter:D_,NearestMipmapLinearFilter:Kf,LinearFilter:Pi,LinearMipmapNearestFilter:np,LinearMipmapLinearFilter:Ds},kA=new WeakMap;class XD extends Xr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=ol.get(`image-bitmap:${e}`);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(p=>{if(kA.has(o)===!0)r&&r(kA.get(o)),a.manager.itemError(e),a.manager.itemEnd(e);else return t&&t(p),a.manager.itemEnd(e),p});return}return setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o}const c={};c.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",c.headers=this.requestHeader,c.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const f=fetch(e,c).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(p){return ol.add(`image-bitmap:${e}`,p),t&&t(p),a.manager.itemEnd(e),p}).catch(function(p){r&&r(p),kA.set(f,p),ol.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});ol.add(`image-bitmap:${e}`,f),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let Vy;class VE{static getContext(){return Vy===void 0&&(Vy=new(window.AudioContext||window.webkitAudioContext)),Vy}static setContext(e){Vy=e}}class U4 extends Xr{constructor(e){super(e)}load(e,t,i,r){const a=this,o=new os(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(f){try{const p=f.slice(0);VE.getContext().decodeAudioData(p,function(v){t(v)}).catch(c)}catch(p){c(p)}},i,r);function c(f){r?r(f):console.error(f),a.manager.itemError(e)}}}const dC=new Ot,pC=new Ot,Lf=new Ot;class L4{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Xi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Xi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Lf.copy(e.projectionMatrix);const r=t.eyeSep/2,a=r*t.near/t.focus,o=t.near*Math.tan(rh*t.fov*.5)/t.zoom;let c,f;pC.elements[12]=-r,dC.elements[12]=r,c=-o*t.aspect+a,f=o*t.aspect+a,Lf.elements[0]=2*t.near/(f-c),Lf.elements[8]=(f+c)/(f-c),this.cameraL.projectionMatrix.copy(Lf),c=-o*t.aspect-a,f=o*t.aspect-a,Lf.elements[0]=2*t.near/(f-c),Lf.elements[8]=(f+c)/(f-c),this.cameraR.projectionMatrix.copy(Lf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(pC),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(dC)}}class YD extends Xi{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class kE{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const If=new K,jA=new zi,I4=new K,Pf=new K,zf=new K;class P4 extends An{constructor(){super(),this.type="AudioListener",this.context=VE.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new kE}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(If,jA,I4),Pf.set(0,0,-1).applyQuaternion(jA),zf.set(0,1,0).applyQuaternion(jA),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(If.x,i),t.positionY.linearRampToValueAtTime(If.y,i),t.positionZ.linearRampToValueAtTime(If.z,i),t.forwardX.linearRampToValueAtTime(Pf.x,i),t.forwardY.linearRampToValueAtTime(Pf.y,i),t.forwardZ.linearRampToValueAtTime(Pf.z,i),t.upX.linearRampToValueAtTime(zf.x,i),t.upY.linearRampToValueAtTime(zf.y,i),t.upZ.linearRampToValueAtTime(zf.z,i)}else t.setPosition(If.x,If.y,If.z),t.setOrientation(Pf.x,Pf.y,Pf.z,zf.x,zf.y,zf.z)}}class qD extends An{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Ff=new K,mC=new zi,z4=new K,Hf=new K;class F4 extends qD{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Ff,mC,z4),Hf.set(0,0,1).applyQuaternion(mC);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Ff.x,i),t.positionY.linearRampToValueAtTime(Ff.y,i),t.positionZ.linearRampToValueAtTime(Ff.z,i),t.orientationX.linearRampToValueAtTime(Hf.x,i),t.orientationY.linearRampToValueAtTime(Hf.y,i),t.orientationZ.linearRampToValueAtTime(Hf.z,i)}else t.setPosition(Ff.x,Ff.y,Ff.z),t.setOrientation(Hf.x,Hf.y,Hf.z)}}class H4{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class WD{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,a,o;switch(t){case"quaternion":r=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,a=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let c=0;c!==r;++c)i[a+c]=i[c];o=t}else{o+=t;const c=t/o;this._mixBufferRegion(i,a,0,c,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,c=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const f=t*this._origIndex;this._mixBufferRegion(i,r,f,1-a,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let f=t,p=t+t;f!==p;++f)if(i[f]!==i[f+t]){c.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let a=i,o=r;a!==o;++a)t[a]=t[r+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,a){if(r>=.5)for(let o=0;o!==a;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){zi.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,a){const o=this._workIndex*a;zi.multiplyQuaternionsFlat(e,o,e,t,e,i),zi.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,a){const o=1-r;for(let c=0;c!==a;++c){const f=t+c;e[f]=e[f]*o+e[i+c]*r}}_lerpAdditive(e,t,i,r,a){for(let o=0;o!==a;++o){const c=t+o;e[c]=e[c]+e[i+o]*r}}}const jE="\\[\\]\\.:\\/",G4=new RegExp("["+jE+"]","g"),XE="[^"+jE+"]",V4="[^"+jE.replace("\\.","")+"]",k4=/((?:WC+[\/:])*)/.source.replace("WC",XE),j4=/(WCOD+)?/.source.replace("WCOD",V4),X4=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",XE),Y4=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",XE),q4=new RegExp("^"+k4+j4+X4+Y4+"$"),W4=["material","materials","bones","map"];class J4{constructor(e,t,i){const r=i||Mn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Mn{constructor(e,t,i){this.path=t,this.parsedPath=i||Mn.parseTrackName(t),this.node=Mn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Mn.Composite(e,t,i):new Mn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(G4,"")}static parseTrackName(e){const t=q4.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=i.nodeName.substring(r+1);W4.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(a){for(let o=0;o<a.length;o++){const c=a[o];if(c.name===t||c.uuid===t)return c;const f=i(c.children);if(f)return f}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let a=t.propertyIndex;if(e||(e=Mn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let p=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===p){p=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(p!==void 0){if(e[p]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[p]}}const o=e[r];if(o===void 0){const p=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+p+"."+r+" but it wasn't found.",e);return}let c=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?c=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(c=this.Versioning.MatrixWorldNeedsUpdate);let f=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}f=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(f=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(f=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[f],this.setValue=this.SetterByBindingTypeAndVersioning[f][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Mn.Composite=J4;Mn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Mn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Mn.prototype.GetterByBindingType=[Mn.prototype._getValue_direct,Mn.prototype._getValue_array,Mn.prototype._getValue_arrayElement,Mn.prototype._getValue_toArray];Mn.prototype.SetterByBindingTypeAndVersioning=[[Mn.prototype._setValue_direct,Mn.prototype._setValue_direct_setNeedsUpdate,Mn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_array,Mn.prototype._setValue_array_setNeedsUpdate,Mn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_arrayElement,Mn.prototype._setValue_arrayElement_setNeedsUpdate,Mn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Mn.prototype._setValue_fromArray,Mn.prototype._setValue_fromArray_setNeedsUpdate,Mn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class K4{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ss(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length;let c,f=e.length,p=this.nCachedObjects_;for(let m=0,v=arguments.length;m!==v;++m){const x=arguments[m],_=x.uuid;let S=t[_];if(S===void 0){S=f++,t[_]=S,e.push(x);for(let T=0,M=o;T!==M;++T)a[T].push(new Mn(x,i[T],r[T]))}else if(S<p){c=e[S];const T=--p,M=e[T];t[M.uuid]=S,e[S]=M,t[_]=T,e[T]=x;for(let b=0,R=o;b!==R;++b){const B=a[b],D=B[T];let I=B[S];B[S]=D,I===void 0&&(I=new Mn(x,i[b],r[b])),B[T]=I}}else e[S]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_;for(let o=0,c=arguments.length;o!==c;++o){const f=arguments[o],p=f.uuid,m=t[p];if(m!==void 0&&m>=a){const v=a++,x=e[v];t[x.uuid]=m,e[m]=x,t[p]=v,e[v]=f;for(let _=0,S=r;_!==S;++_){const T=i[_],M=T[v],b=T[m];T[m]=M,T[v]=b}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_,o=e.length;for(let c=0,f=arguments.length;c!==f;++c){const p=arguments[c],m=p.uuid,v=t[m];if(v!==void 0)if(delete t[m],v<a){const x=--a,_=e[x],S=--o,T=e[S];t[_.uuid]=v,e[v]=_,t[T.uuid]=x,e[x]=T,e.pop();for(let M=0,b=r;M!==b;++M){const R=i[M],B=R[x],D=R[S];R[v]=B,R[x]=D,R.pop()}}else{const x=--o,_=e[x];x>0&&(t[_.uuid]=v),e[v]=_,e.pop();for(let S=0,T=r;S!==T;++S){const M=i[S];M[v]=M[x],M.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const a=this._bindings;if(r!==void 0)return a[r];const o=this._paths,c=this._parsedPaths,f=this._objects,p=f.length,m=this.nCachedObjects_,v=new Array(p);r=a.length,i[e]=r,o.push(e),c.push(t),a.push(v);for(let x=m,_=f.length;x!==_;++x){const S=f[x];v[x]=new Mn(S,e,t)}return v}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,a=this._parsedPaths,o=this._bindings,c=o.length-1,f=o[c],p=e[c];t[p]=i,o[i]=f,o.pop(),a[i]=a[c],a.pop(),r[i]=r[c],r.pop()}}}class JD{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const a=t.tracks,o=a.length,c=new Array(o),f={endingStart:$f,endingEnd:$f};for(let p=0;p!==o;++p){const m=a[p].createInterpolant(null);c[p]=m,m.settings=f}this._interpolantSettings=f,this._interpolants=c,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=GB,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,a=e._clip.duration,o=a/r,c=r/a;e.warp(1,o,t),this.warp(c,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,a=r.time,o=this.timeScale;let c=this._timeScaleInterpolant;c===null&&(c=r._lendControlInterpolant(),this._timeScaleInterpolant=c);const f=c.parameterPositions,p=c.sampleValues;return f[0]=a,f[1]=a+i,p[0]=e/o,p[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const f=(e-a)*i;f<0||i===0?t=0:(this._startTime=null,t=i*f)}t*=this._updateTimeScale(e);const o=this._updateTime(t),c=this._updateWeight(e);if(c>0){const f=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case fE:for(let m=0,v=f.length;m!==v;++m)f[m].evaluate(o),p[m].accumulateAdditive(c);break;case z_:default:for(let m=0,v=f.length;m!==v;++m)f[m].evaluate(o),p[m].accumulate(r,c)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,a=this._loopCount;const o=i===VB;if(e===0)return a===-1?r:o&&(a&1)===1?t-r:r;if(i===HB){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const c=Math.floor(r/t);r-=t*c,a+=Math.abs(c);const f=this.repetitions-a;if(f<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(f===1){const p=e<0;this._setEndings(p,!p,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=r;if(o&&(a&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Qf,r.endingEnd=Qf):(e?r.endingStart=this.zeroSlopeAtStart?Qf:$f:r.endingStart=Wg,t?r.endingEnd=this.zeroSlopeAtEnd?Qf:$f:r.endingEnd=Wg)}_scheduleFading(e,t,i){const r=this._mixer,a=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const c=o.parameterPositions,f=o.sampleValues;return c[0]=a,f[0]=t,c[1]=a+e,f[1]=i,this}}const $4=new Float32Array(1);class Q4 extends gl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,a=r.length,o=e._propertyBindings,c=e._interpolants,f=i.uuid,p=this._bindingsByRootAndName;let m=p[f];m===void 0&&(m={},p[f]=m);for(let v=0;v!==a;++v){const x=r[v],_=x.name;let S=m[_];if(S!==void 0)++S.referenceCount,o[v]=S;else{if(S=o[v],S!==void 0){S._cacheIndex===null&&(++S.referenceCount,this._addInactiveBinding(S,f,_));continue}const T=t&&t._propertyBindings[v].binding.parsedPath;S=new WD(Mn.create(i,_,T),x.ValueTypeName,x.getValueSize()),++S.referenceCount,this._addInactiveBinding(S,f,_),o[v]=S}c[v].resultBuffer=S.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,a=this._actionsByClip;let o=a[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=o;else{const c=o.knownActions;e._byClipCacheIndex=c.length,c.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,c=o[a],f=c.knownActions,p=f[f.length-1],m=e._byClipCacheIndex;p._byClipCacheIndex=m,f[m]=p,f.pop(),e._byClipCacheIndex=null;const v=c.actionByRoot,x=(e._localRoot||this._root).uuid;delete v[x],f.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,a=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,a=i.path,o=this._bindingsByRootAndName,c=o[r],f=t[t.length-1],p=e._cacheIndex;f._cacheIndex=p,t[p]=f,t.pop(),delete c[a],Object.keys(c).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new LE(new Float32Array(2),new Float32Array(2),1,$4),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=i,t[i]=a}clipAction(e,t,i){const r=t||this._root,a=r.uuid;let o=typeof e=="string"?_p.findByName(r,e):e;const c=o!==null?o.uuid:e,f=this._actionsByClip[c];let p=null;if(i===void 0&&(o!==null?i=o.blendMode:i=z_),f!==void 0){const v=f.actionByRoot[a];if(v!==void 0&&v.blendMode===i)return v;p=f.knownActions[0],o===null&&(o=p._clip)}if(o===null)return null;const m=new JD(this,o,t,i);return this._bindAction(m,p),this._addInactiveAction(m,c,a),m}existingAction(e,t){const i=t||this._root,r=i.uuid,a=typeof e=="string"?_p.findByName(i,e):e,o=a?a.uuid:e,c=this._actionsByClip[o];return c!==void 0&&c.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let p=0;p!==i;++p)t[p]._update(r,e,a,o);const c=this._bindings,f=this._nActiveBindings;for(let p=0;p!==f;++p)c[p].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,a=r[i];if(a!==void 0){const o=a.knownActions;for(let c=0,f=o.length;c!==f;++c){const p=o[c];this._deactivateAction(p);const m=p._cacheIndex,v=t[t.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,v._cacheIndex=m,t[m]=v,t.pop(),this._removeInactiveBindingsForAction(p)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const c=i[o].actionByRoot,f=c[t];f!==void 0&&(this._deactivateAction(f),this._removeInactiveAction(f))}const r=this._bindingsByRootAndName,a=r[t];if(a!==void 0)for(const o in a){const c=a[o];c.restoreOriginalState(),this._removeInactiveBinding(c)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class Z4 extends gE{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new H_(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class YE{constructor(e){this.value=e}clone(){return new YE(this.value.clone===void 0?this.value:this.value.clone())}}let ez=0;class tz extends gl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:ez++}),this.name="",this.usage=Kg,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const a=Array.isArray(t[i])?t[i]:[t[i]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class nz extends m0{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class iz{constructor(e,t,i,r,a,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=a,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const gC=new Ot;class KD{constructor(e,t,i=0,r=1/0){this.ray=new wp(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new vp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return gC.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(gC),this}intersectObject(e,t=!0,i=[]){return f1(e,this,i,t),i.sort(vC),i}intersectObjects(e,t=!0,i=[]){for(let r=0,a=e.length;r<a;r++)f1(e[r],this,i,t);return i.sort(vC),i}}function vC(n,e){return n.distance-e.distance}function f1(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const a=n.children;for(let o=0,c=a.length;o<c;o++)f1(a[o],e,t,!0)}}class rz{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=az.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function az(){this._document.hidden===!1&&this.reset()}class $D{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=jt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(jt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class sz{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class qE{constructor(e,t,i,r){qE.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const a=this.elements;return a[0]=e,a[2]=t,a[1]=i,a[3]=r,this}}const yC=new Ge;class oz{constructor(e=new Ge(1/0,1/0),t=new Ge(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=yC.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,yC).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const xC=new K,ky=new K,Gd=new K,Vd=new K,XA=new K,lz=new K,cz=new K;class uz{constructor(e=new K,t=new K){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){xC.subVectors(e,this.start),ky.subVectors(this.end,this.start);const i=ky.dot(ky);let a=ky.dot(xC)/i;return t&&(a=jt(a,0,1)),a}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}distanceSqToLine3(e,t=lz,i=cz){const r=10000000000000001e-32;let a,o;const c=this.start,f=e.start,p=this.end,m=e.end;Gd.subVectors(p,c),Vd.subVectors(m,f),XA.subVectors(c,f);const v=Gd.dot(Gd),x=Vd.dot(Vd),_=Vd.dot(XA);if(v<=r&&x<=r)return t.copy(c),i.copy(f),t.sub(i),t.dot(t);if(v<=r)a=0,o=_/x,o=jt(o,0,1);else{const S=Gd.dot(XA);if(x<=r)o=0,a=jt(-S/v,0,1);else{const T=Gd.dot(Vd),M=v*x-T*T;M!==0?a=jt((T*_-S*x)/M,0,1):a=0,o=(T*a+_)/x,o<0?(o=0,a=jt(-S/v,0,1)):o>1&&(o=1,a=jt((T-S)/v,0,1))}}return t.copy(c).add(Gd.multiplyScalar(a)),i.copy(f).add(Vd.multiplyScalar(o)),t.sub(i),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _C=new K;class fz extends An{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Qt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,c=1,f=32;o<f;o++,c++){const p=o/f*Math.PI*2,m=c/f*Math.PI*2;r.push(Math.cos(p),Math.sin(p),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new bt(r,3));const a=new jr({fog:!1,toneMapped:!1});this.cone=new _o(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),_C.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_C),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const vu=new K,jy=new Ot,YA=new Ot;class hz extends _o{constructor(e){const t=QD(e),i=new Qt,r=[],a=[];for(let p=0;p<t.length;p++){const m=t[p];m.parent&&m.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}i.setAttribute("position",new bt(r,3)),i.setAttribute("color",new bt(a,3));const o=new jr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const c=new ot(255),f=new ot(65280);this.setColors(c,f)}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");YA.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<t.length;a++){const c=t[a];c.parent&&c.parent.isBone&&(jy.multiplyMatrices(YA,c.matrixWorld),vu.setFromMatrixPosition(jy),r.setXYZ(o,vu.x,vu.y,vu.z),jy.multiplyMatrices(YA,c.parent.matrixWorld),vu.setFromMatrixPosition(jy),r.setXYZ(o+1,vu.x,vu.y,vu.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const r=this.geometry.getAttribute("color");for(let a=0;a<r.count;a+=2)r.setXYZ(a,e.r,e.g,e.b),r.setXYZ(a+1,t.r,t.g,t.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function QD(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...QD(n.children[t]));return e}class dz extends ri{constructor(e,t,i){const r=new _0(t,4,2),a=new Ha({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const pz=new K,bC=new ot,AC=new ot;class mz extends An{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new x0(t);r.rotateY(Math.PI*.5),this.material=new Ha({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),o=new Float32Array(a.count*3);r.setAttribute("color",new Tn(o,3)),this.add(new ri(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");bC.copy(this.light.color),AC.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const a=i<r/2?bC:AC;t.setXYZ(i,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(pz.setFromMatrixPosition(this.light.matrixWorld).negate())}}class gz extends _o{constructor(e=10,t=10,i=4473924,r=8947848){i=new ot(i),r=new ot(r);const a=t/2,o=e/t,c=e/2,f=[],p=[];for(let x=0,_=0,S=-c;x<=t;x++,S+=o){f.push(-c,0,S,c,0,S),f.push(S,0,-c,S,0,c);const T=x===a?i:r;T.toArray(p,_),_+=3,T.toArray(p,_),_+=3,T.toArray(p,_),_+=3,T.toArray(p,_),_+=3}const m=new Qt;m.setAttribute("position",new bt(f,3)),m.setAttribute("color",new bt(p,3));const v=new jr({vertexColors:!0,toneMapped:!1});super(m,v),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class vz extends _o{constructor(e=10,t=16,i=8,r=64,a=4473924,o=8947848){a=new ot(a),o=new ot(o);const c=[],f=[];if(t>1)for(let v=0;v<t;v++){const x=v/t*(Math.PI*2),_=Math.sin(x)*e,S=Math.cos(x)*e;c.push(0,0,0),c.push(_,0,S);const T=v&1?a:o;f.push(T.r,T.g,T.b),f.push(T.r,T.g,T.b)}for(let v=0;v<i;v++){const x=v&1?a:o,_=e-e/i*v;for(let S=0;S<r;S++){let T=S/r*(Math.PI*2),M=Math.sin(T)*_,b=Math.cos(T)*_;c.push(M,0,b),f.push(x.r,x.g,x.b),T=(S+1)/r*(Math.PI*2),M=Math.sin(T)*_,b=Math.cos(T)*_,c.push(M,0,b),f.push(x.r,x.g,x.b)}}const p=new Qt;p.setAttribute("position",new bt(c,3)),p.setAttribute("color",new bt(f,3));const m=new jr({vertexColors:!0,toneMapped:!1});super(p,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const SC=new K,Xy=new K,EC=new K;class yz extends An{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Qt;r.setAttribute("position",new bt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new jr({fog:!1,toneMapped:!1});this.lightPlane=new hc(r,a),this.add(this.lightPlane),r=new Qt,r.setAttribute("position",new bt([0,0,0,0,0,1],3)),this.targetLine=new hc(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),SC.setFromMatrixPosition(this.light.matrixWorld),Xy.setFromMatrixPosition(this.light.target.matrixWorld),EC.subVectors(Xy,SC),this.lightPlane.lookAt(Xy),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Xy),this.targetLine.scale.z=EC.length()}}const Yy=new K,Ci=new G_;class xz extends _o{constructor(e){const t=new Qt,i=new jr({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],o={};c("n1","n2"),c("n2","n4"),c("n4","n3"),c("n3","n1"),c("f1","f2"),c("f2","f4"),c("f4","f3"),c("f3","f1"),c("n1","f1"),c("n2","f2"),c("n3","f3"),c("n4","f4"),c("p","n1"),c("p","n2"),c("p","n3"),c("p","n4"),c("u1","u2"),c("u2","u3"),c("u3","u1"),c("c","t"),c("p","c"),c("cn1","cn2"),c("cn3","cn4"),c("cf1","cf2"),c("cf3","cf4");function c(S,T){f(S),f(T)}function f(S){r.push(0,0,0),a.push(0,0,0),o[S]===void 0&&(o[S]=[]),o[S].push(r.length/3-1)}t.setAttribute("position",new bt(r,3)),t.setAttribute("color",new bt(a,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const p=new ot(16755200),m=new ot(16711680),v=new ot(43775),x=new ot(16777215),_=new ot(3355443);this.setColors(p,m,v,x,_)}setColors(e,t,i,r,a){const c=this.geometry.getAttribute("color");return c.setXYZ(0,e.r,e.g,e.b),c.setXYZ(1,e.r,e.g,e.b),c.setXYZ(2,e.r,e.g,e.b),c.setXYZ(3,e.r,e.g,e.b),c.setXYZ(4,e.r,e.g,e.b),c.setXYZ(5,e.r,e.g,e.b),c.setXYZ(6,e.r,e.g,e.b),c.setXYZ(7,e.r,e.g,e.b),c.setXYZ(8,e.r,e.g,e.b),c.setXYZ(9,e.r,e.g,e.b),c.setXYZ(10,e.r,e.g,e.b),c.setXYZ(11,e.r,e.g,e.b),c.setXYZ(12,e.r,e.g,e.b),c.setXYZ(13,e.r,e.g,e.b),c.setXYZ(14,e.r,e.g,e.b),c.setXYZ(15,e.r,e.g,e.b),c.setXYZ(16,e.r,e.g,e.b),c.setXYZ(17,e.r,e.g,e.b),c.setXYZ(18,e.r,e.g,e.b),c.setXYZ(19,e.r,e.g,e.b),c.setXYZ(20,e.r,e.g,e.b),c.setXYZ(21,e.r,e.g,e.b),c.setXYZ(22,e.r,e.g,e.b),c.setXYZ(23,e.r,e.g,e.b),c.setXYZ(24,t.r,t.g,t.b),c.setXYZ(25,t.r,t.g,t.b),c.setXYZ(26,t.r,t.g,t.b),c.setXYZ(27,t.r,t.g,t.b),c.setXYZ(28,t.r,t.g,t.b),c.setXYZ(29,t.r,t.g,t.b),c.setXYZ(30,t.r,t.g,t.b),c.setXYZ(31,t.r,t.g,t.b),c.setXYZ(32,i.r,i.g,i.b),c.setXYZ(33,i.r,i.g,i.b),c.setXYZ(34,i.r,i.g,i.b),c.setXYZ(35,i.r,i.g,i.b),c.setXYZ(36,i.r,i.g,i.b),c.setXYZ(37,i.r,i.g,i.b),c.setXYZ(38,r.r,r.g,r.b),c.setXYZ(39,r.r,r.g,r.b),c.setXYZ(40,a.r,a.g,a.b),c.setXYZ(41,a.r,a.g,a.b),c.setXYZ(42,a.r,a.g,a.b),c.setXYZ(43,a.r,a.g,a.b),c.setXYZ(44,a.r,a.g,a.b),c.setXYZ(45,a.r,a.g,a.b),c.setXYZ(46,a.r,a.g,a.b),c.setXYZ(47,a.r,a.g,a.b),c.setXYZ(48,a.r,a.g,a.b),c.setXYZ(49,a.r,a.g,a.b),c.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;let a,o;if(Ci.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,o=0;else if(this.camera.coordinateSystem===as)a=-1,o=1;else if(this.camera.coordinateSystem===mp)a=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Ii("c",t,e,Ci,0,0,a),Ii("t",t,e,Ci,0,0,o),Ii("n1",t,e,Ci,-i,-r,a),Ii("n2",t,e,Ci,i,-r,a),Ii("n3",t,e,Ci,-i,r,a),Ii("n4",t,e,Ci,i,r,a),Ii("f1",t,e,Ci,-i,-r,o),Ii("f2",t,e,Ci,i,-r,o),Ii("f3",t,e,Ci,-i,r,o),Ii("f4",t,e,Ci,i,r,o),Ii("u1",t,e,Ci,i*.7,r*1.1,a),Ii("u2",t,e,Ci,-i*.7,r*1.1,a),Ii("u3",t,e,Ci,0,r*2,a),Ii("cf1",t,e,Ci,-i,0,o),Ii("cf2",t,e,Ci,i,0,o),Ii("cf3",t,e,Ci,0,-r,o),Ii("cf4",t,e,Ci,0,r,o),Ii("cn1",t,e,Ci,-i,0,a),Ii("cn2",t,e,Ci,i,0,a),Ii("cn3",t,e,Ci,0,-r,a),Ii("cn4",t,e,Ci,0,r,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ii(n,e,t,i,r,a,o){Yy.set(r,a,o).unproject(i);const c=e[n];if(c!==void 0){const f=t.getAttribute("position");for(let p=0,m=c.length;p<m;p++)f.setXYZ(c[p],Yy.x,Yy.y,Yy.z)}}const qy=new Cr;class _z extends _o{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),a=new Qt;a.setIndex(new Tn(i,1)),a.setAttribute("position",new Tn(r,3)),super(a,new jr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&qy.setFromObject(this.object),qy.isEmpty())return;const e=qy.min,t=qy.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class bz extends _o{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Qt;a.setIndex(new Tn(i,1)),a.setAttribute("position",new bt(r,3)),super(a,new jr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Az extends hc{constructor(e,t=1,i=16776960){const r=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Qt;o.setAttribute("position",new bt(a,3)),o.computeBoundingSphere(),super(o,new jr({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const c=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],f=new Qt;f.setAttribute("position",new bt(c,3)),f.computeBoundingSphere(),this.add(new ri(f,new Ha({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const MC=new K;let Wy,qA;class Sz extends An{constructor(e=new K(0,0,1),t=new K(0,0,0),i=1,r=16776960,a=i*.2,o=a*.2){super(),this.type="ArrowHelper",Wy===void 0&&(Wy=new Qt,Wy.setAttribute("position",new bt([0,0,0,0,1,0],3)),qA=new y0(.5,1,5,1),qA.translate(0,-.5,0)),this.position.copy(t),this.line=new hc(Wy,new jr({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ri(qA,new Ha({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{MC.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(MC,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Ez extends _o{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Qt;r.setAttribute("position",new bt(t,3)),r.setAttribute("color",new bt(i,3));const a=new jr({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,t,i){const r=new ot,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(t),r.toArray(a,6),r.toArray(a,9),r.set(i),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Mz{constructor(){this.type="ShapePath",this.color=new ot,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new i_,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,a,o){return this.currentPath.bezierCurveTo(e,t,i,r,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(b){const R=[];for(let B=0,D=b.length;B<D;B++){const I=b[B],U=new ah;U.curves=I.curves,R.push(U)}return R}function i(b,R){const B=R.length;let D=!1;for(let I=B-1,U=0;U<B;I=U++){let F=R[I],V=R[U],P=V.x-F.x,L=V.y-F.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(F=R[U],P=-P,V=R[I],L=-L),b.y<F.y||b.y>V.y)continue;if(b.y===F.y){if(b.x===F.x)return!0}else{const k=L*(b.x-F.x)-P*(b.y-F.y);if(k===0)return!0;if(k<0)continue;D=!D}}else{if(b.y!==F.y)continue;if(V.x<=b.x&&b.x<=F.x||F.x<=b.x&&b.x<=V.x)return!0}}return D}const r=vo.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,c,f;const p=[];if(a.length===1)return c=a[0],f=new ah,f.curves=c.curves,p.push(f),p;let m=!r(a[0].getPoints());m=e?!m:m;const v=[],x=[];let _=[],S=0,T;x[S]=void 0,_[S]=[];for(let b=0,R=a.length;b<R;b++)c=a[b],T=c.getPoints(),o=r(T),o=e?!o:o,o?(!m&&x[S]&&S++,x[S]={s:new ah,p:T},x[S].s.curves=c.curves,m&&S++,_[S]=[]):_[S].push({h:c,p:T[0]});if(!x[0])return t(a);if(x.length>1){let b=!1,R=0;for(let B=0,D=x.length;B<D;B++)v[B]=[];for(let B=0,D=x.length;B<D;B++){const I=_[B];for(let U=0;U<I.length;U++){const F=I[U];let V=!0;for(let P=0;P<x.length;P++)i(F.p,x[P].p)&&(B!==P&&R++,V?(V=!1,v[P].push(F)):b=!0);V&&v[B].push(F)}}R>0&&b===!1&&(_=v)}let M;for(let b=0,R=x.length;b<R;b++){f=x[b].s,p.push(f),M=_[b];for(let B=0,D=M.length;B<D;B++)f.holes.push(M[B].h)}return p}}class Tz extends gl{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function Cz(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function wz(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function Rz(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function h1(n,e,t,i){const r=Bz(i);switch(t){case oE:return n*e;case L_:return n*e/r.components*r.byteLength;case d0:return n*e/r.components*r.byteLength;case cE:return n*e*2/r.components*r.byteLength;case I_:return n*e*2/r.components*r.byteLength;case lE:return n*e*3/r.components*r.byteLength;case Gr:return n*e*4/r.components*r.byteLength;case P_:return n*e*4/r.components*r.byteLength;case Bg:case Dg:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Og:case Ng:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case wx:case Bx:return Math.max(n,16)*Math.max(e,8)/4;case Cx:case Rx:return Math.max(n,8)*Math.max(e,8)/2;case Dx:case Ox:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Nx:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Ux:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Lx:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case Ix:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case Px:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case zx:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case Fx:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case Hx:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case Gx:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case Vx:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case kx:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case jx:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case Xx:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case Yx:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case qx:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case Ug:case Wx:case Jx:return Math.ceil(n/4)*Math.ceil(e/4)*16;case uE:case Kx:return Math.ceil(n/4)*Math.ceil(e/4)*8;case $x:case Qx:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function Bz(n){switch(n){case Ns:case rE:return{byteLength:1,components:1};case cp:case aE:case Cp:return{byteLength:2,components:1};case N_:case U_:return{byteLength:2,components:4};case fc:case O_:case Fa:return{byteLength:4,components:1};case sE:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class Dz{static contain(e,t){return Cz(e,t)}static cover(e,t){return wz(e,t)}static fill(e){return Rz(e)}static getByteLength(e,t,i,r){return h1(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:f0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=f0);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function ZD(){let n=null,e=!1,t=null,i=null;function r(a,o){t(a,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function Oz(n){const e=new WeakMap;function t(c,f){const p=c.array,m=c.usage,v=p.byteLength,x=n.createBuffer();n.bindBuffer(f,x),n.bufferData(f,p,m),c.onUploadCallback();let _;if(p instanceof Float32Array)_=n.FLOAT;else if(typeof Float16Array<"u"&&p instanceof Float16Array)_=n.HALF_FLOAT;else if(p instanceof Uint16Array)c.isFloat16BufferAttribute?_=n.HALF_FLOAT:_=n.UNSIGNED_SHORT;else if(p instanceof Int16Array)_=n.SHORT;else if(p instanceof Uint32Array)_=n.UNSIGNED_INT;else if(p instanceof Int32Array)_=n.INT;else if(p instanceof Int8Array)_=n.BYTE;else if(p instanceof Uint8Array)_=n.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)_=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:x,type:_,bytesPerElement:p.BYTES_PER_ELEMENT,version:c.version,size:v}}function i(c,f,p){const m=f.array,v=f.updateRanges;if(n.bindBuffer(p,c),v.length===0)n.bufferSubData(p,0,m);else{v.sort((_,S)=>_.start-S.start);let x=0;for(let _=1;_<v.length;_++){const S=v[x],T=v[_];T.start<=S.start+S.count+1?S.count=Math.max(S.count,T.start+T.count-S.start):(++x,v[x]=T)}v.length=x+1;for(let _=0,S=v.length;_<S;_++){const T=v[_];n.bufferSubData(p,T.start*m.BYTES_PER_ELEMENT,m,T.start,T.count)}f.clearUpdateRanges()}f.onUploadCallback()}function r(c){return c.isInterleavedBufferAttribute&&(c=c.data),e.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const f=e.get(c);f&&(n.deleteBuffer(f.buffer),e.delete(c))}function o(c,f){if(c.isInterleavedBufferAttribute&&(c=c.data),c.isGLBufferAttribute){const m=e.get(c);(!m||m.version<c.version)&&e.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}const p=e.get(c);if(p===void 0)e.set(c,t(c,f));else if(p.version<c.version){if(p.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(p.buffer,c,f),p.version=c.version}}return{get:r,remove:a,update:o}}var Nz=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Uz=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Lz=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Iz=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Pz=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,zz=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Fz=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Hz=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Gz=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Vz=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,kz=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,jz=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Xz=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Yz=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,qz=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Wz=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Jz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Kz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,$z=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Qz=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Zz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,eF=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,tF=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,nF=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,iF=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,rF=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,aF=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,sF=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,oF=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,lF=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,cF="gl_FragColor = linearToOutputTexel( gl_FragColor );",uF=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,fF=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,hF=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,dF=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,pF=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,mF=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,gF=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,vF=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,yF=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,xF=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,_F=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,bF=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,AF=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,SF=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,EF=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,MF=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,TF=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,CF=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,wF=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,RF=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,BF=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,DF=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,OF=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,NF=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,UF=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,LF=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,IF=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,PF=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,zF=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,FF=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,HF=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,GF=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,VF=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,kF=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,jF=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,XF=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,YF=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,qF=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,WF=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,JF=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,KF=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,$F=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,QF=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ZF=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,eH=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,tH=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,nH=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,iH=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,rH=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,aH=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,sH=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,oH=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,lH=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,cH=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,uH=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,fH=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,hH=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,dH=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,pH=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSEDEPTHBUF
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSEDEPTHBUF
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare , distribution.x );
		#endif
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,mH=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,gH=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,vH=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,yH=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,xH=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,_H=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,bH=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,AH=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,SH=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,EH=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,MH=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,TH=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,CH=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,wH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,RH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,BH=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,DH=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const OH=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,NH=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,UH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,LH=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,IH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,PH=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,zH=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,FH=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSEDEPTHBUF
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,HH=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,GH=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,VH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,kH=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jH=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,XH=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,YH=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,qH=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,WH=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,JH=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,KH=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,$H=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,QH=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,ZH=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,e5=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,t5=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,n5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,i5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,r5=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,a5=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,s5=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,o5=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,l5=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,c5=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,u5=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,f5=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Wt={alphahash_fragment:Nz,alphahash_pars_fragment:Uz,alphamap_fragment:Lz,alphamap_pars_fragment:Iz,alphatest_fragment:Pz,alphatest_pars_fragment:zz,aomap_fragment:Fz,aomap_pars_fragment:Hz,batching_pars_vertex:Gz,batching_vertex:Vz,begin_vertex:kz,beginnormal_vertex:jz,bsdfs:Xz,iridescence_fragment:Yz,bumpmap_pars_fragment:qz,clipping_planes_fragment:Wz,clipping_planes_pars_fragment:Jz,clipping_planes_pars_vertex:Kz,clipping_planes_vertex:$z,color_fragment:Qz,color_pars_fragment:Zz,color_pars_vertex:eF,color_vertex:tF,common:nF,cube_uv_reflection_fragment:iF,defaultnormal_vertex:rF,displacementmap_pars_vertex:aF,displacementmap_vertex:sF,emissivemap_fragment:oF,emissivemap_pars_fragment:lF,colorspace_fragment:cF,colorspace_pars_fragment:uF,envmap_fragment:fF,envmap_common_pars_fragment:hF,envmap_pars_fragment:dF,envmap_pars_vertex:pF,envmap_physical_pars_fragment:MF,envmap_vertex:mF,fog_vertex:gF,fog_pars_vertex:vF,fog_fragment:yF,fog_pars_fragment:xF,gradientmap_pars_fragment:_F,lightmap_pars_fragment:bF,lights_lambert_fragment:AF,lights_lambert_pars_fragment:SF,lights_pars_begin:EF,lights_toon_fragment:TF,lights_toon_pars_fragment:CF,lights_phong_fragment:wF,lights_phong_pars_fragment:RF,lights_physical_fragment:BF,lights_physical_pars_fragment:DF,lights_fragment_begin:OF,lights_fragment_maps:NF,lights_fragment_end:UF,logdepthbuf_fragment:LF,logdepthbuf_pars_fragment:IF,logdepthbuf_pars_vertex:PF,logdepthbuf_vertex:zF,map_fragment:FF,map_pars_fragment:HF,map_particle_fragment:GF,map_particle_pars_fragment:VF,metalnessmap_fragment:kF,metalnessmap_pars_fragment:jF,morphinstance_vertex:XF,morphcolor_vertex:YF,morphnormal_vertex:qF,morphtarget_pars_vertex:WF,morphtarget_vertex:JF,normal_fragment_begin:KF,normal_fragment_maps:$F,normal_pars_fragment:QF,normal_pars_vertex:ZF,normal_vertex:eH,normalmap_pars_fragment:tH,clearcoat_normal_fragment_begin:nH,clearcoat_normal_fragment_maps:iH,clearcoat_pars_fragment:rH,iridescence_pars_fragment:aH,opaque_fragment:sH,packing:oH,premultiplied_alpha_fragment:lH,project_vertex:cH,dithering_fragment:uH,dithering_pars_fragment:fH,roughnessmap_fragment:hH,roughnessmap_pars_fragment:dH,shadowmap_pars_fragment:pH,shadowmap_pars_vertex:mH,shadowmap_vertex:gH,shadowmask_pars_fragment:vH,skinbase_vertex:yH,skinning_pars_vertex:xH,skinning_vertex:_H,skinnormal_vertex:bH,specularmap_fragment:AH,specularmap_pars_fragment:SH,tonemapping_fragment:EH,tonemapping_pars_fragment:MH,transmission_fragment:TH,transmission_pars_fragment:CH,uv_pars_fragment:wH,uv_pars_vertex:RH,uv_vertex:BH,worldpos_vertex:DH,background_vert:OH,background_frag:NH,backgroundCube_vert:UH,backgroundCube_frag:LH,cube_vert:IH,cube_frag:PH,depth_vert:zH,depth_frag:FH,distanceRGBA_vert:HH,distanceRGBA_frag:GH,equirect_vert:VH,equirect_frag:kH,linedashed_vert:jH,linedashed_frag:XH,meshbasic_vert:YH,meshbasic_frag:qH,meshlambert_vert:WH,meshlambert_frag:JH,meshmatcap_vert:KH,meshmatcap_frag:$H,meshnormal_vert:QH,meshnormal_frag:ZH,meshphong_vert:e5,meshphong_frag:t5,meshphysical_vert:n5,meshphysical_frag:i5,meshtoon_vert:r5,meshtoon_frag:a5,points_vert:s5,points_frag:o5,shadow_vert:l5,shadow_frag:c5,sprite_vert:u5,sprite_frag:f5},ut={common:{diffuse:{value:new ot(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new tn},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new tn}},envmap:{envMap:{value:null},envMapRotation:{value:new tn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new tn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new tn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new tn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new tn},normalScale:{value:new Ge(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new tn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new tn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new tn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new tn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ot(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ot(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0},uvTransform:{value:new tn}},sprite:{diffuse:{value:new ot(16777215)},opacity:{value:1},center:{value:new Ge(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new tn},alphaMap:{value:null},alphaMapTransform:{value:new tn},alphaTest:{value:0}}},mo={basic:{uniforms:pa([ut.common,ut.specularmap,ut.envmap,ut.aomap,ut.lightmap,ut.fog]),vertexShader:Wt.meshbasic_vert,fragmentShader:Wt.meshbasic_frag},lambert:{uniforms:pa([ut.common,ut.specularmap,ut.envmap,ut.aomap,ut.lightmap,ut.emissivemap,ut.bumpmap,ut.normalmap,ut.displacementmap,ut.fog,ut.lights,{emissive:{value:new ot(0)}}]),vertexShader:Wt.meshlambert_vert,fragmentShader:Wt.meshlambert_frag},phong:{uniforms:pa([ut.common,ut.specularmap,ut.envmap,ut.aomap,ut.lightmap,ut.emissivemap,ut.bumpmap,ut.normalmap,ut.displacementmap,ut.fog,ut.lights,{emissive:{value:new ot(0)},specular:{value:new ot(1118481)},shininess:{value:30}}]),vertexShader:Wt.meshphong_vert,fragmentShader:Wt.meshphong_frag},standard:{uniforms:pa([ut.common,ut.envmap,ut.aomap,ut.lightmap,ut.emissivemap,ut.bumpmap,ut.normalmap,ut.displacementmap,ut.roughnessmap,ut.metalnessmap,ut.fog,ut.lights,{emissive:{value:new ot(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Wt.meshphysical_vert,fragmentShader:Wt.meshphysical_frag},toon:{uniforms:pa([ut.common,ut.aomap,ut.lightmap,ut.emissivemap,ut.bumpmap,ut.normalmap,ut.displacementmap,ut.gradientmap,ut.fog,ut.lights,{emissive:{value:new ot(0)}}]),vertexShader:Wt.meshtoon_vert,fragmentShader:Wt.meshtoon_frag},matcap:{uniforms:pa([ut.common,ut.bumpmap,ut.normalmap,ut.displacementmap,ut.fog,{matcap:{value:null}}]),vertexShader:Wt.meshmatcap_vert,fragmentShader:Wt.meshmatcap_frag},points:{uniforms:pa([ut.points,ut.fog]),vertexShader:Wt.points_vert,fragmentShader:Wt.points_frag},dashed:{uniforms:pa([ut.common,ut.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Wt.linedashed_vert,fragmentShader:Wt.linedashed_frag},depth:{uniforms:pa([ut.common,ut.displacementmap]),vertexShader:Wt.depth_vert,fragmentShader:Wt.depth_frag},normal:{uniforms:pa([ut.common,ut.bumpmap,ut.normalmap,ut.displacementmap,{opacity:{value:1}}]),vertexShader:Wt.meshnormal_vert,fragmentShader:Wt.meshnormal_frag},sprite:{uniforms:pa([ut.sprite,ut.fog]),vertexShader:Wt.sprite_vert,fragmentShader:Wt.sprite_frag},background:{uniforms:{uvTransform:{value:new tn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Wt.background_vert,fragmentShader:Wt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new tn}},vertexShader:Wt.backgroundCube_vert,fragmentShader:Wt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Wt.cube_vert,fragmentShader:Wt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Wt.equirect_vert,fragmentShader:Wt.equirect_frag},distanceRGBA:{uniforms:pa([ut.common,ut.displacementmap,{referencePosition:{value:new K},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Wt.distanceRGBA_vert,fragmentShader:Wt.distanceRGBA_frag},shadow:{uniforms:pa([ut.lights,ut.fog,{color:{value:new ot(0)},opacity:{value:1}}]),vertexShader:Wt.shadow_vert,fragmentShader:Wt.shadow_frag}};mo.physical={uniforms:pa([mo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new tn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new tn},clearcoatNormalScale:{value:new Ge(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new tn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new tn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new tn},sheen:{value:0},sheenColor:{value:new ot(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new tn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new tn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new tn},transmissionSamplerSize:{value:new Ge},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new tn},attenuationDistance:{value:0},attenuationColor:{value:new ot(0)},specularColor:{value:new ot(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new tn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new tn},anisotropyVector:{value:new Ge},anisotropyMap:{value:null},anisotropyMapTransform:{value:new tn}}]),vertexShader:Wt.meshphysical_vert,fragmentShader:Wt.meshphysical_frag};const Jy={r:0,b:0,g:0},Gf=new Va,h5=new Ot;function d5(n,e,t,i,r,a,o){const c=new ot(0);let f=a===!0?0:1,p,m,v=null,x=0,_=null;function S(B){let D=B.isScene===!0?B.background:null;return D&&D.isTexture&&(D=(B.backgroundBlurriness>0?t:e).get(D)),D}function T(B){let D=!1;const I=S(B);I===null?b(c,f):I&&I.isColor&&(b(I,1),D=!0);const U=n.xr.getEnvironmentBlendMode();U==="additive"?i.buffers.color.setClear(0,0,0,1,o):U==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||D)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function M(B,D){const I=S(D);I&&(I.isCubeTexture||I.mapping===Tp)?(m===void 0&&(m=new ri(new mc(1,1,1),new Us({name:"BackgroundCubeMaterial",uniforms:yp(mo.backgroundCube.uniforms),vertexShader:mo.backgroundCube.vertexShader,fragmentShader:mo.backgroundCube.fragmentShader,side:kr,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(U,F,V){this.matrixWorld.copyPosition(V.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(m)),Gf.copy(D.backgroundRotation),Gf.x*=-1,Gf.y*=-1,Gf.z*=-1,I.isCubeTexture&&I.isRenderTargetTexture===!1&&(Gf.y*=-1,Gf.z*=-1),m.material.uniforms.envMap.value=I,m.material.uniforms.flipEnvMap.value=I.isCubeTexture&&I.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=D.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(h5.makeRotationFromEuler(Gf)),m.material.toneMapped=bn.getTransfer(I.colorSpace)!==Fn,(v!==I||x!==I.version||_!==n.toneMapping)&&(m.material.needsUpdate=!0,v=I,x=I.version,_=n.toneMapping),m.layers.enableAll(),B.unshift(m,m.geometry,m.material,0,0,null)):I&&I.isTexture&&(p===void 0&&(p=new ri(new yh(2,2),new Us({name:"BackgroundMaterial",uniforms:yp(mo.background.uniforms),vertexShader:mo.background.vertexShader,fragmentShader:mo.background.fragmentShader,side:fl,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(p)),p.material.uniforms.t2D.value=I,p.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,p.material.toneMapped=bn.getTransfer(I.colorSpace)!==Fn,I.matrixAutoUpdate===!0&&I.updateMatrix(),p.material.uniforms.uvTransform.value.copy(I.matrix),(v!==I||x!==I.version||_!==n.toneMapping)&&(p.material.needsUpdate=!0,v=I,x=I.version,_=n.toneMapping),p.layers.enableAll(),B.unshift(p,p.geometry,p.material,0,0,null))}function b(B,D){B.getRGB(Jy,rD(n)),i.buffers.color.setClear(Jy.r,Jy.g,Jy.b,D,o)}function R(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0)}return{getClearColor:function(){return c},setClearColor:function(B,D=1){c.set(B),f=D,b(c,f)},getClearAlpha:function(){return f},setClearAlpha:function(B){f=B,b(c,f)},render:T,addToRenderList:M,dispose:R}}function p5(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=x(null);let a=r,o=!1;function c(L,k,ie,te,ue){let fe=!1;const G=v(te,ie,k);a!==G&&(a=G,p(a.object)),fe=_(L,te,ie,ue),fe&&S(L,te,ie,ue),ue!==null&&e.update(ue,n.ELEMENT_ARRAY_BUFFER),(fe||o)&&(o=!1,D(L,k,ie,te),ue!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(ue).buffer))}function f(){return n.createVertexArray()}function p(L){return n.bindVertexArray(L)}function m(L){return n.deleteVertexArray(L)}function v(L,k,ie){const te=ie.wireframe===!0;let ue=i[L.id];ue===void 0&&(ue={},i[L.id]=ue);let fe=ue[k.id];fe===void 0&&(fe={},ue[k.id]=fe);let G=fe[te];return G===void 0&&(G=x(f()),fe[te]=G),G}function x(L){const k=[],ie=[],te=[];for(let ue=0;ue<t;ue++)k[ue]=0,ie[ue]=0,te[ue]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:ie,attributeDivisors:te,object:L,attributes:{},index:null}}function _(L,k,ie,te){const ue=a.attributes,fe=k.attributes;let G=0;const $=ie.getAttributes();for(const Q in $)if($[Q].location>=0){const Y=ue[Q];let ae=fe[Q];if(ae===void 0&&(Q==="instanceMatrix"&&L.instanceMatrix&&(ae=L.instanceMatrix),Q==="instanceColor"&&L.instanceColor&&(ae=L.instanceColor)),Y===void 0||Y.attribute!==ae||ae&&Y.data!==ae.data)return!0;G++}return a.attributesNum!==G||a.index!==te}function S(L,k,ie,te){const ue={},fe=k.attributes;let G=0;const $=ie.getAttributes();for(const Q in $)if($[Q].location>=0){let Y=fe[Q];Y===void 0&&(Q==="instanceMatrix"&&L.instanceMatrix&&(Y=L.instanceMatrix),Q==="instanceColor"&&L.instanceColor&&(Y=L.instanceColor));const ae={};ae.attribute=Y,Y&&Y.data&&(ae.data=Y.data),ue[Q]=ae,G++}a.attributes=ue,a.attributesNum=G,a.index=te}function T(){const L=a.newAttributes;for(let k=0,ie=L.length;k<ie;k++)L[k]=0}function M(L){b(L,0)}function b(L,k){const ie=a.newAttributes,te=a.enabledAttributes,ue=a.attributeDivisors;ie[L]=1,te[L]===0&&(n.enableVertexAttribArray(L),te[L]=1),ue[L]!==k&&(n.vertexAttribDivisor(L,k),ue[L]=k)}function R(){const L=a.newAttributes,k=a.enabledAttributes;for(let ie=0,te=k.length;ie<te;ie++)k[ie]!==L[ie]&&(n.disableVertexAttribArray(ie),k[ie]=0)}function B(L,k,ie,te,ue,fe,G){G===!0?n.vertexAttribIPointer(L,k,ie,ue,fe):n.vertexAttribPointer(L,k,ie,te,ue,fe)}function D(L,k,ie,te){T();const ue=te.attributes,fe=ie.getAttributes(),G=k.defaultAttributeValues;for(const $ in fe){const Q=fe[$];if(Q.location>=0){let he=ue[$];if(he===void 0&&($==="instanceMatrix"&&L.instanceMatrix&&(he=L.instanceMatrix),$==="instanceColor"&&L.instanceColor&&(he=L.instanceColor)),he!==void 0){const Y=he.normalized,ae=he.itemSize,Se=e.get(he);if(Se===void 0)continue;const Re=Se.buffer,Ue=Se.type,pe=Se.bytesPerElement,Be=Ue===n.INT||Ue===n.UNSIGNED_INT||he.gpuType===O_;if(he.isInterleavedBufferAttribute){const Fe=he.data,We=Fe.stride,st=he.offset;if(Fe.isInstancedInterleavedBuffer){for(let St=0;St<Q.locationSize;St++)b(Q.location+St,Fe.meshPerAttribute);L.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=Fe.meshPerAttribute*Fe.count)}else for(let St=0;St<Q.locationSize;St++)M(Q.location+St);n.bindBuffer(n.ARRAY_BUFFER,Re);for(let St=0;St<Q.locationSize;St++)B(Q.location+St,ae/Q.locationSize,Ue,Y,We*pe,(st+ae/Q.locationSize*St)*pe,Be)}else{if(he.isInstancedBufferAttribute){for(let Fe=0;Fe<Q.locationSize;Fe++)b(Q.location+Fe,he.meshPerAttribute);L.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=he.meshPerAttribute*he.count)}else for(let Fe=0;Fe<Q.locationSize;Fe++)M(Q.location+Fe);n.bindBuffer(n.ARRAY_BUFFER,Re);for(let Fe=0;Fe<Q.locationSize;Fe++)B(Q.location+Fe,ae/Q.locationSize,Ue,Y,ae*pe,ae/Q.locationSize*Fe*pe,Be)}}else if(G!==void 0){const Y=G[$];if(Y!==void 0)switch(Y.length){case 2:n.vertexAttrib2fv(Q.location,Y);break;case 3:n.vertexAttrib3fv(Q.location,Y);break;case 4:n.vertexAttrib4fv(Q.location,Y);break;default:n.vertexAttrib1fv(Q.location,Y)}}}}R()}function I(){V();for(const L in i){const k=i[L];for(const ie in k){const te=k[ie];for(const ue in te)m(te[ue].object),delete te[ue];delete k[ie]}delete i[L]}}function U(L){if(i[L.id]===void 0)return;const k=i[L.id];for(const ie in k){const te=k[ie];for(const ue in te)m(te[ue].object),delete te[ue];delete k[ie]}delete i[L.id]}function F(L){for(const k in i){const ie=i[k];if(ie[L.id]===void 0)continue;const te=ie[L.id];for(const ue in te)m(te[ue].object),delete te[ue];delete ie[L.id]}}function V(){P(),o=!0,a!==r&&(a=r,p(a.object))}function P(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:c,reset:V,resetDefaultState:P,dispose:I,releaseStatesOfGeometry:U,releaseStatesOfProgram:F,initAttributes:T,enableAttribute:M,disableUnusedAttributes:R}}function m5(n,e,t){let i;function r(p){i=p}function a(p,m){n.drawArrays(i,p,m),t.update(m,i,1)}function o(p,m,v){v!==0&&(n.drawArraysInstanced(i,p,m,v),t.update(m,i,v))}function c(p,m,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,p,0,m,0,v);let _=0;for(let S=0;S<v;S++)_+=m[S];t.update(_,i,1)}function f(p,m,v,x){if(v===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let S=0;S<p.length;S++)o(p[S],m[S],x[S]);else{_.multiDrawArraysInstancedWEBGL(i,p,0,m,0,x,0,v);let S=0;for(let T=0;T<v;T++)S+=m[T]*x[T];t.update(S,i,1)}}this.setMode=r,this.render=a,this.renderInstances=o,this.renderMultiDraw=c,this.renderMultiDrawInstances=f}function g5(n,e,t,i){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const F=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(F){return!(F!==Gr&&i.convert(F)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function c(F){const V=F===Cp&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(F!==Ns&&i.convert(F)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&F!==Fa&&!V)}function f(F){if(F==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";F="mediump"}return F==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let p=t.precision!==void 0?t.precision:"highp";const m=f(p);m!==p&&(console.warn("THREE.WebGLRenderer:",p,"not supported, using",m,"instead."),p=m);const v=t.logarithmicDepthBuffer===!0,x=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),_=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),S=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),T=n.getParameter(n.MAX_TEXTURE_SIZE),M=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),b=n.getParameter(n.MAX_VERTEX_ATTRIBS),R=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),B=n.getParameter(n.MAX_VARYING_VECTORS),D=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),I=S>0,U=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:f,textureFormatReadable:o,textureTypeReadable:c,precision:p,logarithmicDepthBuffer:v,reversedDepthBuffer:x,maxTextures:_,maxVertexTextures:S,maxTextureSize:T,maxCubemapSize:M,maxAttributes:b,maxVertexUniforms:R,maxVaryings:B,maxFragmentUniforms:D,vertexTextures:I,maxSamples:U}}function v5(n){const e=this;let t=null,i=0,r=!1,a=!1;const o=new _u,c=new tn,f={value:null,needsUpdate:!1};this.uniform=f,this.numPlanes=0,this.numIntersection=0,this.init=function(v,x){const _=v.length!==0||x||i!==0||r;return r=x,i=v.length,_},this.beginShadows=function(){a=!0,m(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(v,x){t=m(v,x,0)},this.setState=function(v,x,_){const S=v.clippingPlanes,T=v.clipIntersection,M=v.clipShadows,b=n.get(v);if(!r||S===null||S.length===0||a&&!M)a?m(null):p();else{const R=a?0:i,B=R*4;let D=b.clippingState||null;f.value=D,D=m(S,x,B,_);for(let I=0;I!==B;++I)D[I]=t[I];b.clippingState=D,this.numIntersection=T?this.numPlanes:0,this.numPlanes+=R}};function p(){f.value!==t&&(f.value=t,f.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function m(v,x,_,S){const T=v!==null?v.length:0;let M=null;if(T!==0){if(M=f.value,S!==!0||M===null){const b=_+T*4,R=x.matrixWorldInverse;c.getNormalMatrix(R),(M===null||M.length<b)&&(M=new Float32Array(b));for(let B=0,D=_;B!==T;++B,D+=4)o.copy(v[B]).applyMatrix4(R,c),o.normal.toArray(M,D),M[D+3]=o.constant}f.value=M,f.needsUpdate=!0}return e.numPlanes=T,e.numIntersection=0,M}}function y5(n){let e=new WeakMap;function t(o,c){return c===Yg?o.mapping=uc:c===qg&&(o.mapping=Tu),o}function i(o){if(o&&o.isTexture){const c=o.mapping;if(c===Yg||c===qg)if(e.has(o)){const f=e.get(o).texture;return t(f,o.mapping)}else{const f=o.image;if(f&&f.height>0){const p=new sD(f.height);return p.fromEquirectangularTexture(n,o),e.set(o,p),o.addEventListener("dispose",r),t(p.texture,o.mapping)}else return null}}return o}function r(o){const c=o.target;c.removeEventListener("dispose",r);const f=e.get(c);f!==void 0&&(e.delete(c),f.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}const Zd=4,TC=[.125,.215,.35,.446,.526,.582],Jf=20,WA=new Op,CC=new ot;let JA=null,KA=0,$A=0,QA=!1;const qf=(1+Math.sqrt(5))/2,kd=1/qf,wC=[new K(-qf,kd,0),new K(qf,kd,0),new K(-kd,0,qf),new K(kd,0,qf),new K(0,qf,-kd),new K(0,qf,kd),new K(-1,1,-1),new K(1,1,-1),new K(-1,1,1),new K(1,1,1)],x5=new K;class d1{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100,a={}){const{size:o=256,position:c=x5}=a;JA=this._renderer.getRenderTarget(),KA=this._renderer.getActiveCubeFace(),$A=this._renderer.getActiveMipmapLevel(),QA=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const f=this._allocateTargets();return f.depthBuffer=!0,this._sceneToCubeUV(e,i,r,f,c),t>0&&this._blur(f,0,0,t),this._applyPMREM(f),this._cleanup(f),f}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=DC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=BC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(JA,KA,$A),this._renderer.xr.enabled=QA,e.scissorTest=!1,Ky(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===uc||e.mapping===Tu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),JA=this._renderer.getRenderTarget(),KA=this._renderer.getActiveCubeFace(),$A=this._renderer.getActiveMipmapLevel(),QA=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Pi,minFilter:Pi,generateMipmaps:!1,type:Cp,format:Gr,colorSpace:wu,depthBuffer:!1},r=RC(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=RC(e,t,i);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_5(a)),this._blurMaterial=b5(a,e,t)}return r}_compileMaterial(e){const t=new ri(this._lodPlanes[0],e);this._renderer.compile(t,WA)}_sceneToCubeUV(e,t,i,r,a){const f=new Xi(90,1,t,i),p=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],v=this._renderer,x=v.autoClear,_=v.toneMapping;v.getClearColor(CC),v.toneMapping=ll,v.autoClear=!1,v.state.buffers.depth.getReversed()&&(v.setRenderTarget(r),v.clearDepth(),v.setRenderTarget(null));const T=new Ha({name:"PMREM.Background",side:kr,depthWrite:!1,depthTest:!1}),M=new ri(new mc,T);let b=!1;const R=e.background;R?R.isColor&&(T.color.copy(R),e.background=null,b=!0):(T.color.copy(CC),b=!0);for(let B=0;B<6;B++){const D=B%3;D===0?(f.up.set(0,p[B],0),f.position.set(a.x,a.y,a.z),f.lookAt(a.x+m[B],a.y,a.z)):D===1?(f.up.set(0,0,p[B]),f.position.set(a.x,a.y,a.z),f.lookAt(a.x,a.y+m[B],a.z)):(f.up.set(0,p[B],0),f.position.set(a.x,a.y,a.z),f.lookAt(a.x,a.y,a.z+m[B]));const I=this._cubeSize;Ky(r,D*I,B>2?I:0,I,I),v.setRenderTarget(r),b&&v.render(M,f),v.render(e,f)}M.geometry.dispose(),M.material.dispose(),v.toneMapping=_,v.autoClear=x,e.background=R}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===uc||e.mapping===Tu;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=DC()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=BC());const a=r?this._cubemapMaterial:this._equirectMaterial,o=new ri(this._lodPlanes[0],a),c=a.uniforms;c.envMap.value=e;const f=this._cubeSize;Ky(t,0,0,3*f,2*f),i.setRenderTarget(t),i.render(o,WA)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let a=1;a<r;a++){const o=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),c=wC[(r-a-1)%wC.length];this._blur(e,a-1,a,o,c)}t.autoClear=i}_blur(e,t,i,r,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",a),this._halfBlur(o,e,i,i,r,"longitudinal",a)}_halfBlur(e,t,i,r,a,o,c){const f=this._renderer,p=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,v=new ri(this._lodPlanes[r],p),x=p.uniforms,_=this._sizeLods[i]-1,S=isFinite(a)?Math.PI/(2*_):2*Math.PI/(2*Jf-1),T=a/S,M=isFinite(a)?1+Math.floor(m*T):Jf;M>Jf&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${M} samples when the maximum is set to ${Jf}`);const b=[];let R=0;for(let F=0;F<Jf;++F){const V=F/T,P=Math.exp(-V*V/2);b.push(P),F===0?R+=P:F<M&&(R+=2*P)}for(let F=0;F<b.length;F++)b[F]=b[F]/R;x.envMap.value=e.texture,x.samples.value=M,x.weights.value=b,x.latitudinal.value=o==="latitudinal",c&&(x.poleAxis.value=c);const{_lodMax:B}=this;x.dTheta.value=S,x.mipInt.value=B-i;const D=this._sizeLods[r],I=3*D*(r>B-Zd?r-B+Zd:0),U=4*(this._cubeSize-D);Ky(t,I,U,3*D,2*D),f.setRenderTarget(t),f.render(v,WA)}}function _5(n){const e=[],t=[],i=[];let r=n;const a=n-Zd+1+TC.length;for(let o=0;o<a;o++){const c=Math.pow(2,r);t.push(c);let f=1/c;o>n-Zd?f=TC[o-n+Zd-1]:o===0&&(f=0),i.push(f);const p=1/(c-2),m=-p,v=1+p,x=[m,m,v,m,v,v,m,m,v,v,m,v],_=6,S=6,T=3,M=2,b=1,R=new Float32Array(T*S*_),B=new Float32Array(M*S*_),D=new Float32Array(b*S*_);for(let U=0;U<_;U++){const F=U%3*2/3-1,V=U>2?0:-1,P=[F,V,0,F+2/3,V,0,F+2/3,V+1,0,F,V,0,F+2/3,V+1,0,F,V+1,0];R.set(P,T*S*U),B.set(x,M*S*U);const L=[U,U,U,U,U,U];D.set(L,b*S*U)}const I=new Qt;I.setAttribute("position",new Tn(R,T)),I.setAttribute("uv",new Tn(B,M)),I.setAttribute("faceIndex",new Tn(D,b)),e.push(I),r>Zd&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function RC(n,e,t){const i=new hl(n,e,t);return i.texture.mapping=Tp,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Ky(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function b5(n,e,t){const i=new Float32Array(Jf),r=new K(0,1,0);return new Us({name:"SphericalGaussianBlur",defines:{n:Jf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:WE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ic,depthTest:!1,depthWrite:!1})}function BC(){return new Us({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:WE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ic,depthTest:!1,depthWrite:!1})}function DC(){return new Us({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:WE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ic,depthTest:!1,depthWrite:!1})}function WE(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function A5(n){let e=new WeakMap,t=null;function i(c){if(c&&c.isTexture){const f=c.mapping,p=f===Yg||f===qg,m=f===uc||f===Tu;if(p||m){let v=e.get(c);const x=v!==void 0?v.texture.pmremVersion:0;if(c.isRenderTargetTexture&&c.pmremVersion!==x)return t===null&&(t=new d1(n)),v=p?t.fromEquirectangular(c,v):t.fromCubemap(c,v),v.texture.pmremVersion=c.pmremVersion,e.set(c,v),v.texture;if(v!==void 0)return v.texture;{const _=c.image;return p&&_&&_.height>0||m&&_&&r(_)?(t===null&&(t=new d1(n)),v=p?t.fromEquirectangular(c):t.fromCubemap(c),v.texture.pmremVersion=c.pmremVersion,e.set(c,v),c.addEventListener("dispose",a),v.texture):null}}}return c}function r(c){let f=0;const p=6;for(let m=0;m<p;m++)c[m]!==void 0&&f++;return f===p}function a(c){const f=c.target;f.removeEventListener("dispose",a);const p=e.get(f);p!==void 0&&(e.delete(f),p.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function S5(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&ip("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function E5(n,e,t,i){const r={},a=new WeakMap;function o(v){const x=v.target;x.index!==null&&e.remove(x.index);for(const S in x.attributes)e.remove(x.attributes[S]);x.removeEventListener("dispose",o),delete r[x.id];const _=a.get(x);_&&(e.remove(_),a.delete(x)),i.releaseStatesOfGeometry(x),x.isInstancedBufferGeometry===!0&&delete x._maxInstanceCount,t.memory.geometries--}function c(v,x){return r[x.id]===!0||(x.addEventListener("dispose",o),r[x.id]=!0,t.memory.geometries++),x}function f(v){const x=v.attributes;for(const _ in x)e.update(x[_],n.ARRAY_BUFFER)}function p(v){const x=[],_=v.index,S=v.attributes.position;let T=0;if(_!==null){const R=_.array;T=_.version;for(let B=0,D=R.length;B<D;B+=3){const I=R[B+0],U=R[B+1],F=R[B+2];x.push(I,U,U,F,F,I)}}else if(S!==void 0){const R=S.array;T=S.version;for(let B=0,D=R.length/3-1;B<D;B+=3){const I=B+0,U=B+1,F=B+2;x.push(I,U,U,F,F,I)}}else return;const M=new(eD(x)?yE:vE)(x,1);M.version=T;const b=a.get(v);b&&e.remove(b),a.set(v,M)}function m(v){const x=a.get(v);if(x){const _=v.index;_!==null&&x.version<_.version&&p(v)}else p(v);return a.get(v)}return{get:c,update:f,getWireframeAttribute:m}}function M5(n,e,t){let i;function r(x){i=x}let a,o;function c(x){a=x.type,o=x.bytesPerElement}function f(x,_){n.drawElements(i,_,a,x*o),t.update(_,i,1)}function p(x,_,S){S!==0&&(n.drawElementsInstanced(i,_,a,x*o,S),t.update(_,i,S))}function m(x,_,S){if(S===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,_,0,a,x,0,S);let M=0;for(let b=0;b<S;b++)M+=_[b];t.update(M,i,1)}function v(x,_,S,T){if(S===0)return;const M=e.get("WEBGL_multi_draw");if(M===null)for(let b=0;b<x.length;b++)p(x[b]/o,_[b],T[b]);else{M.multiDrawElementsInstancedWEBGL(i,_,0,a,x,0,T,0,S);let b=0;for(let R=0;R<S;R++)b+=_[R]*T[R];t.update(b,i,1)}}this.setMode=r,this.setIndex=c,this.render=f,this.renderInstances=p,this.renderMultiDraw=m,this.renderMultiDrawInstances=v}function T5(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,o,c){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=c*(a/3);break;case n.LINES:t.lines+=c*(a/2);break;case n.LINE_STRIP:t.lines+=c*(a-1);break;case n.LINE_LOOP:t.lines+=c*a;break;case n.POINTS:t.points+=c*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function C5(n,e,t){const i=new WeakMap,r=new mn;function a(o,c,f){const p=o.morphTargetInfluences,m=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,v=m!==void 0?m.length:0;let x=i.get(c);if(x===void 0||x.count!==v){let L=function(){V.dispose(),i.delete(c),c.removeEventListener("dispose",L)};var _=L;x!==void 0&&x.texture.dispose();const S=c.morphAttributes.position!==void 0,T=c.morphAttributes.normal!==void 0,M=c.morphAttributes.color!==void 0,b=c.morphAttributes.position||[],R=c.morphAttributes.normal||[],B=c.morphAttributes.color||[];let D=0;S===!0&&(D=1),T===!0&&(D=2),M===!0&&(D=3);let I=c.attributes.position.count*D,U=1;I>e.maxTextureSize&&(U=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const F=new Float32Array(I*U*4*v),V=new F_(F,I,U,v);V.type=Fa,V.needsUpdate=!0;const P=D*4;for(let k=0;k<v;k++){const ie=b[k],te=R[k],ue=B[k],fe=I*U*4*k;for(let G=0;G<ie.count;G++){const $=G*P;S===!0&&(r.fromBufferAttribute(ie,G),F[fe+$+0]=r.x,F[fe+$+1]=r.y,F[fe+$+2]=r.z,F[fe+$+3]=0),T===!0&&(r.fromBufferAttribute(te,G),F[fe+$+4]=r.x,F[fe+$+5]=r.y,F[fe+$+6]=r.z,F[fe+$+7]=0),M===!0&&(r.fromBufferAttribute(ue,G),F[fe+$+8]=r.x,F[fe+$+9]=r.y,F[fe+$+10]=r.z,F[fe+$+11]=ue.itemSize===4?r.w:1)}}x={count:v,texture:V,size:new Ge(I,U)},i.set(c,x),c.addEventListener("dispose",L)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)f.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let S=0;for(let M=0;M<p.length;M++)S+=p[M];const T=c.morphTargetsRelative?1:1-S;f.getUniforms().setValue(n,"morphTargetBaseInfluence",T),f.getUniforms().setValue(n,"morphTargetInfluences",p)}f.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}return{update:a}}function w5(n,e,t,i){let r=new WeakMap;function a(f){const p=i.render.frame,m=f.geometry,v=e.get(f,m);if(r.get(v)!==p&&(e.update(v),r.set(v,p)),f.isInstancedMesh&&(f.hasEventListener("dispose",c)===!1&&f.addEventListener("dispose",c),r.get(f)!==p&&(t.update(f.instanceMatrix,n.ARRAY_BUFFER),f.instanceColor!==null&&t.update(f.instanceColor,n.ARRAY_BUFFER),r.set(f,p))),f.isSkinnedMesh){const x=f.skeleton;r.get(x)!==p&&(x.update(),r.set(x,p))}return v}function o(){r=new WeakMap}function c(f){const p=f.target;p.removeEventListener("dispose",c),t.remove(p.instanceMatrix),p.instanceColor!==null&&t.remove(p.instanceColor)}return{update:a,dispose:o}}const e3=new ui,OC=new ME(1,1),t3=new F_,n3=new H_,i3=new p0,NC=[],UC=[],LC=new Float32Array(16),IC=new Float32Array(9),PC=new Float32Array(4);function Np(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let a=NC[r];if(a===void 0&&(a=new Float32Array(r),NC[r]=a),e!==0){i.toArray(a,0);for(let o=1,c=0;o!==e;++o)c+=t,n[o].toArray(a,c)}return a}function sr(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function or(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function ub(n,e){let t=UC[e];t===void 0&&(t=new Int32Array(e),UC[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function R5(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function B5(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(sr(t,e))return;n.uniform2fv(this.addr,e),or(t,e)}}function D5(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(sr(t,e))return;n.uniform3fv(this.addr,e),or(t,e)}}function O5(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(sr(t,e))return;n.uniform4fv(this.addr,e),or(t,e)}}function N5(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(sr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),or(t,e)}else{if(sr(t,i))return;PC.set(i),n.uniformMatrix2fv(this.addr,!1,PC),or(t,i)}}function U5(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(sr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),or(t,e)}else{if(sr(t,i))return;IC.set(i),n.uniformMatrix3fv(this.addr,!1,IC),or(t,i)}}function L5(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(sr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),or(t,e)}else{if(sr(t,i))return;LC.set(i),n.uniformMatrix4fv(this.addr,!1,LC),or(t,i)}}function I5(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function P5(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(sr(t,e))return;n.uniform2iv(this.addr,e),or(t,e)}}function z5(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(sr(t,e))return;n.uniform3iv(this.addr,e),or(t,e)}}function F5(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(sr(t,e))return;n.uniform4iv(this.addr,e),or(t,e)}}function H5(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function G5(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(sr(t,e))return;n.uniform2uiv(this.addr,e),or(t,e)}}function V5(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(sr(t,e))return;n.uniform3uiv(this.addr,e),or(t,e)}}function k5(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(sr(t,e))return;n.uniform4uiv(this.addr,e),or(t,e)}}function j5(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let a;this.type===n.SAMPLER_2D_SHADOW?(OC.compareFunction=dE,a=OC):a=e3,t.setTexture2D(e||a,r)}function X5(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||n3,r)}function Y5(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||i3,r)}function q5(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||t3,r)}function W5(n){switch(n){case 5126:return R5;case 35664:return B5;case 35665:return D5;case 35666:return O5;case 35674:return N5;case 35675:return U5;case 35676:return L5;case 5124:case 35670:return I5;case 35667:case 35671:return P5;case 35668:case 35672:return z5;case 35669:case 35673:return F5;case 5125:return H5;case 36294:return G5;case 36295:return V5;case 36296:return k5;case 35678:case 36198:case 36298:case 36306:case 35682:return j5;case 35679:case 36299:case 36307:return X5;case 35680:case 36300:case 36308:case 36293:return Y5;case 36289:case 36303:case 36311:case 36292:return q5}}function J5(n,e){n.uniform1fv(this.addr,e)}function K5(n,e){const t=Np(e,this.size,2);n.uniform2fv(this.addr,t)}function $5(n,e){const t=Np(e,this.size,3);n.uniform3fv(this.addr,t)}function Q5(n,e){const t=Np(e,this.size,4);n.uniform4fv(this.addr,t)}function Z5(n,e){const t=Np(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function eG(n,e){const t=Np(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function tG(n,e){const t=Np(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function nG(n,e){n.uniform1iv(this.addr,e)}function iG(n,e){n.uniform2iv(this.addr,e)}function rG(n,e){n.uniform3iv(this.addr,e)}function aG(n,e){n.uniform4iv(this.addr,e)}function sG(n,e){n.uniform1uiv(this.addr,e)}function oG(n,e){n.uniform2uiv(this.addr,e)}function lG(n,e){n.uniform3uiv(this.addr,e)}function cG(n,e){n.uniform4uiv(this.addr,e)}function uG(n,e,t){const i=this.cache,r=e.length,a=ub(t,r);sr(i,a)||(n.uniform1iv(this.addr,a),or(i,a));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||e3,a[o])}function fG(n,e,t){const i=this.cache,r=e.length,a=ub(t,r);sr(i,a)||(n.uniform1iv(this.addr,a),or(i,a));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||n3,a[o])}function hG(n,e,t){const i=this.cache,r=e.length,a=ub(t,r);sr(i,a)||(n.uniform1iv(this.addr,a),or(i,a));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||i3,a[o])}function dG(n,e,t){const i=this.cache,r=e.length,a=ub(t,r);sr(i,a)||(n.uniform1iv(this.addr,a),or(i,a));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||t3,a[o])}function pG(n){switch(n){case 5126:return J5;case 35664:return K5;case 35665:return $5;case 35666:return Q5;case 35674:return Z5;case 35675:return eG;case 35676:return tG;case 5124:case 35670:return nG;case 35667:case 35671:return iG;case 35668:case 35672:return rG;case 35669:case 35673:return aG;case 5125:return sG;case 36294:return oG;case 36295:return lG;case 36296:return cG;case 35678:case 36198:case 36298:case 36306:case 35682:return uG;case 35679:case 36299:case 36307:return fG;case 35680:case 36300:case 36308:case 36293:return hG;case 36289:case 36303:case 36311:case 36292:return dG}}class mG{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=W5(t.type)}}class gG{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=pG(t.type)}}class vG{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let a=0,o=r.length;a!==o;++a){const c=r[a];c.setValue(e,t[c.id],i)}}}const ZA=/(\w+)(\])?(\[|\.)?/g;function zC(n,e){n.seq.push(e),n.map[e.id]=e}function yG(n,e,t){const i=n.name,r=i.length;for(ZA.lastIndex=0;;){const a=ZA.exec(i),o=ZA.lastIndex;let c=a[1];const f=a[2]==="]",p=a[3];if(f&&(c=c|0),p===void 0||p==="["&&o+2===r){zC(t,p===void 0?new mG(c,n,e):new gG(c,n,e));break}else{let v=t.map[c];v===void 0&&(v=new vG(c),zC(t,v)),t=v}}}class dx{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const a=e.getActiveUniform(t,r),o=e.getUniformLocation(t,a.name);yG(a,o,this)}}setValue(e,t,i,r){const a=this.map[t];a!==void 0&&a.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let a=0,o=t.length;a!==o;++a){const c=t[a],f=i[c.id];f.needsUpdate!==!1&&c.setValue(e,f.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,a=e.length;r!==a;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function FC(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const xG=37297;let _G=0;function bG(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let o=r;o<a;o++){const c=o+1;i.push(`${c===e?">":" "} ${c}: ${t[o]}`)}return i.join(`
`)}const HC=new tn;function AG(n){bn._getMatrix(HC,bn.workingColorSpace,n);const e=`mat3( ${HC.elements.map(t=>t.toFixed(4))} )`;switch(bn.getTransfer(n)){case Jg:return[e,"LinearTransferOETF"];case Fn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function GC(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),a=(n.getShaderInfoLog(e)||"").trim();if(i&&a==="")return"";const o=/ERROR: 0:(\d+)/.exec(a);if(o){const c=parseInt(o[1]);return t.toUpperCase()+`

`+a+`

`+bG(n.getShaderSource(e),c)}else return a}function SG(n,e){const t=AG(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function EG(n,e){let t;switch(e){case NB:t="Linear";break;case UB:t="Reinhard";break;case LB:t="Cineon";break;case iE:t="ACESFilmic";break;case PB:t="AgX";break;case zB:t="Neutral";break;case IB:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const $y=new K;function MG(){bn.getLuminanceCoefficients($y);const n=$y.x.toFixed(4),e=$y.y.toFixed(4),t=$y.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function TG(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Cg).join(`
`)}function CG(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function wG(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=n.getActiveAttrib(e,r),o=a.name;let c=1;a.type===n.FLOAT_MAT2&&(c=2),a.type===n.FLOAT_MAT3&&(c=3),a.type===n.FLOAT_MAT4&&(c=4),t[o]={type:a.type,location:n.getAttribLocation(e,o),locationSize:c}}return t}function Cg(n){return n!==""}function VC(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function kC(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const RG=/^[ \t]*#include +<([\w\d./]+)>/gm;function p1(n){return n.replace(RG,DG)}const BG=new Map;function DG(n,e){let t=Wt[e];if(t===void 0){const i=BG.get(e);if(i!==void 0)t=Wt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return p1(t)}const OG=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function jC(n){return n.replace(OG,NG)}function NG(n,e,t,i){let r="";for(let a=parseInt(e);a<parseInt(t);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function XC(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function UG(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===R_?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===tp?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===po&&(e="SHADOWMAP_TYPE_VSM"),e}function LG(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case uc:case Tu:e="ENVMAP_TYPE_CUBE";break;case Tp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function IG(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Tu:e="ENVMAP_MODE_REFRACTION";break}return e}function PG(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case h0:e="ENVMAP_BLENDING_MULTIPLY";break;case DB:e="ENVMAP_BLENDING_MIX";break;case OB:e="ENVMAP_BLENDING_ADD";break}return e}function zG(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}function FG(n,e,t,i){const r=n.getContext(),a=t.defines;let o=t.vertexShader,c=t.fragmentShader;const f=UG(t),p=LG(t),m=IG(t),v=PG(t),x=zG(t),_=TG(t),S=CG(a),T=r.createProgram();let M,b,R=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(M=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(Cg).join(`
`),M.length>0&&(M+=`
`),b=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(Cg).join(`
`),b.length>0&&(b+=`
`)):(M=[XC(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Cg).join(`
`),b=[XC(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.envMap?"#define "+m:"",t.envMap?"#define "+v:"",x?"#define CUBEUV_TEXEL_WIDTH "+x.texelWidth:"",x?"#define CUBEUV_TEXEL_HEIGHT "+x.texelHeight:"",x?"#define CUBEUV_MAX_MIP "+x.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==ll?"#define TONE_MAPPING":"",t.toneMapping!==ll?Wt.tonemapping_pars_fragment:"",t.toneMapping!==ll?EG("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Wt.colorspace_pars_fragment,SG("linearToOutputTexel",t.outputColorSpace),MG(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Cg).join(`
`)),o=p1(o),o=VC(o,t),o=kC(o,t),c=p1(c),c=VC(c,t),c=kC(c,t),o=jC(o),c=jC(c),t.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,M=[_,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+M,b=["#define varying in",t.glslVersion===s1?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===s1?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const B=R+M+o,D=R+b+c,I=FC(r,r.VERTEX_SHADER,B),U=FC(r,r.FRAGMENT_SHADER,D);r.attachShader(T,I),r.attachShader(T,U),t.index0AttributeName!==void 0?r.bindAttribLocation(T,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(T,0,"position"),r.linkProgram(T);function F(k){if(n.debug.checkShaderErrors){const ie=r.getProgramInfoLog(T)||"",te=r.getShaderInfoLog(I)||"",ue=r.getShaderInfoLog(U)||"",fe=ie.trim(),G=te.trim(),$=ue.trim();let Q=!0,he=!0;if(r.getProgramParameter(T,r.LINK_STATUS)===!1)if(Q=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,T,I,U);else{const Y=GC(r,I,"vertex"),ae=GC(r,U,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(T,r.VALIDATE_STATUS)+`

Material Name: `+k.name+`
Material Type: `+k.type+`

Program Info Log: `+fe+`
`+Y+`
`+ae)}else fe!==""?console.warn("THREE.WebGLProgram: Program Info Log:",fe):(G===""||$==="")&&(he=!1);he&&(k.diagnostics={runnable:Q,programLog:fe,vertexShader:{log:G,prefix:M},fragmentShader:{log:$,prefix:b}})}r.deleteShader(I),r.deleteShader(U),V=new dx(r,T),P=wG(r,T)}let V;this.getUniforms=function(){return V===void 0&&F(this),V};let P;this.getAttributes=function(){return P===void 0&&F(this),P};let L=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return L===!1&&(L=r.getProgramParameter(T,xG)),L},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(T),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=_G++,this.cacheKey=e,this.usedTimes=1,this.program=T,this.vertexShader=I,this.fragmentShader=U,this}let HG=0;class GG{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),a=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new VG(e),t.set(e,i)),i}}class VG{constructor(e){this.id=HG++,this.code=e,this.usedTimes=0}}function kG(n,e,t,i,r,a,o){const c=new vp,f=new GG,p=new Set,m=[],v=r.logarithmicDepthBuffer,x=r.vertexTextures;let _=r.precision;const S={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function T(P){return p.add(P),P===0?"uv":`uv${P}`}function M(P,L,k,ie,te){const ue=ie.fog,fe=te.geometry,G=P.isMeshStandardMaterial?ie.environment:null,$=(P.isMeshStandardMaterial?t:e).get(P.envMap||G),Q=$&&$.mapping===Tp?$.image.height:null,he=S[P.type];P.precision!==null&&(_=r.getMaxPrecision(P.precision),_!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",_,"instead."));const Y=fe.morphAttributes.position||fe.morphAttributes.normal||fe.morphAttributes.color,ae=Y!==void 0?Y.length:0;let Se=0;fe.morphAttributes.position!==void 0&&(Se=1),fe.morphAttributes.normal!==void 0&&(Se=2),fe.morphAttributes.color!==void 0&&(Se=3);let Re,Ue,pe,Be;if(he){const un=mo[he];Re=un.vertexShader,Ue=un.fragmentShader}else Re=P.vertexShader,Ue=P.fragmentShader,f.update(P),pe=f.getVertexShaderID(P),Be=f.getFragmentShaderID(P);const Fe=n.getRenderTarget(),We=n.state.buffers.depth.getReversed(),st=te.isInstancedMesh===!0,St=te.isBatchedMesh===!0,ln=!!P.map,Et=!!P.matcap,Z=!!$,Pe=!!P.aoMap,Oe=!!P.lightMap,Xe=!!P.bumpMap,De=!!P.normalMap,et=!!P.displacementMap,Ve=!!P.emissiveMap,Ye=!!P.metalnessMap,Mt=!!P.roughnessMap,Tt=P.anisotropy>0,j=P.clearcoat>0,H=P.dispersion>0,de=P.iridescence>0,be=P.sheen>0,Ne=P.transmission>0,we=Tt&&!!P.anisotropyMap,at=j&&!!P.clearcoatMap,Qe=j&&!!P.clearcoatNormalMap,pt=j&&!!P.clearcoatRoughnessMap,mt=de&&!!P.iridescenceMap,je=de&&!!P.iridescenceThicknessMap,tt=be&&!!P.sheenColorMap,vt=be&&!!P.sheenRoughnessMap,gt=!!P.specularMap,nt=!!P.specularColorMap,zt=!!P.specularIntensityMap,le=Ne&&!!P.transmissionMap,Ke=Ne&&!!P.thicknessMap,it=!!P.gradientMap,ht=!!P.alphaMap,qe=P.alphaTest>0,He=!!P.alphaHash,yt=!!P.extensions;let Lt=ll;P.toneMapped&&(Fe===null||Fe.isXRRenderTarget===!0)&&(Lt=n.toneMapping);const gn={shaderID:he,shaderType:P.type,shaderName:P.name,vertexShader:Re,fragmentShader:Ue,defines:P.defines,customVertexShaderID:pe,customFragmentShaderID:Be,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:_,batching:St,batchingColor:St&&te._colorsTexture!==null,instancing:st,instancingColor:st&&te.instanceColor!==null,instancingMorph:st&&te.morphTexture!==null,supportsVertexTextures:x,outputColorSpace:Fe===null?n.outputColorSpace:Fe.isXRRenderTarget===!0?Fe.texture.colorSpace:wu,alphaToCoverage:!!P.alphaToCoverage,map:ln,matcap:Et,envMap:Z,envMapMode:Z&&$.mapping,envMapCubeUVHeight:Q,aoMap:Pe,lightMap:Oe,bumpMap:Xe,normalMap:De,displacementMap:x&&et,emissiveMap:Ve,normalMapObjectSpace:De&&P.normalMapType===YB,normalMapTangentSpace:De&&P.normalMapType===Nu,metalnessMap:Ye,roughnessMap:Mt,anisotropy:Tt,anisotropyMap:we,clearcoat:j,clearcoatMap:at,clearcoatNormalMap:Qe,clearcoatRoughnessMap:pt,dispersion:H,iridescence:de,iridescenceMap:mt,iridescenceThicknessMap:je,sheen:be,sheenColorMap:tt,sheenRoughnessMap:vt,specularMap:gt,specularColorMap:nt,specularIntensityMap:zt,transmission:Ne,transmissionMap:le,thicknessMap:Ke,gradientMap:it,opaque:P.transparent===!1&&P.blending===ih&&P.alphaToCoverage===!1,alphaMap:ht,alphaTest:qe,alphaHash:He,combine:P.combine,mapUv:ln&&T(P.map.channel),aoMapUv:Pe&&T(P.aoMap.channel),lightMapUv:Oe&&T(P.lightMap.channel),bumpMapUv:Xe&&T(P.bumpMap.channel),normalMapUv:De&&T(P.normalMap.channel),displacementMapUv:et&&T(P.displacementMap.channel),emissiveMapUv:Ve&&T(P.emissiveMap.channel),metalnessMapUv:Ye&&T(P.metalnessMap.channel),roughnessMapUv:Mt&&T(P.roughnessMap.channel),anisotropyMapUv:we&&T(P.anisotropyMap.channel),clearcoatMapUv:at&&T(P.clearcoatMap.channel),clearcoatNormalMapUv:Qe&&T(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:pt&&T(P.clearcoatRoughnessMap.channel),iridescenceMapUv:mt&&T(P.iridescenceMap.channel),iridescenceThicknessMapUv:je&&T(P.iridescenceThicknessMap.channel),sheenColorMapUv:tt&&T(P.sheenColorMap.channel),sheenRoughnessMapUv:vt&&T(P.sheenRoughnessMap.channel),specularMapUv:gt&&T(P.specularMap.channel),specularColorMapUv:nt&&T(P.specularColorMap.channel),specularIntensityMapUv:zt&&T(P.specularIntensityMap.channel),transmissionMapUv:le&&T(P.transmissionMap.channel),thicknessMapUv:Ke&&T(P.thicknessMap.channel),alphaMapUv:ht&&T(P.alphaMap.channel),vertexTangents:!!fe.attributes.tangent&&(De||Tt),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!fe.attributes.color&&fe.attributes.color.itemSize===4,pointsUvs:te.isPoints===!0&&!!fe.attributes.uv&&(ln||ht),fog:!!ue,useFog:P.fog===!0,fogExp2:!!ue&&ue.isFogExp2,flatShading:P.flatShading===!0&&P.wireframe===!1,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:v,reversedDepthBuffer:We,skinning:te.isSkinnedMesh===!0,morphTargets:fe.morphAttributes.position!==void 0,morphNormals:fe.morphAttributes.normal!==void 0,morphColors:fe.morphAttributes.color!==void 0,morphTargetsCount:ae,morphTextureStride:Se,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numLightProbes:L.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:n.shadowMap.enabled&&k.length>0,shadowMapType:n.shadowMap.type,toneMapping:Lt,decodeVideoTexture:ln&&P.map.isVideoTexture===!0&&bn.getTransfer(P.map.colorSpace)===Fn,decodeVideoTextureEmissive:Ve&&P.emissiveMap.isVideoTexture===!0&&bn.getTransfer(P.emissiveMap.colorSpace)===Fn,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===go,flipSided:P.side===kr,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:yt&&P.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(yt&&P.extensions.multiDraw===!0||St)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return gn.vertexUv1s=p.has(1),gn.vertexUv2s=p.has(2),gn.vertexUv3s=p.has(3),p.clear(),gn}function b(P){const L=[];if(P.shaderID?L.push(P.shaderID):(L.push(P.customVertexShaderID),L.push(P.customFragmentShaderID)),P.defines!==void 0)for(const k in P.defines)L.push(k),L.push(P.defines[k]);return P.isRawShaderMaterial===!1&&(R(L,P),B(L,P),L.push(n.outputColorSpace)),L.push(P.customProgramCacheKey),L.join()}function R(P,L){P.push(L.precision),P.push(L.outputColorSpace),P.push(L.envMapMode),P.push(L.envMapCubeUVHeight),P.push(L.mapUv),P.push(L.alphaMapUv),P.push(L.lightMapUv),P.push(L.aoMapUv),P.push(L.bumpMapUv),P.push(L.normalMapUv),P.push(L.displacementMapUv),P.push(L.emissiveMapUv),P.push(L.metalnessMapUv),P.push(L.roughnessMapUv),P.push(L.anisotropyMapUv),P.push(L.clearcoatMapUv),P.push(L.clearcoatNormalMapUv),P.push(L.clearcoatRoughnessMapUv),P.push(L.iridescenceMapUv),P.push(L.iridescenceThicknessMapUv),P.push(L.sheenColorMapUv),P.push(L.sheenRoughnessMapUv),P.push(L.specularMapUv),P.push(L.specularColorMapUv),P.push(L.specularIntensityMapUv),P.push(L.transmissionMapUv),P.push(L.thicknessMapUv),P.push(L.combine),P.push(L.fogExp2),P.push(L.sizeAttenuation),P.push(L.morphTargetsCount),P.push(L.morphAttributeCount),P.push(L.numDirLights),P.push(L.numPointLights),P.push(L.numSpotLights),P.push(L.numSpotLightMaps),P.push(L.numHemiLights),P.push(L.numRectAreaLights),P.push(L.numDirLightShadows),P.push(L.numPointLightShadows),P.push(L.numSpotLightShadows),P.push(L.numSpotLightShadowsWithMaps),P.push(L.numLightProbes),P.push(L.shadowMapType),P.push(L.toneMapping),P.push(L.numClippingPlanes),P.push(L.numClipIntersection),P.push(L.depthPacking)}function B(P,L){c.disableAll(),L.supportsVertexTextures&&c.enable(0),L.instancing&&c.enable(1),L.instancingColor&&c.enable(2),L.instancingMorph&&c.enable(3),L.matcap&&c.enable(4),L.envMap&&c.enable(5),L.normalMapObjectSpace&&c.enable(6),L.normalMapTangentSpace&&c.enable(7),L.clearcoat&&c.enable(8),L.iridescence&&c.enable(9),L.alphaTest&&c.enable(10),L.vertexColors&&c.enable(11),L.vertexAlphas&&c.enable(12),L.vertexUv1s&&c.enable(13),L.vertexUv2s&&c.enable(14),L.vertexUv3s&&c.enable(15),L.vertexTangents&&c.enable(16),L.anisotropy&&c.enable(17),L.alphaHash&&c.enable(18),L.batching&&c.enable(19),L.dispersion&&c.enable(20),L.batchingColor&&c.enable(21),L.gradientMap&&c.enable(22),P.push(c.mask),c.disableAll(),L.fog&&c.enable(0),L.useFog&&c.enable(1),L.flatShading&&c.enable(2),L.logarithmicDepthBuffer&&c.enable(3),L.reversedDepthBuffer&&c.enable(4),L.skinning&&c.enable(5),L.morphTargets&&c.enable(6),L.morphNormals&&c.enable(7),L.morphColors&&c.enable(8),L.premultipliedAlpha&&c.enable(9),L.shadowMapEnabled&&c.enable(10),L.doubleSided&&c.enable(11),L.flipSided&&c.enable(12),L.useDepthPacking&&c.enable(13),L.dithering&&c.enable(14),L.transmission&&c.enable(15),L.sheen&&c.enable(16),L.opaque&&c.enable(17),L.pointsUvs&&c.enable(18),L.decodeVideoTexture&&c.enable(19),L.decodeVideoTextureEmissive&&c.enable(20),L.alphaToCoverage&&c.enable(21),P.push(c.mask)}function D(P){const L=S[P.type];let k;if(L){const ie=mo[L];k=xE.clone(ie.uniforms)}else k=P.uniforms;return k}function I(P,L){let k;for(let ie=0,te=m.length;ie<te;ie++){const ue=m[ie];if(ue.cacheKey===L){k=ue,++k.usedTimes;break}}return k===void 0&&(k=new FG(n,L,P,a),m.push(k)),k}function U(P){if(--P.usedTimes===0){const L=m.indexOf(P);m[L]=m[m.length-1],m.pop(),P.destroy()}}function F(P){f.remove(P)}function V(){f.dispose()}return{getParameters:M,getProgramCacheKey:b,getUniforms:D,acquireProgram:I,releaseProgram:U,releaseShaderCache:F,programs:m,dispose:V}}function jG(){let n=new WeakMap;function e(o){return n.has(o)}function t(o){let c=n.get(o);return c===void 0&&(c={},n.set(o,c)),c}function i(o){n.delete(o)}function r(o,c,f){n.get(o)[c]=f}function a(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:a}}function XG(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function YC(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function qC(){const n=[];let e=0;const t=[],i=[],r=[];function a(){e=0,t.length=0,i.length=0,r.length=0}function o(v,x,_,S,T,M){let b=n[e];return b===void 0?(b={id:v.id,object:v,geometry:x,material:_,groupOrder:S,renderOrder:v.renderOrder,z:T,group:M},n[e]=b):(b.id=v.id,b.object=v,b.geometry=x,b.material=_,b.groupOrder=S,b.renderOrder=v.renderOrder,b.z=T,b.group=M),e++,b}function c(v,x,_,S,T,M){const b=o(v,x,_,S,T,M);_.transmission>0?i.push(b):_.transparent===!0?r.push(b):t.push(b)}function f(v,x,_,S,T,M){const b=o(v,x,_,S,T,M);_.transmission>0?i.unshift(b):_.transparent===!0?r.unshift(b):t.unshift(b)}function p(v,x){t.length>1&&t.sort(v||XG),i.length>1&&i.sort(x||YC),r.length>1&&r.sort(x||YC)}function m(){for(let v=e,x=n.length;v<x;v++){const _=n[v];if(_.id===null)break;_.id=null,_.object=null,_.geometry=null,_.material=null,_.group=null}}return{opaque:t,transmissive:i,transparent:r,init:a,push:c,unshift:f,finish:m,sort:p}}function YG(){let n=new WeakMap;function e(i,r){const a=n.get(i);let o;return a===void 0?(o=new qC,n.set(i,[o])):r>=a.length?(o=new qC,a.push(o)):o=a[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function qG(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new K,color:new ot};break;case"SpotLight":t={position:new K,direction:new K,color:new ot,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new K,color:new ot,distance:0,decay:0};break;case"HemisphereLight":t={direction:new K,skyColor:new ot,groundColor:new ot};break;case"RectAreaLight":t={color:new ot,position:new K,halfWidth:new K,halfHeight:new K};break}return n[e.id]=t,t}}}function WG(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let JG=0;function KG(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function $G(n){const e=new qG,t=WG(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let p=0;p<9;p++)i.probe.push(new K);const r=new K,a=new Ot,o=new Ot;function c(p){let m=0,v=0,x=0;for(let P=0;P<9;P++)i.probe[P].set(0,0,0);let _=0,S=0,T=0,M=0,b=0,R=0,B=0,D=0,I=0,U=0,F=0;p.sort(KG);for(let P=0,L=p.length;P<L;P++){const k=p[P],ie=k.color,te=k.intensity,ue=k.distance,fe=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)m+=ie.r*te,v+=ie.g*te,x+=ie.b*te;else if(k.isLightProbe){for(let G=0;G<9;G++)i.probe[G].addScaledVector(k.sh.coefficients[G],te);F++}else if(k.isDirectionalLight){const G=e.get(k);if(G.color.copy(k.color).multiplyScalar(k.intensity),k.castShadow){const $=k.shadow,Q=t.get(k);Q.shadowIntensity=$.intensity,Q.shadowBias=$.bias,Q.shadowNormalBias=$.normalBias,Q.shadowRadius=$.radius,Q.shadowMapSize=$.mapSize,i.directionalShadow[_]=Q,i.directionalShadowMap[_]=fe,i.directionalShadowMatrix[_]=k.shadow.matrix,R++}i.directional[_]=G,_++}else if(k.isSpotLight){const G=e.get(k);G.position.setFromMatrixPosition(k.matrixWorld),G.color.copy(ie).multiplyScalar(te),G.distance=ue,G.coneCos=Math.cos(k.angle),G.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),G.decay=k.decay,i.spot[T]=G;const $=k.shadow;if(k.map&&(i.spotLightMap[I]=k.map,I++,$.updateMatrices(k),k.castShadow&&U++),i.spotLightMatrix[T]=$.matrix,k.castShadow){const Q=t.get(k);Q.shadowIntensity=$.intensity,Q.shadowBias=$.bias,Q.shadowNormalBias=$.normalBias,Q.shadowRadius=$.radius,Q.shadowMapSize=$.mapSize,i.spotShadow[T]=Q,i.spotShadowMap[T]=fe,D++}T++}else if(k.isRectAreaLight){const G=e.get(k);G.color.copy(ie).multiplyScalar(te),G.halfWidth.set(k.width*.5,0,0),G.halfHeight.set(0,k.height*.5,0),i.rectArea[M]=G,M++}else if(k.isPointLight){const G=e.get(k);if(G.color.copy(k.color).multiplyScalar(k.intensity),G.distance=k.distance,G.decay=k.decay,k.castShadow){const $=k.shadow,Q=t.get(k);Q.shadowIntensity=$.intensity,Q.shadowBias=$.bias,Q.shadowNormalBias=$.normalBias,Q.shadowRadius=$.radius,Q.shadowMapSize=$.mapSize,Q.shadowCameraNear=$.camera.near,Q.shadowCameraFar=$.camera.far,i.pointShadow[S]=Q,i.pointShadowMap[S]=fe,i.pointShadowMatrix[S]=k.shadow.matrix,B++}i.point[S]=G,S++}else if(k.isHemisphereLight){const G=e.get(k);G.skyColor.copy(k.color).multiplyScalar(te),G.groundColor.copy(k.groundColor).multiplyScalar(te),i.hemi[b]=G,b++}}M>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ut.LTC_FLOAT_1,i.rectAreaLTC2=ut.LTC_FLOAT_2):(i.rectAreaLTC1=ut.LTC_HALF_1,i.rectAreaLTC2=ut.LTC_HALF_2)),i.ambient[0]=m,i.ambient[1]=v,i.ambient[2]=x;const V=i.hash;(V.directionalLength!==_||V.pointLength!==S||V.spotLength!==T||V.rectAreaLength!==M||V.hemiLength!==b||V.numDirectionalShadows!==R||V.numPointShadows!==B||V.numSpotShadows!==D||V.numSpotMaps!==I||V.numLightProbes!==F)&&(i.directional.length=_,i.spot.length=T,i.rectArea.length=M,i.point.length=S,i.hemi.length=b,i.directionalShadow.length=R,i.directionalShadowMap.length=R,i.pointShadow.length=B,i.pointShadowMap.length=B,i.spotShadow.length=D,i.spotShadowMap.length=D,i.directionalShadowMatrix.length=R,i.pointShadowMatrix.length=B,i.spotLightMatrix.length=D+I-U,i.spotLightMap.length=I,i.numSpotLightShadowsWithMaps=U,i.numLightProbes=F,V.directionalLength=_,V.pointLength=S,V.spotLength=T,V.rectAreaLength=M,V.hemiLength=b,V.numDirectionalShadows=R,V.numPointShadows=B,V.numSpotShadows=D,V.numSpotMaps=I,V.numLightProbes=F,i.version=JG++)}function f(p,m){let v=0,x=0,_=0,S=0,T=0;const M=m.matrixWorldInverse;for(let b=0,R=p.length;b<R;b++){const B=p[b];if(B.isDirectionalLight){const D=i.directional[v];D.direction.setFromMatrixPosition(B.matrixWorld),r.setFromMatrixPosition(B.target.matrixWorld),D.direction.sub(r),D.direction.transformDirection(M),v++}else if(B.isSpotLight){const D=i.spot[_];D.position.setFromMatrixPosition(B.matrixWorld),D.position.applyMatrix4(M),D.direction.setFromMatrixPosition(B.matrixWorld),r.setFromMatrixPosition(B.target.matrixWorld),D.direction.sub(r),D.direction.transformDirection(M),_++}else if(B.isRectAreaLight){const D=i.rectArea[S];D.position.setFromMatrixPosition(B.matrixWorld),D.position.applyMatrix4(M),o.identity(),a.copy(B.matrixWorld),a.premultiply(M),o.extractRotation(a),D.halfWidth.set(B.width*.5,0,0),D.halfHeight.set(0,B.height*.5,0),D.halfWidth.applyMatrix4(o),D.halfHeight.applyMatrix4(o),S++}else if(B.isPointLight){const D=i.point[x];D.position.setFromMatrixPosition(B.matrixWorld),D.position.applyMatrix4(M),x++}else if(B.isHemisphereLight){const D=i.hemi[T];D.direction.setFromMatrixPosition(B.matrixWorld),D.direction.transformDirection(M),T++}}}return{setup:c,setupView:f,state:i}}function WC(n){const e=new $G(n),t=[],i=[];function r(m){p.camera=m,t.length=0,i.length=0}function a(m){t.push(m)}function o(m){i.push(m)}function c(){e.setup(t)}function f(m){e.setupView(t,m)}const p={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:p,setupLights:c,setupLightsView:f,pushLight:a,pushShadow:o}}function QG(n){let e=new WeakMap;function t(r,a=0){const o=e.get(r);let c;return o===void 0?(c=new WC(n),e.set(r,[c])):a>=o.length?(c=new WC(n),o.push(c)):c=o[a],c}function i(){e=new WeakMap}return{get:t,dispose:i}}const ZG=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,e9=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function t9(n,e,t){let i=new Rp;const r=new Ge,a=new Ge,o=new mn,c=new OE({depthPacking:XB}),f=new NE,p={},m=t.maxTextureSize,v={[fl]:kr,[kr]:fl,[go]:go},x=new Us({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ge},radius:{value:4}},vertexShader:ZG,fragmentShader:e9}),_=x.clone();_.defines.HORIZONTAL_PASS=1;const S=new Qt;S.setAttribute("position",new Tn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const T=new ri(S,x),M=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=R_;let b=this.type;this.render=function(U,F,V){if(M.enabled===!1||M.autoUpdate===!1&&M.needsUpdate===!1||U.length===0)return;const P=n.getRenderTarget(),L=n.getActiveCubeFace(),k=n.getActiveMipmapLevel(),ie=n.state;ie.setBlending(ic),ie.buffers.depth.getReversed()?ie.buffers.color.setClear(0,0,0,0):ie.buffers.color.setClear(1,1,1,1),ie.buffers.depth.setTest(!0),ie.setScissorTest(!1);const te=b!==po&&this.type===po,ue=b===po&&this.type!==po;for(let fe=0,G=U.length;fe<G;fe++){const $=U[fe],Q=$.shadow;if(Q===void 0){console.warn("THREE.WebGLShadowMap:",$,"has no shadow.");continue}if(Q.autoUpdate===!1&&Q.needsUpdate===!1)continue;r.copy(Q.mapSize);const he=Q.getFrameExtents();if(r.multiply(he),a.copy(Q.mapSize),(r.x>m||r.y>m)&&(r.x>m&&(a.x=Math.floor(m/he.x),r.x=a.x*he.x,Q.mapSize.x=a.x),r.y>m&&(a.y=Math.floor(m/he.y),r.y=a.y*he.y,Q.mapSize.y=a.y)),Q.map===null||te===!0||ue===!0){const ae=this.type!==po?{minFilter:gr,magFilter:gr}:{};Q.map!==null&&Q.map.dispose(),Q.map=new hl(r.x,r.y,ae),Q.map.texture.name=$.name+".shadowMap",Q.camera.updateProjectionMatrix()}n.setRenderTarget(Q.map),n.clear();const Y=Q.getViewportCount();for(let ae=0;ae<Y;ae++){const Se=Q.getViewport(ae);o.set(a.x*Se.x,a.y*Se.y,a.x*Se.z,a.y*Se.w),ie.viewport(o),Q.updateMatrices($,ae),i=Q.getFrustum(),D(F,V,Q.camera,$,this.type)}Q.isPointLightShadow!==!0&&this.type===po&&R(Q,V),Q.needsUpdate=!1}b=this.type,M.needsUpdate=!1,n.setRenderTarget(P,L,k)};function R(U,F){const V=e.update(T);x.defines.VSM_SAMPLES!==U.blurSamples&&(x.defines.VSM_SAMPLES=U.blurSamples,_.defines.VSM_SAMPLES=U.blurSamples,x.needsUpdate=!0,_.needsUpdate=!0),U.mapPass===null&&(U.mapPass=new hl(r.x,r.y)),x.uniforms.shadow_pass.value=U.map.texture,x.uniforms.resolution.value=U.mapSize,x.uniforms.radius.value=U.radius,n.setRenderTarget(U.mapPass),n.clear(),n.renderBufferDirect(F,null,V,x,T,null),_.uniforms.shadow_pass.value=U.mapPass.texture,_.uniforms.resolution.value=U.mapSize,_.uniforms.radius.value=U.radius,n.setRenderTarget(U.map),n.clear(),n.renderBufferDirect(F,null,V,_,T,null)}function B(U,F,V,P){let L=null;const k=V.isPointLight===!0?U.customDistanceMaterial:U.customDepthMaterial;if(k!==void 0)L=k;else if(L=V.isPointLight===!0?f:c,n.localClippingEnabled&&F.clipShadows===!0&&Array.isArray(F.clippingPlanes)&&F.clippingPlanes.length!==0||F.displacementMap&&F.displacementScale!==0||F.alphaMap&&F.alphaTest>0||F.map&&F.alphaTest>0||F.alphaToCoverage===!0){const ie=L.uuid,te=F.uuid;let ue=p[ie];ue===void 0&&(ue={},p[ie]=ue);let fe=ue[te];fe===void 0&&(fe=L.clone(),ue[te]=fe,F.addEventListener("dispose",I)),L=fe}if(L.visible=F.visible,L.wireframe=F.wireframe,P===po?L.side=F.shadowSide!==null?F.shadowSide:F.side:L.side=F.shadowSide!==null?F.shadowSide:v[F.side],L.alphaMap=F.alphaMap,L.alphaTest=F.alphaToCoverage===!0?.5:F.alphaTest,L.map=F.map,L.clipShadows=F.clipShadows,L.clippingPlanes=F.clippingPlanes,L.clipIntersection=F.clipIntersection,L.displacementMap=F.displacementMap,L.displacementScale=F.displacementScale,L.displacementBias=F.displacementBias,L.wireframeLinewidth=F.wireframeLinewidth,L.linewidth=F.linewidth,V.isPointLight===!0&&L.isMeshDistanceMaterial===!0){const ie=n.properties.get(L);ie.light=V}return L}function D(U,F,V,P,L){if(U.visible===!1)return;if(U.layers.test(F.layers)&&(U.isMesh||U.isLine||U.isPoints)&&(U.castShadow||U.receiveShadow&&L===po)&&(!U.frustumCulled||i.intersectsObject(U))){U.modelViewMatrix.multiplyMatrices(V.matrixWorldInverse,U.matrixWorld);const te=e.update(U),ue=U.material;if(Array.isArray(ue)){const fe=te.groups;for(let G=0,$=fe.length;G<$;G++){const Q=fe[G],he=ue[Q.materialIndex];if(he&&he.visible){const Y=B(U,he,P,L);U.onBeforeShadow(n,U,F,V,te,Y,Q),n.renderBufferDirect(V,null,te,Y,U,Q),U.onAfterShadow(n,U,F,V,te,Y,Q)}}}else if(ue.visible){const fe=B(U,ue,P,L);U.onBeforeShadow(n,U,F,V,te,fe,null),n.renderBufferDirect(V,null,te,fe,U,null),U.onAfterShadow(n,U,F,V,te,fe,null)}}const ie=U.children;for(let te=0,ue=ie.length;te<ue;te++)D(ie[te],F,V,P,L)}function I(U){U.target.removeEventListener("dispose",I);for(const V in p){const P=p[V],L=U.target.uuid;L in P&&(P[L].dispose(),delete P[L])}}}const n9={[_x]:bx,[Ax]:Mx,[Sx]:Tx,[lh]:Ex,[bx]:_x,[Mx]:Ax,[Tx]:Sx,[Ex]:lh};function i9(n,e){function t(){let le=!1;const Ke=new mn;let it=null;const ht=new mn(0,0,0,0);return{setMask:function(qe){it!==qe&&!le&&(n.colorMask(qe,qe,qe,qe),it=qe)},setLocked:function(qe){le=qe},setClear:function(qe,He,yt,Lt,gn){gn===!0&&(qe*=Lt,He*=Lt,yt*=Lt),Ke.set(qe,He,yt,Lt),ht.equals(Ke)===!1&&(n.clearColor(qe,He,yt,Lt),ht.copy(Ke))},reset:function(){le=!1,it=null,ht.set(-1,0,0,0)}}}function i(){let le=!1,Ke=!1,it=null,ht=null,qe=null;return{setReversed:function(He){if(Ke!==He){const yt=e.get("EXT_clip_control");He?yt.clipControlEXT(yt.LOWER_LEFT_EXT,yt.ZERO_TO_ONE_EXT):yt.clipControlEXT(yt.LOWER_LEFT_EXT,yt.NEGATIVE_ONE_TO_ONE_EXT),Ke=He;const Lt=qe;qe=null,this.setClear(Lt)}},getReversed:function(){return Ke},setTest:function(He){He?Fe(n.DEPTH_TEST):We(n.DEPTH_TEST)},setMask:function(He){it!==He&&!le&&(n.depthMask(He),it=He)},setFunc:function(He){if(Ke&&(He=n9[He]),ht!==He){switch(He){case _x:n.depthFunc(n.NEVER);break;case bx:n.depthFunc(n.ALWAYS);break;case Ax:n.depthFunc(n.LESS);break;case lh:n.depthFunc(n.LEQUAL);break;case Sx:n.depthFunc(n.EQUAL);break;case Ex:n.depthFunc(n.GEQUAL);break;case Mx:n.depthFunc(n.GREATER);break;case Tx:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}ht=He}},setLocked:function(He){le=He},setClear:function(He){qe!==He&&(Ke&&(He=1-He),n.clearDepth(He),qe=He)},reset:function(){le=!1,it=null,ht=null,qe=null,Ke=!1}}}function r(){let le=!1,Ke=null,it=null,ht=null,qe=null,He=null,yt=null,Lt=null,gn=null;return{setTest:function(un){le||(un?Fe(n.STENCIL_TEST):We(n.STENCIL_TEST))},setMask:function(un){Ke!==un&&!le&&(n.stencilMask(un),Ke=un)},setFunc:function(un,xa,bi){(it!==un||ht!==xa||qe!==bi)&&(n.stencilFunc(un,xa,bi),it=un,ht=xa,qe=bi)},setOp:function(un,xa,bi){(He!==un||yt!==xa||Lt!==bi)&&(n.stencilOp(un,xa,bi),He=un,yt=xa,Lt=bi)},setLocked:function(un){le=un},setClear:function(un){gn!==un&&(n.clearStencil(un),gn=un)},reset:function(){le=!1,Ke=null,it=null,ht=null,qe=null,He=null,yt=null,Lt=null,gn=null}}}const a=new t,o=new i,c=new r,f=new WeakMap,p=new WeakMap;let m={},v={},x=new WeakMap,_=[],S=null,T=!1,M=null,b=null,R=null,B=null,D=null,I=null,U=null,F=new ot(0,0,0),V=0,P=!1,L=null,k=null,ie=null,te=null,ue=null;const fe=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let G=!1,$=0;const Q=n.getParameter(n.VERSION);Q.indexOf("WebGL")!==-1?($=parseFloat(/^WebGL (\d)/.exec(Q)[1]),G=$>=1):Q.indexOf("OpenGL ES")!==-1&&($=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),G=$>=2);let he=null,Y={};const ae=n.getParameter(n.SCISSOR_BOX),Se=n.getParameter(n.VIEWPORT),Re=new mn().fromArray(ae),Ue=new mn().fromArray(Se);function pe(le,Ke,it,ht){const qe=new Uint8Array(4),He=n.createTexture();n.bindTexture(le,He),n.texParameteri(le,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(le,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let yt=0;yt<it;yt++)le===n.TEXTURE_3D||le===n.TEXTURE_2D_ARRAY?n.texImage3D(Ke,0,n.RGBA,1,1,ht,0,n.RGBA,n.UNSIGNED_BYTE,qe):n.texImage2D(Ke+yt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,qe);return He}const Be={};Be[n.TEXTURE_2D]=pe(n.TEXTURE_2D,n.TEXTURE_2D,1),Be[n.TEXTURE_CUBE_MAP]=pe(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Be[n.TEXTURE_2D_ARRAY]=pe(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Be[n.TEXTURE_3D]=pe(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),c.setClear(0),Fe(n.DEPTH_TEST),o.setFunc(lh),Xe(!1),De(e1),Fe(n.CULL_FACE),Pe(ic);function Fe(le){m[le]!==!0&&(n.enable(le),m[le]=!0)}function We(le){m[le]!==!1&&(n.disable(le),m[le]=!1)}function st(le,Ke){return v[le]!==Ke?(n.bindFramebuffer(le,Ke),v[le]=Ke,le===n.DRAW_FRAMEBUFFER&&(v[n.FRAMEBUFFER]=Ke),le===n.FRAMEBUFFER&&(v[n.DRAW_FRAMEBUFFER]=Ke),!0):!1}function St(le,Ke){let it=_,ht=!1;if(le){it=x.get(Ke),it===void 0&&(it=[],x.set(Ke,it));const qe=le.textures;if(it.length!==qe.length||it[0]!==n.COLOR_ATTACHMENT0){for(let He=0,yt=qe.length;He<yt;He++)it[He]=n.COLOR_ATTACHMENT0+He;it.length=qe.length,ht=!0}}else it[0]!==n.BACK&&(it[0]=n.BACK,ht=!0);ht&&n.drawBuffers(it)}function ln(le){return S!==le?(n.useProgram(le),S=le,!0):!1}const Et={[bu]:n.FUNC_ADD,[pB]:n.FUNC_SUBTRACT,[mB]:n.FUNC_REVERSE_SUBTRACT};Et[gB]=n.MIN,Et[vB]=n.MAX;const Z={[yB]:n.ZERO,[xB]:n.ONE,[_B]:n.SRC_COLOR,[yx]:n.SRC_ALPHA,[TB]:n.SRC_ALPHA_SATURATE,[EB]:n.DST_COLOR,[AB]:n.DST_ALPHA,[bB]:n.ONE_MINUS_SRC_COLOR,[xx]:n.ONE_MINUS_SRC_ALPHA,[MB]:n.ONE_MINUS_DST_COLOR,[SB]:n.ONE_MINUS_DST_ALPHA,[CB]:n.CONSTANT_COLOR,[wB]:n.ONE_MINUS_CONSTANT_COLOR,[RB]:n.CONSTANT_ALPHA,[BB]:n.ONE_MINUS_CONSTANT_ALPHA};function Pe(le,Ke,it,ht,qe,He,yt,Lt,gn,un){if(le===ic){T===!0&&(We(n.BLEND),T=!1);return}if(T===!1&&(Fe(n.BLEND),T=!0),le!==dB){if(le!==M||un!==P){if((b!==bu||D!==bu)&&(n.blendEquation(n.FUNC_ADD),b=bu,D=bu),un)switch(le){case ih:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case t1:n.blendFunc(n.ONE,n.ONE);break;case n1:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case i1:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}else switch(le){case ih:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case t1:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case n1:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case i1:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}R=null,B=null,I=null,U=null,F.set(0,0,0),V=0,M=le,P=un}return}qe=qe||Ke,He=He||it,yt=yt||ht,(Ke!==b||qe!==D)&&(n.blendEquationSeparate(Et[Ke],Et[qe]),b=Ke,D=qe),(it!==R||ht!==B||He!==I||yt!==U)&&(n.blendFuncSeparate(Z[it],Z[ht],Z[He],Z[yt]),R=it,B=ht,I=He,U=yt),(Lt.equals(F)===!1||gn!==V)&&(n.blendColor(Lt.r,Lt.g,Lt.b,gn),F.copy(Lt),V=gn),M=le,P=!1}function Oe(le,Ke){le.side===go?We(n.CULL_FACE):Fe(n.CULL_FACE);let it=le.side===kr;Ke&&(it=!it),Xe(it),le.blending===ih&&le.transparent===!1?Pe(ic):Pe(le.blending,le.blendEquation,le.blendSrc,le.blendDst,le.blendEquationAlpha,le.blendSrcAlpha,le.blendDstAlpha,le.blendColor,le.blendAlpha,le.premultipliedAlpha),o.setFunc(le.depthFunc),o.setTest(le.depthTest),o.setMask(le.depthWrite),a.setMask(le.colorWrite);const ht=le.stencilWrite;c.setTest(ht),ht&&(c.setMask(le.stencilWriteMask),c.setFunc(le.stencilFunc,le.stencilRef,le.stencilFuncMask),c.setOp(le.stencilFail,le.stencilZFail,le.stencilZPass)),Ve(le.polygonOffset,le.polygonOffsetFactor,le.polygonOffsetUnits),le.alphaToCoverage===!0?Fe(n.SAMPLE_ALPHA_TO_COVERAGE):We(n.SAMPLE_ALPHA_TO_COVERAGE)}function Xe(le){L!==le&&(le?n.frontFace(n.CW):n.frontFace(n.CCW),L=le)}function De(le){le!==uB?(Fe(n.CULL_FACE),le!==k&&(le===e1?n.cullFace(n.BACK):le===fB?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):We(n.CULL_FACE),k=le}function et(le){le!==ie&&(G&&n.lineWidth(le),ie=le)}function Ve(le,Ke,it){le?(Fe(n.POLYGON_OFFSET_FILL),(te!==Ke||ue!==it)&&(n.polygonOffset(Ke,it),te=Ke,ue=it)):We(n.POLYGON_OFFSET_FILL)}function Ye(le){le?Fe(n.SCISSOR_TEST):We(n.SCISSOR_TEST)}function Mt(le){le===void 0&&(le=n.TEXTURE0+fe-1),he!==le&&(n.activeTexture(le),he=le)}function Tt(le,Ke,it){it===void 0&&(he===null?it=n.TEXTURE0+fe-1:it=he);let ht=Y[it];ht===void 0&&(ht={type:void 0,texture:void 0},Y[it]=ht),(ht.type!==le||ht.texture!==Ke)&&(he!==it&&(n.activeTexture(it),he=it),n.bindTexture(le,Ke||Be[le]),ht.type=le,ht.texture=Ke)}function j(){const le=Y[he];le!==void 0&&le.type!==void 0&&(n.bindTexture(le.type,null),le.type=void 0,le.texture=void 0)}function H(){try{n.compressedTexImage2D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function de(){try{n.compressedTexImage3D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function be(){try{n.texSubImage2D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Ne(){try{n.texSubImage3D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function we(){try{n.compressedTexSubImage2D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function at(){try{n.compressedTexSubImage3D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Qe(){try{n.texStorage2D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function pt(){try{n.texStorage3D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function mt(){try{n.texImage2D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function je(){try{n.texImage3D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function tt(le){Re.equals(le)===!1&&(n.scissor(le.x,le.y,le.z,le.w),Re.copy(le))}function vt(le){Ue.equals(le)===!1&&(n.viewport(le.x,le.y,le.z,le.w),Ue.copy(le))}function gt(le,Ke){let it=p.get(Ke);it===void 0&&(it=new WeakMap,p.set(Ke,it));let ht=it.get(le);ht===void 0&&(ht=n.getUniformBlockIndex(Ke,le.name),it.set(le,ht))}function nt(le,Ke){const ht=p.get(Ke).get(le);f.get(Ke)!==ht&&(n.uniformBlockBinding(Ke,ht,le.__bindingPointIndex),f.set(Ke,ht))}function zt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},he=null,Y={},v={},x=new WeakMap,_=[],S=null,T=!1,M=null,b=null,R=null,B=null,D=null,I=null,U=null,F=new ot(0,0,0),V=0,P=!1,L=null,k=null,ie=null,te=null,ue=null,Re.set(0,0,n.canvas.width,n.canvas.height),Ue.set(0,0,n.canvas.width,n.canvas.height),a.reset(),o.reset(),c.reset()}return{buffers:{color:a,depth:o,stencil:c},enable:Fe,disable:We,bindFramebuffer:st,drawBuffers:St,useProgram:ln,setBlending:Pe,setMaterial:Oe,setFlipSided:Xe,setCullFace:De,setLineWidth:et,setPolygonOffset:Ve,setScissorTest:Ye,activeTexture:Mt,bindTexture:Tt,unbindTexture:j,compressedTexImage2D:H,compressedTexImage3D:de,texImage2D:mt,texImage3D:je,updateUBOMapping:gt,uniformBlockBinding:nt,texStorage2D:Qe,texStorage3D:pt,texSubImage2D:be,texSubImage3D:Ne,compressedTexSubImage2D:we,compressedTexSubImage3D:at,scissor:tt,viewport:vt,reset:zt}}function r9(n,e,t,i,r,a,o){const c=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,f=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new Ge,m=new WeakMap;let v;const x=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(j,H){return _?new OffscreenCanvas(j,H):$g("canvas")}function T(j,H,de){let be=1;const Ne=Tt(j);if((Ne.width>de||Ne.height>de)&&(be=de/Math.max(Ne.width,Ne.height)),be<1)if(typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&j instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&j instanceof ImageBitmap||typeof VideoFrame<"u"&&j instanceof VideoFrame){const we=Math.floor(be*Ne.width),at=Math.floor(be*Ne.height);v===void 0&&(v=S(we,at));const Qe=H?S(we,at):v;return Qe.width=we,Qe.height=at,Qe.getContext("2d").drawImage(j,0,0,we,at),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ne.width+"x"+Ne.height+") to ("+we+"x"+at+")."),Qe}else return"data"in j&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ne.width+"x"+Ne.height+")."),j;return j}function M(j){return j.generateMipmaps}function b(j){n.generateMipmap(j)}function R(j){return j.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:j.isWebGL3DRenderTarget?n.TEXTURE_3D:j.isWebGLArrayRenderTarget||j.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function B(j,H,de,be,Ne=!1){if(j!==null){if(n[j]!==void 0)return n[j];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+j+"'")}let we=H;if(H===n.RED&&(de===n.FLOAT&&(we=n.R32F),de===n.HALF_FLOAT&&(we=n.R16F),de===n.UNSIGNED_BYTE&&(we=n.R8)),H===n.RED_INTEGER&&(de===n.UNSIGNED_BYTE&&(we=n.R8UI),de===n.UNSIGNED_SHORT&&(we=n.R16UI),de===n.UNSIGNED_INT&&(we=n.R32UI),de===n.BYTE&&(we=n.R8I),de===n.SHORT&&(we=n.R16I),de===n.INT&&(we=n.R32I)),H===n.RG&&(de===n.FLOAT&&(we=n.RG32F),de===n.HALF_FLOAT&&(we=n.RG16F),de===n.UNSIGNED_BYTE&&(we=n.RG8)),H===n.RG_INTEGER&&(de===n.UNSIGNED_BYTE&&(we=n.RG8UI),de===n.UNSIGNED_SHORT&&(we=n.RG16UI),de===n.UNSIGNED_INT&&(we=n.RG32UI),de===n.BYTE&&(we=n.RG8I),de===n.SHORT&&(we=n.RG16I),de===n.INT&&(we=n.RG32I)),H===n.RGB_INTEGER&&(de===n.UNSIGNED_BYTE&&(we=n.RGB8UI),de===n.UNSIGNED_SHORT&&(we=n.RGB16UI),de===n.UNSIGNED_INT&&(we=n.RGB32UI),de===n.BYTE&&(we=n.RGB8I),de===n.SHORT&&(we=n.RGB16I),de===n.INT&&(we=n.RGB32I)),H===n.RGBA_INTEGER&&(de===n.UNSIGNED_BYTE&&(we=n.RGBA8UI),de===n.UNSIGNED_SHORT&&(we=n.RGBA16UI),de===n.UNSIGNED_INT&&(we=n.RGBA32UI),de===n.BYTE&&(we=n.RGBA8I),de===n.SHORT&&(we=n.RGBA16I),de===n.INT&&(we=n.RGBA32I)),H===n.RGB&&de===n.UNSIGNED_INT_5_9_9_9_REV&&(we=n.RGB9_E5),H===n.RGBA){const at=Ne?Jg:bn.getTransfer(be);de===n.FLOAT&&(we=n.RGBA32F),de===n.HALF_FLOAT&&(we=n.RGBA16F),de===n.UNSIGNED_BYTE&&(we=at===Fn?n.SRGB8_ALPHA8:n.RGBA8),de===n.UNSIGNED_SHORT_4_4_4_4&&(we=n.RGBA4),de===n.UNSIGNED_SHORT_5_5_5_1&&(we=n.RGB5_A1)}return(we===n.R16F||we===n.R32F||we===n.RG16F||we===n.RG32F||we===n.RGBA16F||we===n.RGBA32F)&&e.get("EXT_color_buffer_float"),we}function D(j,H){let de;return j?H===null||H===fc||H===up?de=n.DEPTH24_STENCIL8:H===Fa?de=n.DEPTH32F_STENCIL8:H===cp&&(de=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):H===null||H===fc||H===up?de=n.DEPTH_COMPONENT24:H===Fa?de=n.DEPTH_COMPONENT32F:H===cp&&(de=n.DEPTH_COMPONENT16),de}function I(j,H){return M(j)===!0||j.isFramebufferTexture&&j.minFilter!==gr&&j.minFilter!==Pi?Math.log2(Math.max(H.width,H.height))+1:j.mipmaps!==void 0&&j.mipmaps.length>0?j.mipmaps.length:j.isCompressedTexture&&Array.isArray(j.image)?H.mipmaps.length:1}function U(j){const H=j.target;H.removeEventListener("dispose",U),V(H),H.isVideoTexture&&m.delete(H)}function F(j){const H=j.target;H.removeEventListener("dispose",F),L(H)}function V(j){const H=i.get(j);if(H.__webglInit===void 0)return;const de=j.source,be=x.get(de);if(be){const Ne=be[H.__cacheKey];Ne.usedTimes--,Ne.usedTimes===0&&P(j),Object.keys(be).length===0&&x.delete(de)}i.remove(j)}function P(j){const H=i.get(j);n.deleteTexture(H.__webglTexture);const de=j.source,be=x.get(de);delete be[H.__cacheKey],o.memory.textures--}function L(j){const H=i.get(j);if(j.depthTexture&&(j.depthTexture.dispose(),i.remove(j.depthTexture)),j.isWebGLCubeRenderTarget)for(let be=0;be<6;be++){if(Array.isArray(H.__webglFramebuffer[be]))for(let Ne=0;Ne<H.__webglFramebuffer[be].length;Ne++)n.deleteFramebuffer(H.__webglFramebuffer[be][Ne]);else n.deleteFramebuffer(H.__webglFramebuffer[be]);H.__webglDepthbuffer&&n.deleteRenderbuffer(H.__webglDepthbuffer[be])}else{if(Array.isArray(H.__webglFramebuffer))for(let be=0;be<H.__webglFramebuffer.length;be++)n.deleteFramebuffer(H.__webglFramebuffer[be]);else n.deleteFramebuffer(H.__webglFramebuffer);if(H.__webglDepthbuffer&&n.deleteRenderbuffer(H.__webglDepthbuffer),H.__webglMultisampledFramebuffer&&n.deleteFramebuffer(H.__webglMultisampledFramebuffer),H.__webglColorRenderbuffer)for(let be=0;be<H.__webglColorRenderbuffer.length;be++)H.__webglColorRenderbuffer[be]&&n.deleteRenderbuffer(H.__webglColorRenderbuffer[be]);H.__webglDepthRenderbuffer&&n.deleteRenderbuffer(H.__webglDepthRenderbuffer)}const de=j.textures;for(let be=0,Ne=de.length;be<Ne;be++){const we=i.get(de[be]);we.__webglTexture&&(n.deleteTexture(we.__webglTexture),o.memory.textures--),i.remove(de[be])}i.remove(j)}let k=0;function ie(){k=0}function te(){const j=k;return j>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+j+" texture units while this GPU supports only "+r.maxTextures),k+=1,j}function ue(j){const H=[];return H.push(j.wrapS),H.push(j.wrapT),H.push(j.wrapR||0),H.push(j.magFilter),H.push(j.minFilter),H.push(j.anisotropy),H.push(j.internalFormat),H.push(j.format),H.push(j.type),H.push(j.generateMipmaps),H.push(j.premultiplyAlpha),H.push(j.flipY),H.push(j.unpackAlignment),H.push(j.colorSpace),H.join()}function fe(j,H){const de=i.get(j);if(j.isVideoTexture&&Ye(j),j.isRenderTargetTexture===!1&&j.isExternalTexture!==!0&&j.version>0&&de.__version!==j.version){const be=j.image;if(be===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(be.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Be(de,j,H);return}}else j.isExternalTexture&&(de.__webglTexture=j.sourceTexture?j.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,de.__webglTexture,n.TEXTURE0+H)}function G(j,H){const de=i.get(j);if(j.isRenderTargetTexture===!1&&j.version>0&&de.__version!==j.version){Be(de,j,H);return}t.bindTexture(n.TEXTURE_2D_ARRAY,de.__webglTexture,n.TEXTURE0+H)}function $(j,H){const de=i.get(j);if(j.isRenderTargetTexture===!1&&j.version>0&&de.__version!==j.version){Be(de,j,H);return}t.bindTexture(n.TEXTURE_3D,de.__webglTexture,n.TEXTURE0+H)}function Q(j,H){const de=i.get(j);if(j.version>0&&de.__version!==j.version){Fe(de,j,H);return}t.bindTexture(n.TEXTURE_CUBE_MAP,de.__webglTexture,n.TEXTURE0+H)}const he={[Cu]:n.REPEAT,[rs]:n.CLAMP_TO_EDGE,[lp]:n.MIRRORED_REPEAT},Y={[gr]:n.NEAREST,[D_]:n.NEAREST_MIPMAP_NEAREST,[Kf]:n.NEAREST_MIPMAP_LINEAR,[Pi]:n.LINEAR,[np]:n.LINEAR_MIPMAP_NEAREST,[Ds]:n.LINEAR_MIPMAP_LINEAR},ae={[qB]:n.NEVER,[ZB]:n.ALWAYS,[WB]:n.LESS,[dE]:n.LEQUAL,[JB]:n.EQUAL,[QB]:n.GEQUAL,[KB]:n.GREATER,[$B]:n.NOTEQUAL};function Se(j,H){if(H.type===Fa&&e.has("OES_texture_float_linear")===!1&&(H.magFilter===Pi||H.magFilter===np||H.magFilter===Kf||H.magFilter===Ds||H.minFilter===Pi||H.minFilter===np||H.minFilter===Kf||H.minFilter===Ds)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(j,n.TEXTURE_WRAP_S,he[H.wrapS]),n.texParameteri(j,n.TEXTURE_WRAP_T,he[H.wrapT]),(j===n.TEXTURE_3D||j===n.TEXTURE_2D_ARRAY)&&n.texParameteri(j,n.TEXTURE_WRAP_R,he[H.wrapR]),n.texParameteri(j,n.TEXTURE_MAG_FILTER,Y[H.magFilter]),n.texParameteri(j,n.TEXTURE_MIN_FILTER,Y[H.minFilter]),H.compareFunction&&(n.texParameteri(j,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(j,n.TEXTURE_COMPARE_FUNC,ae[H.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(H.magFilter===gr||H.minFilter!==Kf&&H.minFilter!==Ds||H.type===Fa&&e.has("OES_texture_float_linear")===!1)return;if(H.anisotropy>1||i.get(H).__currentAnisotropy){const de=e.get("EXT_texture_filter_anisotropic");n.texParameterf(j,de.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,r.getMaxAnisotropy())),i.get(H).__currentAnisotropy=H.anisotropy}}}function Re(j,H){let de=!1;j.__webglInit===void 0&&(j.__webglInit=!0,H.addEventListener("dispose",U));const be=H.source;let Ne=x.get(be);Ne===void 0&&(Ne={},x.set(be,Ne));const we=ue(H);if(we!==j.__cacheKey){Ne[we]===void 0&&(Ne[we]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,de=!0),Ne[we].usedTimes++;const at=Ne[j.__cacheKey];at!==void 0&&(Ne[j.__cacheKey].usedTimes--,at.usedTimes===0&&P(H)),j.__cacheKey=we,j.__webglTexture=Ne[we].texture}return de}function Ue(j,H,de){return Math.floor(Math.floor(j/de)/H)}function pe(j,H,de,be){const we=j.updateRanges;if(we.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,H.width,H.height,de,be,H.data);else{we.sort((je,tt)=>je.start-tt.start);let at=0;for(let je=1;je<we.length;je++){const tt=we[at],vt=we[je],gt=tt.start+tt.count,nt=Ue(vt.start,H.width,4),zt=Ue(tt.start,H.width,4);vt.start<=gt+1&&nt===zt&&Ue(vt.start+vt.count-1,H.width,4)===nt?tt.count=Math.max(tt.count,vt.start+vt.count-tt.start):(++at,we[at]=vt)}we.length=at+1;const Qe=n.getParameter(n.UNPACK_ROW_LENGTH),pt=n.getParameter(n.UNPACK_SKIP_PIXELS),mt=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,H.width);for(let je=0,tt=we.length;je<tt;je++){const vt=we[je],gt=Math.floor(vt.start/4),nt=Math.ceil(vt.count/4),zt=gt%H.width,le=Math.floor(gt/H.width),Ke=nt,it=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,zt),n.pixelStorei(n.UNPACK_SKIP_ROWS,le),t.texSubImage2D(n.TEXTURE_2D,0,zt,le,Ke,it,de,be,H.data)}j.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,Qe),n.pixelStorei(n.UNPACK_SKIP_PIXELS,pt),n.pixelStorei(n.UNPACK_SKIP_ROWS,mt)}}function Be(j,H,de){let be=n.TEXTURE_2D;(H.isDataArrayTexture||H.isCompressedArrayTexture)&&(be=n.TEXTURE_2D_ARRAY),H.isData3DTexture&&(be=n.TEXTURE_3D);const Ne=Re(j,H),we=H.source;t.bindTexture(be,j.__webglTexture,n.TEXTURE0+de);const at=i.get(we);if(we.version!==at.__version||Ne===!0){t.activeTexture(n.TEXTURE0+de);const Qe=bn.getPrimaries(bn.workingColorSpace),pt=H.colorSpace===Ql?null:bn.getPrimaries(H.colorSpace),mt=H.colorSpace===Ql||Qe===pt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,H.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,H.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,mt);let je=T(H.image,!1,r.maxTextureSize);je=Mt(H,je);const tt=a.convert(H.format,H.colorSpace),vt=a.convert(H.type);let gt=B(H.internalFormat,tt,vt,H.colorSpace,H.isVideoTexture);Se(be,H);let nt;const zt=H.mipmaps,le=H.isVideoTexture!==!0,Ke=at.__version===void 0||Ne===!0,it=we.dataReady,ht=I(H,je);if(H.isDepthTexture)gt=D(H.format===hp,H.type),Ke&&(le?t.texStorage2D(n.TEXTURE_2D,1,gt,je.width,je.height):t.texImage2D(n.TEXTURE_2D,0,gt,je.width,je.height,0,tt,vt,null));else if(H.isDataTexture)if(zt.length>0){le&&Ke&&t.texStorage2D(n.TEXTURE_2D,ht,gt,zt[0].width,zt[0].height);for(let qe=0,He=zt.length;qe<He;qe++)nt=zt[qe],le?it&&t.texSubImage2D(n.TEXTURE_2D,qe,0,0,nt.width,nt.height,tt,vt,nt.data):t.texImage2D(n.TEXTURE_2D,qe,gt,nt.width,nt.height,0,tt,vt,nt.data);H.generateMipmaps=!1}else le?(Ke&&t.texStorage2D(n.TEXTURE_2D,ht,gt,je.width,je.height),it&&pe(H,je,tt,vt)):t.texImage2D(n.TEXTURE_2D,0,gt,je.width,je.height,0,tt,vt,je.data);else if(H.isCompressedTexture)if(H.isCompressedArrayTexture){le&&Ke&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ht,gt,zt[0].width,zt[0].height,je.depth);for(let qe=0,He=zt.length;qe<He;qe++)if(nt=zt[qe],H.format!==Gr)if(tt!==null)if(le){if(it)if(H.layerUpdates.size>0){const yt=h1(nt.width,nt.height,H.format,H.type);for(const Lt of H.layerUpdates){const gn=nt.data.subarray(Lt*yt/nt.data.BYTES_PER_ELEMENT,(Lt+1)*yt/nt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,qe,0,0,Lt,nt.width,nt.height,1,tt,gn)}H.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,qe,0,0,0,nt.width,nt.height,je.depth,tt,nt.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,qe,gt,nt.width,nt.height,je.depth,0,nt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else le?it&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,qe,0,0,0,nt.width,nt.height,je.depth,tt,vt,nt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,qe,gt,nt.width,nt.height,je.depth,0,tt,vt,nt.data)}else{le&&Ke&&t.texStorage2D(n.TEXTURE_2D,ht,gt,zt[0].width,zt[0].height);for(let qe=0,He=zt.length;qe<He;qe++)nt=zt[qe],H.format!==Gr?tt!==null?le?it&&t.compressedTexSubImage2D(n.TEXTURE_2D,qe,0,0,nt.width,nt.height,tt,nt.data):t.compressedTexImage2D(n.TEXTURE_2D,qe,gt,nt.width,nt.height,0,nt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):le?it&&t.texSubImage2D(n.TEXTURE_2D,qe,0,0,nt.width,nt.height,tt,vt,nt.data):t.texImage2D(n.TEXTURE_2D,qe,gt,nt.width,nt.height,0,tt,vt,nt.data)}else if(H.isDataArrayTexture)if(le){if(Ke&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ht,gt,je.width,je.height,je.depth),it)if(H.layerUpdates.size>0){const qe=h1(je.width,je.height,H.format,H.type);for(const He of H.layerUpdates){const yt=je.data.subarray(He*qe/je.data.BYTES_PER_ELEMENT,(He+1)*qe/je.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,He,je.width,je.height,1,tt,vt,yt)}H.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,je.width,je.height,je.depth,tt,vt,je.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,gt,je.width,je.height,je.depth,0,tt,vt,je.data);else if(H.isData3DTexture)le?(Ke&&t.texStorage3D(n.TEXTURE_3D,ht,gt,je.width,je.height,je.depth),it&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,je.width,je.height,je.depth,tt,vt,je.data)):t.texImage3D(n.TEXTURE_3D,0,gt,je.width,je.height,je.depth,0,tt,vt,je.data);else if(H.isFramebufferTexture){if(Ke)if(le)t.texStorage2D(n.TEXTURE_2D,ht,gt,je.width,je.height);else{let qe=je.width,He=je.height;for(let yt=0;yt<ht;yt++)t.texImage2D(n.TEXTURE_2D,yt,gt,qe,He,0,tt,vt,null),qe>>=1,He>>=1}}else if(zt.length>0){if(le&&Ke){const qe=Tt(zt[0]);t.texStorage2D(n.TEXTURE_2D,ht,gt,qe.width,qe.height)}for(let qe=0,He=zt.length;qe<He;qe++)nt=zt[qe],le?it&&t.texSubImage2D(n.TEXTURE_2D,qe,0,0,tt,vt,nt):t.texImage2D(n.TEXTURE_2D,qe,gt,tt,vt,nt);H.generateMipmaps=!1}else if(le){if(Ke){const qe=Tt(je);t.texStorage2D(n.TEXTURE_2D,ht,gt,qe.width,qe.height)}it&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,tt,vt,je)}else t.texImage2D(n.TEXTURE_2D,0,gt,tt,vt,je);M(H)&&b(be),at.__version=we.version,H.onUpdate&&H.onUpdate(H)}j.__version=H.version}function Fe(j,H,de){if(H.image.length!==6)return;const be=Re(j,H),Ne=H.source;t.bindTexture(n.TEXTURE_CUBE_MAP,j.__webglTexture,n.TEXTURE0+de);const we=i.get(Ne);if(Ne.version!==we.__version||be===!0){t.activeTexture(n.TEXTURE0+de);const at=bn.getPrimaries(bn.workingColorSpace),Qe=H.colorSpace===Ql?null:bn.getPrimaries(H.colorSpace),pt=H.colorSpace===Ql||at===Qe?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,H.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,H.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,pt);const mt=H.isCompressedTexture||H.image[0].isCompressedTexture,je=H.image[0]&&H.image[0].isDataTexture,tt=[];for(let He=0;He<6;He++)!mt&&!je?tt[He]=T(H.image[He],!0,r.maxCubemapSize):tt[He]=je?H.image[He].image:H.image[He],tt[He]=Mt(H,tt[He]);const vt=tt[0],gt=a.convert(H.format,H.colorSpace),nt=a.convert(H.type),zt=B(H.internalFormat,gt,nt,H.colorSpace),le=H.isVideoTexture!==!0,Ke=we.__version===void 0||be===!0,it=Ne.dataReady;let ht=I(H,vt);Se(n.TEXTURE_CUBE_MAP,H);let qe;if(mt){le&&Ke&&t.texStorage2D(n.TEXTURE_CUBE_MAP,ht,zt,vt.width,vt.height);for(let He=0;He<6;He++){qe=tt[He].mipmaps;for(let yt=0;yt<qe.length;yt++){const Lt=qe[yt];H.format!==Gr?gt!==null?le?it&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,yt,0,0,Lt.width,Lt.height,gt,Lt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,yt,zt,Lt.width,Lt.height,0,Lt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):le?it&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,yt,0,0,Lt.width,Lt.height,gt,nt,Lt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,yt,zt,Lt.width,Lt.height,0,gt,nt,Lt.data)}}}else{if(qe=H.mipmaps,le&&Ke){qe.length>0&&ht++;const He=Tt(tt[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,ht,zt,He.width,He.height)}for(let He=0;He<6;He++)if(je){le?it&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,0,0,tt[He].width,tt[He].height,gt,nt,tt[He].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,zt,tt[He].width,tt[He].height,0,gt,nt,tt[He].data);for(let yt=0;yt<qe.length;yt++){const gn=qe[yt].image[He].image;le?it&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,yt+1,0,0,gn.width,gn.height,gt,nt,gn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,yt+1,zt,gn.width,gn.height,0,gt,nt,gn.data)}}else{le?it&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,0,0,gt,nt,tt[He]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,zt,gt,nt,tt[He]);for(let yt=0;yt<qe.length;yt++){const Lt=qe[yt];le?it&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,yt+1,0,0,gt,nt,Lt.image[He]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,yt+1,zt,gt,nt,Lt.image[He])}}}M(H)&&b(n.TEXTURE_CUBE_MAP),we.__version=Ne.version,H.onUpdate&&H.onUpdate(H)}j.__version=H.version}function We(j,H,de,be,Ne,we){const at=a.convert(de.format,de.colorSpace),Qe=a.convert(de.type),pt=B(de.internalFormat,at,Qe,de.colorSpace),mt=i.get(H),je=i.get(de);if(je.__renderTarget=H,!mt.__hasExternalTextures){const tt=Math.max(1,H.width>>we),vt=Math.max(1,H.height>>we);Ne===n.TEXTURE_3D||Ne===n.TEXTURE_2D_ARRAY?t.texImage3D(Ne,we,pt,tt,vt,H.depth,0,at,Qe,null):t.texImage2D(Ne,we,pt,tt,vt,0,at,Qe,null)}t.bindFramebuffer(n.FRAMEBUFFER,j),Ve(H)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,be,Ne,je.__webglTexture,0,et(H)):(Ne===n.TEXTURE_2D||Ne>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ne<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,be,Ne,je.__webglTexture,we),t.bindFramebuffer(n.FRAMEBUFFER,null)}function st(j,H,de){if(n.bindRenderbuffer(n.RENDERBUFFER,j),H.depthBuffer){const be=H.depthTexture,Ne=be&&be.isDepthTexture?be.type:null,we=D(H.stencilBuffer,Ne),at=H.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Qe=et(H);Ve(H)?c.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Qe,we,H.width,H.height):de?n.renderbufferStorageMultisample(n.RENDERBUFFER,Qe,we,H.width,H.height):n.renderbufferStorage(n.RENDERBUFFER,we,H.width,H.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,at,n.RENDERBUFFER,j)}else{const be=H.textures;for(let Ne=0;Ne<be.length;Ne++){const we=be[Ne],at=a.convert(we.format,we.colorSpace),Qe=a.convert(we.type),pt=B(we.internalFormat,at,Qe,we.colorSpace),mt=et(H);de&&Ve(H)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,mt,pt,H.width,H.height):Ve(H)?c.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,mt,pt,H.width,H.height):n.renderbufferStorage(n.RENDERBUFFER,pt,H.width,H.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function St(j,H){if(H&&H.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,j),!(H.depthTexture&&H.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const be=i.get(H.depthTexture);be.__renderTarget=H,(!be.__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),fe(H.depthTexture,0);const Ne=be.__webglTexture,we=et(H);if(H.depthTexture.format===fp)Ve(H)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ne,0,we):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ne,0);else if(H.depthTexture.format===hp)Ve(H)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ne,0,we):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ne,0);else throw new Error("Unknown depthTexture format")}function ln(j){const H=i.get(j),de=j.isWebGLCubeRenderTarget===!0;if(H.__boundDepthTexture!==j.depthTexture){const be=j.depthTexture;if(H.__depthDisposeCallback&&H.__depthDisposeCallback(),be){const Ne=()=>{delete H.__boundDepthTexture,delete H.__depthDisposeCallback,be.removeEventListener("dispose",Ne)};be.addEventListener("dispose",Ne),H.__depthDisposeCallback=Ne}H.__boundDepthTexture=be}if(j.depthTexture&&!H.__autoAllocateDepthBuffer){if(de)throw new Error("target.depthTexture not supported in Cube render targets");const be=j.texture.mipmaps;be&&be.length>0?St(H.__webglFramebuffer[0],j):St(H.__webglFramebuffer,j)}else if(de){H.__webglDepthbuffer=[];for(let be=0;be<6;be++)if(t.bindFramebuffer(n.FRAMEBUFFER,H.__webglFramebuffer[be]),H.__webglDepthbuffer[be]===void 0)H.__webglDepthbuffer[be]=n.createRenderbuffer(),st(H.__webglDepthbuffer[be],j,!1);else{const Ne=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,we=H.__webglDepthbuffer[be];n.bindRenderbuffer(n.RENDERBUFFER,we),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ne,n.RENDERBUFFER,we)}}else{const be=j.texture.mipmaps;if(be&&be.length>0?t.bindFramebuffer(n.FRAMEBUFFER,H.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,H.__webglFramebuffer),H.__webglDepthbuffer===void 0)H.__webglDepthbuffer=n.createRenderbuffer(),st(H.__webglDepthbuffer,j,!1);else{const Ne=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,we=H.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,we),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ne,n.RENDERBUFFER,we)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Et(j,H,de){const be=i.get(j);H!==void 0&&We(be.__webglFramebuffer,j,j.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),de!==void 0&&ln(j)}function Z(j){const H=j.texture,de=i.get(j),be=i.get(H);j.addEventListener("dispose",F);const Ne=j.textures,we=j.isWebGLCubeRenderTarget===!0,at=Ne.length>1;if(at||(be.__webglTexture===void 0&&(be.__webglTexture=n.createTexture()),be.__version=H.version,o.memory.textures++),we){de.__webglFramebuffer=[];for(let Qe=0;Qe<6;Qe++)if(H.mipmaps&&H.mipmaps.length>0){de.__webglFramebuffer[Qe]=[];for(let pt=0;pt<H.mipmaps.length;pt++)de.__webglFramebuffer[Qe][pt]=n.createFramebuffer()}else de.__webglFramebuffer[Qe]=n.createFramebuffer()}else{if(H.mipmaps&&H.mipmaps.length>0){de.__webglFramebuffer=[];for(let Qe=0;Qe<H.mipmaps.length;Qe++)de.__webglFramebuffer[Qe]=n.createFramebuffer()}else de.__webglFramebuffer=n.createFramebuffer();if(at)for(let Qe=0,pt=Ne.length;Qe<pt;Qe++){const mt=i.get(Ne[Qe]);mt.__webglTexture===void 0&&(mt.__webglTexture=n.createTexture(),o.memory.textures++)}if(j.samples>0&&Ve(j)===!1){de.__webglMultisampledFramebuffer=n.createFramebuffer(),de.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,de.__webglMultisampledFramebuffer);for(let Qe=0;Qe<Ne.length;Qe++){const pt=Ne[Qe];de.__webglColorRenderbuffer[Qe]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,de.__webglColorRenderbuffer[Qe]);const mt=a.convert(pt.format,pt.colorSpace),je=a.convert(pt.type),tt=B(pt.internalFormat,mt,je,pt.colorSpace,j.isXRRenderTarget===!0),vt=et(j);n.renderbufferStorageMultisample(n.RENDERBUFFER,vt,tt,j.width,j.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Qe,n.RENDERBUFFER,de.__webglColorRenderbuffer[Qe])}n.bindRenderbuffer(n.RENDERBUFFER,null),j.depthBuffer&&(de.__webglDepthRenderbuffer=n.createRenderbuffer(),st(de.__webglDepthRenderbuffer,j,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(we){t.bindTexture(n.TEXTURE_CUBE_MAP,be.__webglTexture),Se(n.TEXTURE_CUBE_MAP,H);for(let Qe=0;Qe<6;Qe++)if(H.mipmaps&&H.mipmaps.length>0)for(let pt=0;pt<H.mipmaps.length;pt++)We(de.__webglFramebuffer[Qe][pt],j,H,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,pt);else We(de.__webglFramebuffer[Qe],j,H,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0);M(H)&&b(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(at){for(let Qe=0,pt=Ne.length;Qe<pt;Qe++){const mt=Ne[Qe],je=i.get(mt);let tt=n.TEXTURE_2D;(j.isWebGL3DRenderTarget||j.isWebGLArrayRenderTarget)&&(tt=j.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(tt,je.__webglTexture),Se(tt,mt),We(de.__webglFramebuffer,j,mt,n.COLOR_ATTACHMENT0+Qe,tt,0),M(mt)&&b(tt)}t.unbindTexture()}else{let Qe=n.TEXTURE_2D;if((j.isWebGL3DRenderTarget||j.isWebGLArrayRenderTarget)&&(Qe=j.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Qe,be.__webglTexture),Se(Qe,H),H.mipmaps&&H.mipmaps.length>0)for(let pt=0;pt<H.mipmaps.length;pt++)We(de.__webglFramebuffer[pt],j,H,n.COLOR_ATTACHMENT0,Qe,pt);else We(de.__webglFramebuffer,j,H,n.COLOR_ATTACHMENT0,Qe,0);M(H)&&b(Qe),t.unbindTexture()}j.depthBuffer&&ln(j)}function Pe(j){const H=j.textures;for(let de=0,be=H.length;de<be;de++){const Ne=H[de];if(M(Ne)){const we=R(j),at=i.get(Ne).__webglTexture;t.bindTexture(we,at),b(we),t.unbindTexture()}}}const Oe=[],Xe=[];function De(j){if(j.samples>0){if(Ve(j)===!1){const H=j.textures,de=j.width,be=j.height;let Ne=n.COLOR_BUFFER_BIT;const we=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,at=i.get(j),Qe=H.length>1;if(Qe)for(let mt=0;mt<H.length;mt++)t.bindFramebuffer(n.FRAMEBUFFER,at.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+mt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,at.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+mt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,at.__webglMultisampledFramebuffer);const pt=j.texture.mipmaps;pt&&pt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,at.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,at.__webglFramebuffer);for(let mt=0;mt<H.length;mt++){if(j.resolveDepthBuffer&&(j.depthBuffer&&(Ne|=n.DEPTH_BUFFER_BIT),j.stencilBuffer&&j.resolveStencilBuffer&&(Ne|=n.STENCIL_BUFFER_BIT)),Qe){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,at.__webglColorRenderbuffer[mt]);const je=i.get(H[mt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,je,0)}n.blitFramebuffer(0,0,de,be,0,0,de,be,Ne,n.NEAREST),f===!0&&(Oe.length=0,Xe.length=0,Oe.push(n.COLOR_ATTACHMENT0+mt),j.depthBuffer&&j.resolveDepthBuffer===!1&&(Oe.push(we),Xe.push(we),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Xe)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Oe))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Qe)for(let mt=0;mt<H.length;mt++){t.bindFramebuffer(n.FRAMEBUFFER,at.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+mt,n.RENDERBUFFER,at.__webglColorRenderbuffer[mt]);const je=i.get(H[mt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,at.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+mt,n.TEXTURE_2D,je,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,at.__webglMultisampledFramebuffer)}else if(j.depthBuffer&&j.resolveDepthBuffer===!1&&f){const H=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[H])}}}function et(j){return Math.min(r.maxSamples,j.samples)}function Ve(j){const H=i.get(j);return j.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&H.__useRenderToTexture!==!1}function Ye(j){const H=o.render.frame;m.get(j)!==H&&(m.set(j,H),j.update())}function Mt(j,H){const de=j.colorSpace,be=j.format,Ne=j.type;return j.isCompressedTexture===!0||j.isVideoTexture===!0||de!==wu&&de!==Ql&&(bn.getTransfer(de)===Fn?(be!==Gr||Ne!==Ns)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",de)),H}function Tt(j){return typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement?(p.width=j.naturalWidth||j.width,p.height=j.naturalHeight||j.height):typeof VideoFrame<"u"&&j instanceof VideoFrame?(p.width=j.displayWidth,p.height=j.displayHeight):(p.width=j.width,p.height=j.height),p}this.allocateTextureUnit=te,this.resetTextureUnits=ie,this.setTexture2D=fe,this.setTexture2DArray=G,this.setTexture3D=$,this.setTextureCube=Q,this.rebindTextures=Et,this.setupRenderTarget=Z,this.updateRenderTargetMipmap=Pe,this.updateMultisampleRenderTarget=De,this.setupDepthRenderbuffer=ln,this.setupFrameBufferTexture=We,this.useMultisampledRTT=Ve}function r3(n,e){function t(i,r=Ql){let a;const o=bn.getTransfer(r);if(i===Ns)return n.UNSIGNED_BYTE;if(i===N_)return n.UNSIGNED_SHORT_4_4_4_4;if(i===U_)return n.UNSIGNED_SHORT_5_5_5_1;if(i===sE)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===rE)return n.BYTE;if(i===aE)return n.SHORT;if(i===cp)return n.UNSIGNED_SHORT;if(i===O_)return n.INT;if(i===fc)return n.UNSIGNED_INT;if(i===Fa)return n.FLOAT;if(i===Cp)return n.HALF_FLOAT;if(i===oE)return n.ALPHA;if(i===lE)return n.RGB;if(i===Gr)return n.RGBA;if(i===fp)return n.DEPTH_COMPONENT;if(i===hp)return n.DEPTH_STENCIL;if(i===L_)return n.RED;if(i===d0)return n.RED_INTEGER;if(i===cE)return n.RG;if(i===I_)return n.RG_INTEGER;if(i===P_)return n.RGBA_INTEGER;if(i===Bg||i===Dg||i===Og||i===Ng)if(o===Fn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===Bg)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Dg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Og)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Ng)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===Bg)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Dg)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Og)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Ng)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Cx||i===wx||i===Rx||i===Bx)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===Cx)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===wx)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Rx)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Bx)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Dx||i===Ox||i===Nx)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(i===Dx||i===Ox)return o===Fn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===Nx)return o===Fn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Ux||i===Lx||i===Ix||i===Px||i===zx||i===Fx||i===Hx||i===Gx||i===Vx||i===kx||i===jx||i===Xx||i===Yx||i===qx)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(i===Ux)return o===Fn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Lx)return o===Fn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===Ix)return o===Fn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Px)return o===Fn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===zx)return o===Fn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Fx)return o===Fn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===Hx)return o===Fn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===Gx)return o===Fn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===Vx)return o===Fn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===kx)return o===Fn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===jx)return o===Fn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===Xx)return o===Fn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===Yx)return o===Fn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===qx)return o===Fn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Ug||i===Wx||i===Jx)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(i===Ug)return o===Fn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===Wx)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===Jx)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===uE||i===Kx||i===$x||i===Qx)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(i===Ug)return a.COMPRESSED_RED_RGTC1_EXT;if(i===Kx)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===$x)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===Qx)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===up?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}class a3 extends ui{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}}const a9=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,s9=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class o9{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const i=new a3(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new Us({vertexShader:a9,fragmentShader:s9,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new ri(new yh(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class l9 extends gl{constructor(e,t){super();const i=this;let r=null,a=1,o=null,c="local-floor",f=1,p=null,m=null,v=null,x=null,_=null,S=null;const T=new o9,M={},b=t.getContextAttributes();let R=null,B=null;const D=[],I=[],U=new Ge;let F=null;const V=new Xi;V.viewport=new mn;const P=new Xi;P.viewport=new mn;const L=[V,P],k=new YD;let ie=null,te=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(pe){let Be=D[pe];return Be===void 0&&(Be=new hx,D[pe]=Be),Be.getTargetRaySpace()},this.getControllerGrip=function(pe){let Be=D[pe];return Be===void 0&&(Be=new hx,D[pe]=Be),Be.getGripSpace()},this.getHand=function(pe){let Be=D[pe];return Be===void 0&&(Be=new hx,D[pe]=Be),Be.getHandSpace()};function ue(pe){const Be=I.indexOf(pe.inputSource);if(Be===-1)return;const Fe=D[Be];Fe!==void 0&&(Fe.update(pe.inputSource,pe.frame,p||o),Fe.dispatchEvent({type:pe.type,data:pe.inputSource}))}function fe(){r.removeEventListener("select",ue),r.removeEventListener("selectstart",ue),r.removeEventListener("selectend",ue),r.removeEventListener("squeeze",ue),r.removeEventListener("squeezestart",ue),r.removeEventListener("squeezeend",ue),r.removeEventListener("end",fe),r.removeEventListener("inputsourceschange",G);for(let pe=0;pe<D.length;pe++){const Be=I[pe];Be!==null&&(I[pe]=null,D[pe].disconnect(Be))}ie=null,te=null,T.reset();for(const pe in M)delete M[pe];e.setRenderTarget(R),_=null,x=null,v=null,r=null,B=null,Ue.stop(),i.isPresenting=!1,e.setPixelRatio(F),e.setSize(U.width,U.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(pe){a=pe,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(pe){c=pe,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||o},this.setReferenceSpace=function(pe){p=pe},this.getBaseLayer=function(){return x!==null?x:_},this.getBinding=function(){return v},this.getFrame=function(){return S},this.getSession=function(){return r},this.setSession=async function(pe){if(r=pe,r!==null){if(R=e.getRenderTarget(),r.addEventListener("select",ue),r.addEventListener("selectstart",ue),r.addEventListener("selectend",ue),r.addEventListener("squeeze",ue),r.addEventListener("squeezestart",ue),r.addEventListener("squeezeend",ue),r.addEventListener("end",fe),r.addEventListener("inputsourceschange",G),b.xrCompatible!==!0&&await t.makeXRCompatible(),F=e.getPixelRatio(),e.getSize(U),typeof XRWebGLBinding<"u"&&(v=new XRWebGLBinding(r,t)),v!==null&&"createProjectionLayer"in XRWebGLBinding.prototype){let Fe=null,We=null,st=null;b.depth&&(st=b.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Fe=b.stencil?hp:fp,We=b.stencil?up:fc);const St={colorFormat:t.RGBA8,depthFormat:st,scaleFactor:a};x=v.createProjectionLayer(St),r.updateRenderState({layers:[x]}),e.setPixelRatio(1),e.setSize(x.textureWidth,x.textureHeight,!1),B=new hl(x.textureWidth,x.textureHeight,{format:Gr,type:Ns,depthTexture:new ME(x.textureWidth,x.textureHeight,We,void 0,void 0,void 0,void 0,void 0,void 0,Fe),stencilBuffer:b.stencil,colorSpace:e.outputColorSpace,samples:b.antialias?4:0,resolveDepthBuffer:x.ignoreDepthValues===!1,resolveStencilBuffer:x.ignoreDepthValues===!1})}else{const Fe={antialias:b.antialias,alpha:!0,depth:b.depth,stencil:b.stencil,framebufferScaleFactor:a};_=new XRWebGLLayer(r,t,Fe),r.updateRenderState({baseLayer:_}),e.setPixelRatio(1),e.setSize(_.framebufferWidth,_.framebufferHeight,!1),B=new hl(_.framebufferWidth,_.framebufferHeight,{format:Gr,type:Ns,colorSpace:e.outputColorSpace,stencilBuffer:b.stencil,resolveDepthBuffer:_.ignoreDepthValues===!1,resolveStencilBuffer:_.ignoreDepthValues===!1})}B.isXRRenderTarget=!0,this.setFoveation(f),p=null,o=await r.requestReferenceSpace(c),Ue.setContext(r),Ue.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return T.getDepthTexture()};function G(pe){for(let Be=0;Be<pe.removed.length;Be++){const Fe=pe.removed[Be],We=I.indexOf(Fe);We>=0&&(I[We]=null,D[We].disconnect(Fe))}for(let Be=0;Be<pe.added.length;Be++){const Fe=pe.added[Be];let We=I.indexOf(Fe);if(We===-1){for(let St=0;St<D.length;St++)if(St>=I.length){I.push(Fe),We=St;break}else if(I[St]===null){I[St]=Fe,We=St;break}if(We===-1)break}const st=D[We];st&&st.connect(Fe)}}const $=new K,Q=new K;function he(pe,Be,Fe){$.setFromMatrixPosition(Be.matrixWorld),Q.setFromMatrixPosition(Fe.matrixWorld);const We=$.distanceTo(Q),st=Be.projectionMatrix.elements,St=Fe.projectionMatrix.elements,ln=st[14]/(st[10]-1),Et=st[14]/(st[10]+1),Z=(st[9]+1)/st[5],Pe=(st[9]-1)/st[5],Oe=(st[8]-1)/st[0],Xe=(St[8]+1)/St[0],De=ln*Oe,et=ln*Xe,Ve=We/(-Oe+Xe),Ye=Ve*-Oe;if(Be.matrixWorld.decompose(pe.position,pe.quaternion,pe.scale),pe.translateX(Ye),pe.translateZ(Ve),pe.matrixWorld.compose(pe.position,pe.quaternion,pe.scale),pe.matrixWorldInverse.copy(pe.matrixWorld).invert(),st[10]===-1)pe.projectionMatrix.copy(Be.projectionMatrix),pe.projectionMatrixInverse.copy(Be.projectionMatrixInverse);else{const Mt=ln+Ve,Tt=Et+Ve,j=De-Ye,H=et+(We-Ye),de=Z*Et/Tt*Mt,be=Pe*Et/Tt*Mt;pe.projectionMatrix.makePerspective(j,H,de,be,Mt,Tt),pe.projectionMatrixInverse.copy(pe.projectionMatrix).invert()}}function Y(pe,Be){Be===null?pe.matrixWorld.copy(pe.matrix):pe.matrixWorld.multiplyMatrices(Be.matrixWorld,pe.matrix),pe.matrixWorldInverse.copy(pe.matrixWorld).invert()}this.updateCamera=function(pe){if(r===null)return;let Be=pe.near,Fe=pe.far;T.texture!==null&&(T.depthNear>0&&(Be=T.depthNear),T.depthFar>0&&(Fe=T.depthFar)),k.near=P.near=V.near=Be,k.far=P.far=V.far=Fe,(ie!==k.near||te!==k.far)&&(r.updateRenderState({depthNear:k.near,depthFar:k.far}),ie=k.near,te=k.far),k.layers.mask=pe.layers.mask|6,V.layers.mask=k.layers.mask&3,P.layers.mask=k.layers.mask&5;const We=pe.parent,st=k.cameras;Y(k,We);for(let St=0;St<st.length;St++)Y(st[St],We);st.length===2?he(k,V,P):k.projectionMatrix.copy(V.projectionMatrix),ae(pe,k,We)};function ae(pe,Be,Fe){Fe===null?pe.matrix.copy(Be.matrixWorld):(pe.matrix.copy(Fe.matrixWorld),pe.matrix.invert(),pe.matrix.multiply(Be.matrixWorld)),pe.matrix.decompose(pe.position,pe.quaternion,pe.scale),pe.updateMatrixWorld(!0),pe.projectionMatrix.copy(Be.projectionMatrix),pe.projectionMatrixInverse.copy(Be.projectionMatrixInverse),pe.isPerspectiveCamera&&(pe.fov=gp*2*Math.atan(1/pe.projectionMatrix.elements[5]),pe.zoom=1)}this.getCamera=function(){return k},this.getFoveation=function(){if(!(x===null&&_===null))return f},this.setFoveation=function(pe){f=pe,x!==null&&(x.fixedFoveation=pe),_!==null&&_.fixedFoveation!==void 0&&(_.fixedFoveation=pe)},this.hasDepthSensing=function(){return T.texture!==null},this.getDepthSensingMesh=function(){return T.getMesh(k)},this.getCameraTexture=function(pe){return M[pe]};let Se=null;function Re(pe,Be){if(m=Be.getViewerPose(p||o),S=Be,m!==null){const Fe=m.views;_!==null&&(e.setRenderTargetFramebuffer(B,_.framebuffer),e.setRenderTarget(B));let We=!1;Fe.length!==k.cameras.length&&(k.cameras.length=0,We=!0);for(let Et=0;Et<Fe.length;Et++){const Z=Fe[Et];let Pe=null;if(_!==null)Pe=_.getViewport(Z);else{const Xe=v.getViewSubImage(x,Z);Pe=Xe.viewport,Et===0&&(e.setRenderTargetTextures(B,Xe.colorTexture,Xe.depthStencilTexture),e.setRenderTarget(B))}let Oe=L[Et];Oe===void 0&&(Oe=new Xi,Oe.layers.enable(Et),Oe.viewport=new mn,L[Et]=Oe),Oe.matrix.fromArray(Z.transform.matrix),Oe.matrix.decompose(Oe.position,Oe.quaternion,Oe.scale),Oe.projectionMatrix.fromArray(Z.projectionMatrix),Oe.projectionMatrixInverse.copy(Oe.projectionMatrix).invert(),Oe.viewport.set(Pe.x,Pe.y,Pe.width,Pe.height),Et===0&&(k.matrix.copy(Oe.matrix),k.matrix.decompose(k.position,k.quaternion,k.scale)),We===!0&&k.cameras.push(Oe)}const st=r.enabledFeatures;if(st&&st.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&v){const Et=v.getDepthInformation(Fe[0]);Et&&Et.isValid&&Et.texture&&T.init(Et,r.renderState)}if(st&&st.includes("camera-access")&&(e.state.unbindTexture(),v))for(let Et=0;Et<Fe.length;Et++){const Z=Fe[Et].camera;if(Z){let Pe=M[Z];Pe||(Pe=new a3,M[Z]=Pe);const Oe=v.getCameraImage(Z);Pe.sourceTexture=Oe}}}for(let Fe=0;Fe<D.length;Fe++){const We=I[Fe],st=D[Fe];We!==null&&st!==void 0&&st.update(We,Be,p||o)}Se&&Se(pe,Be),Be.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Be}),S=null}const Ue=new ZD;Ue.setAnimationLoop(Re),this.setAnimationLoop=function(pe){Se=pe},this.dispose=function(){}}}const Vf=new Va,c9=new Ot;function u9(n,e){function t(M,b){M.matrixAutoUpdate===!0&&M.updateMatrix(),b.value.copy(M.matrix)}function i(M,b){b.color.getRGB(M.fogColor.value,rD(n)),b.isFog?(M.fogNear.value=b.near,M.fogFar.value=b.far):b.isFogExp2&&(M.fogDensity.value=b.density)}function r(M,b,R,B,D){b.isMeshBasicMaterial||b.isMeshLambertMaterial?a(M,b):b.isMeshToonMaterial?(a(M,b),v(M,b)):b.isMeshPhongMaterial?(a(M,b),m(M,b)):b.isMeshStandardMaterial?(a(M,b),x(M,b),b.isMeshPhysicalMaterial&&_(M,b,D)):b.isMeshMatcapMaterial?(a(M,b),S(M,b)):b.isMeshDepthMaterial?a(M,b):b.isMeshDistanceMaterial?(a(M,b),T(M,b)):b.isMeshNormalMaterial?a(M,b):b.isLineBasicMaterial?(o(M,b),b.isLineDashedMaterial&&c(M,b)):b.isPointsMaterial?f(M,b,R,B):b.isSpriteMaterial?p(M,b):b.isShadowMaterial?(M.color.value.copy(b.color),M.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function a(M,b){M.opacity.value=b.opacity,b.color&&M.diffuse.value.copy(b.color),b.emissive&&M.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(M.map.value=b.map,t(b.map,M.mapTransform)),b.alphaMap&&(M.alphaMap.value=b.alphaMap,t(b.alphaMap,M.alphaMapTransform)),b.bumpMap&&(M.bumpMap.value=b.bumpMap,t(b.bumpMap,M.bumpMapTransform),M.bumpScale.value=b.bumpScale,b.side===kr&&(M.bumpScale.value*=-1)),b.normalMap&&(M.normalMap.value=b.normalMap,t(b.normalMap,M.normalMapTransform),M.normalScale.value.copy(b.normalScale),b.side===kr&&M.normalScale.value.negate()),b.displacementMap&&(M.displacementMap.value=b.displacementMap,t(b.displacementMap,M.displacementMapTransform),M.displacementScale.value=b.displacementScale,M.displacementBias.value=b.displacementBias),b.emissiveMap&&(M.emissiveMap.value=b.emissiveMap,t(b.emissiveMap,M.emissiveMapTransform)),b.specularMap&&(M.specularMap.value=b.specularMap,t(b.specularMap,M.specularMapTransform)),b.alphaTest>0&&(M.alphaTest.value=b.alphaTest);const R=e.get(b),B=R.envMap,D=R.envMapRotation;B&&(M.envMap.value=B,Vf.copy(D),Vf.x*=-1,Vf.y*=-1,Vf.z*=-1,B.isCubeTexture&&B.isRenderTargetTexture===!1&&(Vf.y*=-1,Vf.z*=-1),M.envMapRotation.value.setFromMatrix4(c9.makeRotationFromEuler(Vf)),M.flipEnvMap.value=B.isCubeTexture&&B.isRenderTargetTexture===!1?-1:1,M.reflectivity.value=b.reflectivity,M.ior.value=b.ior,M.refractionRatio.value=b.refractionRatio),b.lightMap&&(M.lightMap.value=b.lightMap,M.lightMapIntensity.value=b.lightMapIntensity,t(b.lightMap,M.lightMapTransform)),b.aoMap&&(M.aoMap.value=b.aoMap,M.aoMapIntensity.value=b.aoMapIntensity,t(b.aoMap,M.aoMapTransform))}function o(M,b){M.diffuse.value.copy(b.color),M.opacity.value=b.opacity,b.map&&(M.map.value=b.map,t(b.map,M.mapTransform))}function c(M,b){M.dashSize.value=b.dashSize,M.totalSize.value=b.dashSize+b.gapSize,M.scale.value=b.scale}function f(M,b,R,B){M.diffuse.value.copy(b.color),M.opacity.value=b.opacity,M.size.value=b.size*R,M.scale.value=B*.5,b.map&&(M.map.value=b.map,t(b.map,M.uvTransform)),b.alphaMap&&(M.alphaMap.value=b.alphaMap,t(b.alphaMap,M.alphaMapTransform)),b.alphaTest>0&&(M.alphaTest.value=b.alphaTest)}function p(M,b){M.diffuse.value.copy(b.color),M.opacity.value=b.opacity,M.rotation.value=b.rotation,b.map&&(M.map.value=b.map,t(b.map,M.mapTransform)),b.alphaMap&&(M.alphaMap.value=b.alphaMap,t(b.alphaMap,M.alphaMapTransform)),b.alphaTest>0&&(M.alphaTest.value=b.alphaTest)}function m(M,b){M.specular.value.copy(b.specular),M.shininess.value=Math.max(b.shininess,1e-4)}function v(M,b){b.gradientMap&&(M.gradientMap.value=b.gradientMap)}function x(M,b){M.metalness.value=b.metalness,b.metalnessMap&&(M.metalnessMap.value=b.metalnessMap,t(b.metalnessMap,M.metalnessMapTransform)),M.roughness.value=b.roughness,b.roughnessMap&&(M.roughnessMap.value=b.roughnessMap,t(b.roughnessMap,M.roughnessMapTransform)),b.envMap&&(M.envMapIntensity.value=b.envMapIntensity)}function _(M,b,R){M.ior.value=b.ior,b.sheen>0&&(M.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),M.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(M.sheenColorMap.value=b.sheenColorMap,t(b.sheenColorMap,M.sheenColorMapTransform)),b.sheenRoughnessMap&&(M.sheenRoughnessMap.value=b.sheenRoughnessMap,t(b.sheenRoughnessMap,M.sheenRoughnessMapTransform))),b.clearcoat>0&&(M.clearcoat.value=b.clearcoat,M.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(M.clearcoatMap.value=b.clearcoatMap,t(b.clearcoatMap,M.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(M.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,t(b.clearcoatRoughnessMap,M.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(M.clearcoatNormalMap.value=b.clearcoatNormalMap,t(b.clearcoatNormalMap,M.clearcoatNormalMapTransform),M.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===kr&&M.clearcoatNormalScale.value.negate())),b.dispersion>0&&(M.dispersion.value=b.dispersion),b.iridescence>0&&(M.iridescence.value=b.iridescence,M.iridescenceIOR.value=b.iridescenceIOR,M.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],M.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(M.iridescenceMap.value=b.iridescenceMap,t(b.iridescenceMap,M.iridescenceMapTransform)),b.iridescenceThicknessMap&&(M.iridescenceThicknessMap.value=b.iridescenceThicknessMap,t(b.iridescenceThicknessMap,M.iridescenceThicknessMapTransform))),b.transmission>0&&(M.transmission.value=b.transmission,M.transmissionSamplerMap.value=R.texture,M.transmissionSamplerSize.value.set(R.width,R.height),b.transmissionMap&&(M.transmissionMap.value=b.transmissionMap,t(b.transmissionMap,M.transmissionMapTransform)),M.thickness.value=b.thickness,b.thicknessMap&&(M.thicknessMap.value=b.thicknessMap,t(b.thicknessMap,M.thicknessMapTransform)),M.attenuationDistance.value=b.attenuationDistance,M.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(M.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(M.anisotropyMap.value=b.anisotropyMap,t(b.anisotropyMap,M.anisotropyMapTransform))),M.specularIntensity.value=b.specularIntensity,M.specularColor.value.copy(b.specularColor),b.specularColorMap&&(M.specularColorMap.value=b.specularColorMap,t(b.specularColorMap,M.specularColorMapTransform)),b.specularIntensityMap&&(M.specularIntensityMap.value=b.specularIntensityMap,t(b.specularIntensityMap,M.specularIntensityMapTransform))}function S(M,b){b.matcap&&(M.matcap.value=b.matcap)}function T(M,b){const R=e.get(b).light;M.referencePosition.value.setFromMatrixPosition(R.matrixWorld),M.nearDistance.value=R.shadow.camera.near,M.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function f9(n,e,t,i){let r={},a={},o=[];const c=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function f(R,B){const D=B.program;i.uniformBlockBinding(R,D)}function p(R,B){let D=r[R.id];D===void 0&&(S(R),D=m(R),r[R.id]=D,R.addEventListener("dispose",M));const I=B.program;i.updateUBOMapping(R,I);const U=e.render.frame;a[R.id]!==U&&(x(R),a[R.id]=U)}function m(R){const B=v();R.__bindingPointIndex=B;const D=n.createBuffer(),I=R.__size,U=R.usage;return n.bindBuffer(n.UNIFORM_BUFFER,D),n.bufferData(n.UNIFORM_BUFFER,I,U),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,B,D),D}function v(){for(let R=0;R<c;R++)if(o.indexOf(R)===-1)return o.push(R),R;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function x(R){const B=r[R.id],D=R.uniforms,I=R.__cache;n.bindBuffer(n.UNIFORM_BUFFER,B);for(let U=0,F=D.length;U<F;U++){const V=Array.isArray(D[U])?D[U]:[D[U]];for(let P=0,L=V.length;P<L;P++){const k=V[P];if(_(k,U,P,I)===!0){const ie=k.__offset,te=Array.isArray(k.value)?k.value:[k.value];let ue=0;for(let fe=0;fe<te.length;fe++){const G=te[fe],$=T(G);typeof G=="number"||typeof G=="boolean"?(k.__data[0]=G,n.bufferSubData(n.UNIFORM_BUFFER,ie+ue,k.__data)):G.isMatrix3?(k.__data[0]=G.elements[0],k.__data[1]=G.elements[1],k.__data[2]=G.elements[2],k.__data[3]=0,k.__data[4]=G.elements[3],k.__data[5]=G.elements[4],k.__data[6]=G.elements[5],k.__data[7]=0,k.__data[8]=G.elements[6],k.__data[9]=G.elements[7],k.__data[10]=G.elements[8],k.__data[11]=0):(G.toArray(k.__data,ue),ue+=$.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,ie,k.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function _(R,B,D,I){const U=R.value,F=B+"_"+D;if(I[F]===void 0)return typeof U=="number"||typeof U=="boolean"?I[F]=U:I[F]=U.clone(),!0;{const V=I[F];if(typeof U=="number"||typeof U=="boolean"){if(V!==U)return I[F]=U,!0}else if(V.equals(U)===!1)return V.copy(U),!0}return!1}function S(R){const B=R.uniforms;let D=0;const I=16;for(let F=0,V=B.length;F<V;F++){const P=Array.isArray(B[F])?B[F]:[B[F]];for(let L=0,k=P.length;L<k;L++){const ie=P[L],te=Array.isArray(ie.value)?ie.value:[ie.value];for(let ue=0,fe=te.length;ue<fe;ue++){const G=te[ue],$=T(G),Q=D%I,he=Q%$.boundary,Y=Q+he;D+=he,Y!==0&&I-Y<$.storage&&(D+=I-Y),ie.__data=new Float32Array($.storage/Float32Array.BYTES_PER_ELEMENT),ie.__offset=D,D+=$.storage}}}const U=D%I;return U>0&&(D+=I-U),R.__size=D,R.__cache={},this}function T(R){const B={boundary:0,storage:0};return typeof R=="number"||typeof R=="boolean"?(B.boundary=4,B.storage=4):R.isVector2?(B.boundary=8,B.storage=8):R.isVector3||R.isColor?(B.boundary=16,B.storage=12):R.isVector4?(B.boundary=16,B.storage=16):R.isMatrix3?(B.boundary=48,B.storage=48):R.isMatrix4?(B.boundary=64,B.storage=64):R.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",R),B}function M(R){const B=R.target;B.removeEventListener("dispose",M);const D=o.indexOf(B.__bindingPointIndex);o.splice(D,1),n.deleteBuffer(r[B.id]),delete r[B.id],delete a[B.id]}function b(){for(const R in r)n.deleteBuffer(r[R]);o=[],r={},a={}}return{bind:f,update:p,dispose:b}}class JE{constructor(e={}){const{canvas:t=tD(),context:i=null,depth:r=!0,stencil:a=!1,alpha:o=!1,antialias:c=!1,premultipliedAlpha:f=!0,preserveDrawingBuffer:p=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:v=!1,reversedDepthBuffer:x=!1}=e;this.isWebGLRenderer=!0;let _;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");_=i.getContextAttributes().alpha}else _=o;const S=new Uint32Array(4),T=new Int32Array(4);let M=null,b=null;const R=[],B=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=ll,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const D=this;let I=!1;this._outputColorSpace=Hr;let U=0,F=0,V=null,P=-1,L=null;const k=new mn,ie=new mn;let te=null;const ue=new ot(0);let fe=0,G=t.width,$=t.height,Q=1,he=null,Y=null;const ae=new mn(0,0,G,$),Se=new mn(0,0,G,$);let Re=!1;const Ue=new Rp;let pe=!1,Be=!1;const Fe=new Ot,We=new K,st=new mn,St={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ln=!1;function Et(){return V===null?Q:1}let Z=i;function Pe(q,ce){return t.getContext(q,ce)}try{const q={alpha:!0,depth:r,stencil:a,antialias:c,premultipliedAlpha:f,preserveDrawingBuffer:p,powerPreference:m,failIfMajorPerformanceCaveat:v};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${f0}`),t.addEventListener("webglcontextlost",it,!1),t.addEventListener("webglcontextrestored",ht,!1),t.addEventListener("webglcontextcreationerror",qe,!1),Z===null){const ce="webgl2";if(Z=Pe(ce,q),Z===null)throw Pe(ce)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(q){throw console.error("THREE.WebGLRenderer: "+q.message),q}let Oe,Xe,De,et,Ve,Ye,Mt,Tt,j,H,de,be,Ne,we,at,Qe,pt,mt,je,tt,vt,gt,nt,zt;function le(){Oe=new S5(Z),Oe.init(),gt=new r3(Z,Oe),Xe=new g5(Z,Oe,e,gt),De=new i9(Z,Oe),Xe.reversedDepthBuffer&&x&&De.buffers.depth.setReversed(!0),et=new T5(Z),Ve=new jG,Ye=new r9(Z,Oe,De,Ve,Xe,gt,et),Mt=new y5(D),Tt=new A5(D),j=new Oz(Z),nt=new p5(Z,j),H=new E5(Z,j,et,nt),de=new w5(Z,H,j,et),je=new C5(Z,Xe,Ye),Qe=new v5(Ve),be=new kG(D,Mt,Tt,Oe,Xe,nt,Qe),Ne=new u9(D,Ve),we=new YG,at=new QG(Oe),mt=new d5(D,Mt,Tt,De,de,_,f),pt=new t9(D,de,Xe),zt=new f9(Z,et,Xe,De),tt=new m5(Z,Oe,et),vt=new M5(Z,Oe,et),et.programs=be.programs,D.capabilities=Xe,D.extensions=Oe,D.properties=Ve,D.renderLists=we,D.shadowMap=pt,D.state=De,D.info=et}le();const Ke=new l9(D,Z);this.xr=Ke,this.getContext=function(){return Z},this.getContextAttributes=function(){return Z.getContextAttributes()},this.forceContextLoss=function(){const q=Oe.get("WEBGL_lose_context");q&&q.loseContext()},this.forceContextRestore=function(){const q=Oe.get("WEBGL_lose_context");q&&q.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(q){q!==void 0&&(Q=q,this.setSize(G,$,!1))},this.getSize=function(q){return q.set(G,$)},this.setSize=function(q,ce,ye=!0){if(Ke.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}G=q,$=ce,t.width=Math.floor(q*Q),t.height=Math.floor(ce*Q),ye===!0&&(t.style.width=q+"px",t.style.height=ce+"px"),this.setViewport(0,0,q,ce)},this.getDrawingBufferSize=function(q){return q.set(G*Q,$*Q).floor()},this.setDrawingBufferSize=function(q,ce,ye){G=q,$=ce,Q=ye,t.width=Math.floor(q*ye),t.height=Math.floor(ce*ye),this.setViewport(0,0,q,ce)},this.getCurrentViewport=function(q){return q.copy(k)},this.getViewport=function(q){return q.copy(ae)},this.setViewport=function(q,ce,ye,Me){q.isVector4?ae.set(q.x,q.y,q.z,q.w):ae.set(q,ce,ye,Me),De.viewport(k.copy(ae).multiplyScalar(Q).round())},this.getScissor=function(q){return q.copy(Se)},this.setScissor=function(q,ce,ye,Me){q.isVector4?Se.set(q.x,q.y,q.z,q.w):Se.set(q,ce,ye,Me),De.scissor(ie.copy(Se).multiplyScalar(Q).round())},this.getScissorTest=function(){return Re},this.setScissorTest=function(q){De.setScissorTest(Re=q)},this.setOpaqueSort=function(q){he=q},this.setTransparentSort=function(q){Y=q},this.getClearColor=function(q){return q.copy(mt.getClearColor())},this.setClearColor=function(){mt.setClearColor(...arguments)},this.getClearAlpha=function(){return mt.getClearAlpha()},this.setClearAlpha=function(){mt.setClearAlpha(...arguments)},this.clear=function(q=!0,ce=!0,ye=!0){let Me=0;if(q){let me=!1;if(V!==null){const Je=V.texture.format;me=Je===P_||Je===I_||Je===d0}if(me){const Je=V.texture.type,rt=Je===Ns||Je===fc||Je===cp||Je===up||Je===N_||Je===U_,dt=mt.getClearColor(),lt=mt.getClearAlpha(),wt=dt.r,Nt=dt.g,At=dt.b;rt?(S[0]=wt,S[1]=Nt,S[2]=At,S[3]=lt,Z.clearBufferuiv(Z.COLOR,0,S)):(T[0]=wt,T[1]=Nt,T[2]=At,T[3]=lt,Z.clearBufferiv(Z.COLOR,0,T))}else Me|=Z.COLOR_BUFFER_BIT}ce&&(Me|=Z.DEPTH_BUFFER_BIT),ye&&(Me|=Z.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Z.clear(Me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",it,!1),t.removeEventListener("webglcontextrestored",ht,!1),t.removeEventListener("webglcontextcreationerror",qe,!1),mt.dispose(),we.dispose(),at.dispose(),Ve.dispose(),Mt.dispose(),Tt.dispose(),de.dispose(),nt.dispose(),zt.dispose(),be.dispose(),Ke.dispose(),Ke.removeEventListener("sessionstart",bi),Ke.removeEventListener("sessionend",Ai),Qn.stop()};function it(q){q.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),I=!0}function ht(){console.log("THREE.WebGLRenderer: Context Restored."),I=!1;const q=et.autoReset,ce=pt.enabled,ye=pt.autoUpdate,Me=pt.needsUpdate,me=pt.type;le(),et.autoReset=q,pt.enabled=ce,pt.autoUpdate=ye,pt.needsUpdate=Me,pt.type=me}function qe(q){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",q.statusMessage)}function He(q){const ce=q.target;ce.removeEventListener("dispose",He),yt(ce)}function yt(q){Lt(q),Ve.remove(q)}function Lt(q){const ce=Ve.get(q).programs;ce!==void 0&&(ce.forEach(function(ye){be.releaseProgram(ye)}),q.isShaderMaterial&&be.releaseShaderCache(q))}this.renderBufferDirect=function(q,ce,ye,Me,me,Je){ce===null&&(ce=St);const rt=me.isMesh&&me.matrixWorld.determinant()<0,dt=ls(q,ce,ye,Me,me);De.setMaterial(Me,rt);let lt=ye.index,wt=1;if(Me.wireframe===!0){if(lt=H.getWireframeAttribute(ye),lt===void 0)return;wt=2}const Nt=ye.drawRange,At=ye.attributes.position;let Zt=Nt.start*wt,yn=(Nt.start+Nt.count)*wt;Je!==null&&(Zt=Math.max(Zt,Je.start*wt),yn=Math.min(yn,(Je.start+Je.count)*wt)),lt!==null?(Zt=Math.max(Zt,0),yn=Math.min(yn,lt.count)):At!=null&&(Zt=Math.max(Zt,0),yn=Math.min(yn,At.count));const Wn=yn-Zt;if(Wn<0||Wn===1/0)return;nt.setup(me,Me,dt,ye,lt);let Dn,Jt=tt;if(lt!==null&&(Dn=j.get(lt),Jt=vt,Jt.setIndex(Dn)),me.isMesh)Me.wireframe===!0?(De.setLineWidth(Me.wireframeLinewidth*Et()),Jt.setMode(Z.LINES)):Jt.setMode(Z.TRIANGLES);else if(me.isLine){let Rt=Me.linewidth;Rt===void 0&&(Rt=1),De.setLineWidth(Rt*Et()),me.isLineSegments?Jt.setMode(Z.LINES):me.isLineLoop?Jt.setMode(Z.LINE_LOOP):Jt.setMode(Z.LINE_STRIP)}else me.isPoints?Jt.setMode(Z.POINTS):me.isSprite&&Jt.setMode(Z.TRIANGLES);if(me.isBatchedMesh)if(me._multiDrawInstances!==null)ip("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Jt.renderMultiDrawInstances(me._multiDrawStarts,me._multiDrawCounts,me._multiDrawCount,me._multiDrawInstances);else if(Oe.get("WEBGL_multi_draw"))Jt.renderMultiDraw(me._multiDrawStarts,me._multiDrawCounts,me._multiDrawCount);else{const Rt=me._multiDrawStarts,Jn=me._multiDrawCounts,sn=me._multiDrawCount,Yi=lt?j.get(lt).bytesPerElement:1,ba=Ve.get(Me).currentProgram.getUniforms();for(let qi=0;qi<sn;qi++)ba.setValue(Z,"_gl_DrawID",qi),Jt.render(Rt[qi]/Yi,Jn[qi])}else if(me.isInstancedMesh)Jt.renderInstances(Zt,Wn,me.count);else if(ye.isInstancedBufferGeometry){const Rt=ye._maxInstanceCount!==void 0?ye._maxInstanceCount:1/0,Jn=Math.min(ye.instanceCount,Rt);Jt.renderInstances(Zt,Wn,Jn)}else Jt.render(Zt,Wn)};function gn(q,ce,ye){q.transparent===!0&&q.side===go&&q.forceSinglePass===!1?(q.side=kr,q.needsUpdate=!0,Kr(q,ce,ye),q.side=fl,q.needsUpdate=!0,Kr(q,ce,ye),q.side=go):Kr(q,ce,ye)}this.compile=function(q,ce,ye=null){ye===null&&(ye=q),b=at.get(ye),b.init(ce),B.push(b),ye.traverseVisible(function(me){me.isLight&&me.layers.test(ce.layers)&&(b.pushLight(me),me.castShadow&&b.pushShadow(me))}),q!==ye&&q.traverseVisible(function(me){me.isLight&&me.layers.test(ce.layers)&&(b.pushLight(me),me.castShadow&&b.pushShadow(me))}),b.setupLights();const Me=new Set;return q.traverse(function(me){if(!(me.isMesh||me.isPoints||me.isLine||me.isSprite))return;const Je=me.material;if(Je)if(Array.isArray(Je))for(let rt=0;rt<Je.length;rt++){const dt=Je[rt];gn(dt,ye,me),Me.add(dt)}else gn(Je,ye,me),Me.add(Je)}),b=B.pop(),Me},this.compileAsync=function(q,ce,ye=null){const Me=this.compile(q,ce,ye);return new Promise(me=>{function Je(){if(Me.forEach(function(rt){Ve.get(rt).currentProgram.isReady()&&Me.delete(rt)}),Me.size===0){me(q);return}setTimeout(Je,10)}Oe.get("KHR_parallel_shader_compile")!==null?Je():setTimeout(Je,10)})};let un=null;function xa(q){un&&un(q)}function bi(){Qn.stop()}function Ai(){Qn.start()}const Qn=new ZD;Qn.setAnimationLoop(xa),typeof self<"u"&&Qn.setContext(self),this.setAnimationLoop=function(q){un=q,Ke.setAnimationLoop(q),q===null?Qn.stop():Qn.start()},Ke.addEventListener("sessionstart",bi),Ke.addEventListener("sessionend",Ai),this.render=function(q,ce){if(ce!==void 0&&ce.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(I===!0)return;if(q.matrixWorldAutoUpdate===!0&&q.updateMatrixWorld(),ce.parent===null&&ce.matrixWorldAutoUpdate===!0&&ce.updateMatrixWorld(),Ke.enabled===!0&&Ke.isPresenting===!0&&(Ke.cameraAutoUpdate===!0&&Ke.updateCamera(ce),ce=Ke.getCamera()),q.isScene===!0&&q.onBeforeRender(D,q,ce,V),b=at.get(q,B.length),b.init(ce),B.push(b),Fe.multiplyMatrices(ce.projectionMatrix,ce.matrixWorldInverse),Ue.setFromProjectionMatrix(Fe,as,ce.reversedDepth),Be=this.localClippingEnabled,pe=Qe.init(this.clippingPlanes,Be),M=we.get(q,R.length),M.init(),R.push(M),Ke.enabled===!0&&Ke.isPresenting===!0){const Je=D.xr.getDepthSensingMesh();Je!==null&&_a(Je,ce,-1/0,D.sortObjects)}_a(q,ce,0,D.sortObjects),M.finish(),D.sortObjects===!0&&M.sort(he,Y),ln=Ke.enabled===!1||Ke.isPresenting===!1||Ke.hasDepthSensing()===!1,ln&&mt.addToRenderList(M,q),this.info.render.frame++,pe===!0&&Qe.beginShadows();const ye=b.state.shadowsArray;pt.render(ye,q,ce),pe===!0&&Qe.endShadows(),this.info.autoReset===!0&&this.info.reset();const Me=M.opaque,me=M.transmissive;if(b.setupLights(),ce.isArrayCamera){const Je=ce.cameras;if(me.length>0)for(let rt=0,dt=Je.length;rt<dt;rt++){const lt=Je[rt];Iu(Me,me,q,lt)}ln&&mt.render(q);for(let rt=0,dt=Je.length;rt<dt;rt++){const lt=Je[rt];qr(M,q,lt,lt.viewport)}}else me.length>0&&Iu(Me,me,q,ce),ln&&mt.render(q),qr(M,q,ce);V!==null&&F===0&&(Ye.updateMultisampleRenderTarget(V),Ye.updateRenderTargetMipmap(V)),q.isScene===!0&&q.onAfterRender(D,q,ce),nt.resetDefaultState(),P=-1,L=null,B.pop(),B.length>0?(b=B[B.length-1],pe===!0&&Qe.setGlobalState(D.clippingPlanes,b.state.camera)):b=null,R.pop(),R.length>0?M=R[R.length-1]:M=null};function _a(q,ce,ye,Me){if(q.visible===!1)return;if(q.layers.test(ce.layers)){if(q.isGroup)ye=q.renderOrder;else if(q.isLOD)q.autoUpdate===!0&&q.update(ce);else if(q.isLight)b.pushLight(q),q.castShadow&&b.pushShadow(q);else if(q.isSprite){if(!q.frustumCulled||Ue.intersectsSprite(q)){Me&&st.setFromMatrixPosition(q.matrixWorld).applyMatrix4(Fe);const rt=de.update(q),dt=q.material;dt.visible&&M.push(q,rt,dt,ye,st.z,null)}}else if((q.isMesh||q.isLine||q.isPoints)&&(!q.frustumCulled||Ue.intersectsObject(q))){const rt=de.update(q),dt=q.material;if(Me&&(q.boundingSphere!==void 0?(q.boundingSphere===null&&q.computeBoundingSphere(),st.copy(q.boundingSphere.center)):(rt.boundingSphere===null&&rt.computeBoundingSphere(),st.copy(rt.boundingSphere.center)),st.applyMatrix4(q.matrixWorld).applyMatrix4(Fe)),Array.isArray(dt)){const lt=rt.groups;for(let wt=0,Nt=lt.length;wt<Nt;wt++){const At=lt[wt],Zt=dt[At.materialIndex];Zt&&Zt.visible&&M.push(q,rt,Zt,ye,st.z,At)}}else dt.visible&&M.push(q,rt,dt,ye,st.z,null)}}const Je=q.children;for(let rt=0,dt=Je.length;rt<dt;rt++)_a(Je[rt],ce,ye,Me)}function qr(q,ce,ye,Me){const me=q.opaque,Je=q.transmissive,rt=q.transparent;b.setupLightsView(ye),pe===!0&&Qe.setGlobalState(D.clippingPlanes,ye),Me&&De.viewport(k.copy(Me)),me.length>0&&Wr(me,ce,ye),Je.length>0&&Wr(Je,ce,ye),rt.length>0&&Wr(rt,ce,ye),De.buffers.depth.setTest(!0),De.buffers.depth.setMask(!0),De.buffers.color.setMask(!0),De.setPolygonOffset(!1)}function Iu(q,ce,ye,Me){if((ye.isScene===!0?ye.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[Me.id]===void 0&&(b.state.transmissionRenderTarget[Me.id]=new hl(1,1,{generateMipmaps:!0,type:Oe.has("EXT_color_buffer_half_float")||Oe.has("EXT_color_buffer_float")?Cp:Ns,minFilter:Ds,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:bn.workingColorSpace}));const Je=b.state.transmissionRenderTarget[Me.id],rt=Me.viewport||k;Je.setSize(rt.z*D.transmissionResolutionScale,rt.w*D.transmissionResolutionScale);const dt=D.getRenderTarget(),lt=D.getActiveCubeFace(),wt=D.getActiveMipmapLevel();D.setRenderTarget(Je),D.getClearColor(ue),fe=D.getClearAlpha(),fe<1&&D.setClearColor(16777215,.5),D.clear(),ln&&mt.render(ye);const Nt=D.toneMapping;D.toneMapping=ll;const At=Me.viewport;if(Me.viewport!==void 0&&(Me.viewport=void 0),b.setupLightsView(Me),pe===!0&&Qe.setGlobalState(D.clippingPlanes,Me),Wr(q,ye,Me),Ye.updateMultisampleRenderTarget(Je),Ye.updateRenderTargetMipmap(Je),Oe.has("WEBGL_multisampled_render_to_texture")===!1){let Zt=!1;for(let yn=0,Wn=ce.length;yn<Wn;yn++){const Dn=ce[yn],Jt=Dn.object,Rt=Dn.geometry,Jn=Dn.material,sn=Dn.group;if(Jn.side===go&&Jt.layers.test(Me.layers)){const Yi=Jn.side;Jn.side=kr,Jn.needsUpdate=!0,Jr(Jt,ye,Me,Rt,Jn,sn),Jn.side=Yi,Jn.needsUpdate=!0,Zt=!0}}Zt===!0&&(Ye.updateMultisampleRenderTarget(Je),Ye.updateRenderTargetMipmap(Je))}D.setRenderTarget(dt,lt,wt),D.setClearColor(ue,fe),At!==void 0&&(Me.viewport=At),D.toneMapping=Nt}function Wr(q,ce,ye){const Me=ce.isScene===!0?ce.overrideMaterial:null;for(let me=0,Je=q.length;me<Je;me++){const rt=q[me],dt=rt.object,lt=rt.geometry,wt=rt.group;let Nt=rt.material;Nt.allowOverride===!0&&Me!==null&&(Nt=Me),dt.layers.test(ye.layers)&&Jr(dt,ce,ye,lt,Nt,wt)}}function Jr(q,ce,ye,Me,me,Je){q.onBeforeRender(D,ce,ye,Me,me,Je),q.modelViewMatrix.multiplyMatrices(ye.matrixWorldInverse,q.matrixWorld),q.normalMatrix.getNormalMatrix(q.modelViewMatrix),me.onBeforeRender(D,ce,ye,Me,q,Je),me.transparent===!0&&me.side===go&&me.forceSinglePass===!1?(me.side=kr,me.needsUpdate=!0,D.renderBufferDirect(ye,ce,Me,me,q,Je),me.side=fl,me.needsUpdate=!0,D.renderBufferDirect(ye,ce,Me,me,q,Je),me.side=go):D.renderBufferDirect(ye,ce,Me,me,q,Je),q.onAfterRender(D,ce,ye,Me,me,Je)}function Kr(q,ce,ye){ce.isScene!==!0&&(ce=St);const Me=Ve.get(q),me=b.state.lights,Je=b.state.shadowsArray,rt=me.state.version,dt=be.getParameters(q,me.state,Je,ce,ye),lt=be.getProgramCacheKey(dt);let wt=Me.programs;Me.environment=q.isMeshStandardMaterial?ce.environment:null,Me.fog=ce.fog,Me.envMap=(q.isMeshStandardMaterial?Tt:Mt).get(q.envMap||Me.environment),Me.envMapRotation=Me.environment!==null&&q.envMap===null?ce.environmentRotation:q.envMapRotation,wt===void 0&&(q.addEventListener("dispose",He),wt=new Map,Me.programs=wt);let Nt=wt.get(lt);if(Nt!==void 0){if(Me.currentProgram===Nt&&Me.lightsStateVersion===rt)return ka(q,dt),Nt}else dt.uniforms=be.getUniforms(q),q.onBeforeCompile(dt,D),Nt=be.acquireProgram(dt,lt),wt.set(lt,Nt),Me.uniforms=dt.uniforms;const At=Me.uniforms;return(!q.isShaderMaterial&&!q.isRawShaderMaterial||q.clipping===!0)&&(At.clippingPlanes=Qe.uniform),ka(q,dt),Me.needsLights=zs(q),Me.lightsStateVersion=rt,Me.needsLights&&(At.ambientLightColor.value=me.state.ambient,At.lightProbe.value=me.state.probe,At.directionalLights.value=me.state.directional,At.directionalLightShadows.value=me.state.directionalShadow,At.spotLights.value=me.state.spot,At.spotLightShadows.value=me.state.spotShadow,At.rectAreaLights.value=me.state.rectArea,At.ltc_1.value=me.state.rectAreaLTC1,At.ltc_2.value=me.state.rectAreaLTC2,At.pointLights.value=me.state.point,At.pointLightShadows.value=me.state.pointShadow,At.hemisphereLights.value=me.state.hemi,At.directionalShadowMap.value=me.state.directionalShadowMap,At.directionalShadowMatrix.value=me.state.directionalShadowMatrix,At.spotShadowMap.value=me.state.spotShadowMap,At.spotLightMatrix.value=me.state.spotLightMatrix,At.spotLightMap.value=me.state.spotLightMap,At.pointShadowMap.value=me.state.pointShadowMap,At.pointShadowMatrix.value=me.state.pointShadowMatrix),Me.currentProgram=Nt,Me.uniformsList=null,Nt}function Hn(q){if(q.uniformsList===null){const ce=q.currentProgram.getUniforms();q.uniformsList=dx.seqWithValue(ce.seq,q.uniforms)}return q.uniformsList}function ka(q,ce){const ye=Ve.get(q);ye.outputColorSpace=ce.outputColorSpace,ye.batching=ce.batching,ye.batchingColor=ce.batchingColor,ye.instancing=ce.instancing,ye.instancingColor=ce.instancingColor,ye.instancingMorph=ce.instancingMorph,ye.skinning=ce.skinning,ye.morphTargets=ce.morphTargets,ye.morphNormals=ce.morphNormals,ye.morphColors=ce.morphColors,ye.morphTargetsCount=ce.morphTargetsCount,ye.numClippingPlanes=ce.numClippingPlanes,ye.numIntersection=ce.numClipIntersection,ye.vertexAlphas=ce.vertexAlphas,ye.vertexTangents=ce.vertexTangents,ye.toneMapping=ce.toneMapping}function ls(q,ce,ye,Me,me){ce.isScene!==!0&&(ce=St),Ye.resetTextureUnits();const Je=ce.fog,rt=Me.isMeshStandardMaterial?ce.environment:null,dt=V===null?D.outputColorSpace:V.isXRRenderTarget===!0?V.texture.colorSpace:wu,lt=(Me.isMeshStandardMaterial?Tt:Mt).get(Me.envMap||rt),wt=Me.vertexColors===!0&&!!ye.attributes.color&&ye.attributes.color.itemSize===4,Nt=!!ye.attributes.tangent&&(!!Me.normalMap||Me.anisotropy>0),At=!!ye.morphAttributes.position,Zt=!!ye.morphAttributes.normal,yn=!!ye.morphAttributes.color;let Wn=ll;Me.toneMapped&&(V===null||V.isXRRenderTarget===!0)&&(Wn=D.toneMapping);const Dn=ye.morphAttributes.position||ye.morphAttributes.normal||ye.morphAttributes.color,Jt=Dn!==void 0?Dn.length:0,Rt=Ve.get(Me),Jn=b.state.lights;if(pe===!0&&(Be===!0||q!==L)){const ti=q===L&&Me.id===P;Qe.setState(Me,q,ti)}let sn=!1;Me.version===Rt.__version?(Rt.needsLights&&Rt.lightsStateVersion!==Jn.state.version||Rt.outputColorSpace!==dt||me.isBatchedMesh&&Rt.batching===!1||!me.isBatchedMesh&&Rt.batching===!0||me.isBatchedMesh&&Rt.batchingColor===!0&&me.colorTexture===null||me.isBatchedMesh&&Rt.batchingColor===!1&&me.colorTexture!==null||me.isInstancedMesh&&Rt.instancing===!1||!me.isInstancedMesh&&Rt.instancing===!0||me.isSkinnedMesh&&Rt.skinning===!1||!me.isSkinnedMesh&&Rt.skinning===!0||me.isInstancedMesh&&Rt.instancingColor===!0&&me.instanceColor===null||me.isInstancedMesh&&Rt.instancingColor===!1&&me.instanceColor!==null||me.isInstancedMesh&&Rt.instancingMorph===!0&&me.morphTexture===null||me.isInstancedMesh&&Rt.instancingMorph===!1&&me.morphTexture!==null||Rt.envMap!==lt||Me.fog===!0&&Rt.fog!==Je||Rt.numClippingPlanes!==void 0&&(Rt.numClippingPlanes!==Qe.numPlanes||Rt.numIntersection!==Qe.numIntersection)||Rt.vertexAlphas!==wt||Rt.vertexTangents!==Nt||Rt.morphTargets!==At||Rt.morphNormals!==Zt||Rt.morphColors!==yn||Rt.toneMapping!==Wn||Rt.morphTargetsCount!==Jt)&&(sn=!0):(sn=!0,Rt.__version=Me.version);let Yi=Rt.currentProgram;sn===!0&&(Yi=Kr(Me,ce,me));let ba=!1,qi=!1,Bi=!1;const Nn=Yi.getUniforms(),lr=Rt.uniforms;if(De.useProgram(Yi.program)&&(ba=!0,qi=!0,Bi=!0),Me.id!==P&&(P=Me.id,qi=!0),ba||L!==q){De.buffers.depth.getReversed()&&q.reversedDepth!==!0&&(q._reversedDepth=!0,q.updateProjectionMatrix()),Nn.setValue(Z,"projectionMatrix",q.projectionMatrix),Nn.setValue(Z,"viewMatrix",q.matrixWorldInverse);const Ji=Nn.map.cameraPosition;Ji!==void 0&&Ji.setValue(Z,We.setFromMatrixPosition(q.matrixWorld)),Xe.logarithmicDepthBuffer&&Nn.setValue(Z,"logDepthBufFC",2/(Math.log(q.far+1)/Math.LN2)),(Me.isMeshPhongMaterial||Me.isMeshToonMaterial||Me.isMeshLambertMaterial||Me.isMeshBasicMaterial||Me.isMeshStandardMaterial||Me.isShaderMaterial)&&Nn.setValue(Z,"isOrthographic",q.isOrthographicCamera===!0),L!==q&&(L=q,qi=!0,Bi=!0)}if(me.isSkinnedMesh){Nn.setOptional(Z,me,"bindMatrix"),Nn.setOptional(Z,me,"bindMatrixInverse");const ti=me.skeleton;ti&&(ti.boneTexture===null&&ti.computeBoneTexture(),Nn.setValue(Z,"boneTexture",ti.boneTexture,Ye))}me.isBatchedMesh&&(Nn.setOptional(Z,me,"batchingTexture"),Nn.setValue(Z,"batchingTexture",me._matricesTexture,Ye),Nn.setOptional(Z,me,"batchingIdTexture"),Nn.setValue(Z,"batchingIdTexture",me._indirectTexture,Ye),Nn.setOptional(Z,me,"batchingColorTexture"),me._colorsTexture!==null&&Nn.setValue(Z,"batchingColorTexture",me._colorsTexture,Ye));const Wi=ye.morphAttributes;if((Wi.position!==void 0||Wi.normal!==void 0||Wi.color!==void 0)&&je.update(me,ye,Yi),(qi||Rt.receiveShadow!==me.receiveShadow)&&(Rt.receiveShadow=me.receiveShadow,Nn.setValue(Z,"receiveShadow",me.receiveShadow)),Me.isMeshGouraudMaterial&&Me.envMap!==null&&(lr.envMap.value=lt,lr.flipEnvMap.value=lt.isCubeTexture&&lt.isRenderTargetTexture===!1?-1:1),Me.isMeshStandardMaterial&&Me.envMap===null&&ce.environment!==null&&(lr.envMapIntensity.value=ce.environmentIntensity),qi&&(Nn.setValue(Z,"toneMappingExposure",D.toneMappingExposure),Rt.needsLights&&So(lr,Bi),Je&&Me.fog===!0&&Ne.refreshFogUniforms(lr,Je),Ne.refreshMaterialUniforms(lr,Me,Q,$,b.state.transmissionRenderTarget[q.id]),dx.upload(Z,Hn(Rt),lr,Ye)),Me.isShaderMaterial&&Me.uniformsNeedUpdate===!0&&(dx.upload(Z,Hn(Rt),lr,Ye),Me.uniformsNeedUpdate=!1),Me.isSpriteMaterial&&Nn.setValue(Z,"center",me.center),Nn.setValue(Z,"modelViewMatrix",me.modelViewMatrix),Nn.setValue(Z,"normalMatrix",me.normalMatrix),Nn.setValue(Z,"modelMatrix",me.matrixWorld),Me.isShaderMaterial||Me.isRawShaderMaterial){const ti=Me.uniformsGroups;for(let Ji=0,vl=ti.length;Ji<vl;Ji++){const Di=ti[Ji];zt.update(Di,Yi),zt.bind(Di,Yi)}}return Yi}function So(q,ce){q.ambientLightColor.needsUpdate=ce,q.lightProbe.needsUpdate=ce,q.directionalLights.needsUpdate=ce,q.directionalLightShadows.needsUpdate=ce,q.pointLights.needsUpdate=ce,q.pointLightShadows.needsUpdate=ce,q.spotLights.needsUpdate=ce,q.spotLightShadows.needsUpdate=ce,q.rectAreaLights.needsUpdate=ce,q.hemisphereLights.needsUpdate=ce}function zs(q){return q.isMeshLambertMaterial||q.isMeshToonMaterial||q.isMeshPhongMaterial||q.isMeshStandardMaterial||q.isShadowMaterial||q.isShaderMaterial&&q.lights===!0}this.getActiveCubeFace=function(){return U},this.getActiveMipmapLevel=function(){return F},this.getRenderTarget=function(){return V},this.setRenderTargetTextures=function(q,ce,ye){const Me=Ve.get(q);Me.__autoAllocateDepthBuffer=q.resolveDepthBuffer===!1,Me.__autoAllocateDepthBuffer===!1&&(Me.__useRenderToTexture=!1),Ve.get(q.texture).__webglTexture=ce,Ve.get(q.depthTexture).__webglTexture=Me.__autoAllocateDepthBuffer?void 0:ye,Me.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(q,ce){const ye=Ve.get(q);ye.__webglFramebuffer=ce,ye.__useDefaultFramebuffer=ce===void 0};const Si=Z.createFramebuffer();this.setRenderTarget=function(q,ce=0,ye=0){V=q,U=ce,F=ye;let Me=!0,me=null,Je=!1,rt=!1;if(q){const lt=Ve.get(q);if(lt.__useDefaultFramebuffer!==void 0)De.bindFramebuffer(Z.FRAMEBUFFER,null),Me=!1;else if(lt.__webglFramebuffer===void 0)Ye.setupRenderTarget(q);else if(lt.__hasExternalTextures)Ye.rebindTextures(q,Ve.get(q.texture).__webglTexture,Ve.get(q.depthTexture).__webglTexture);else if(q.depthBuffer){const At=q.depthTexture;if(lt.__boundDepthTexture!==At){if(At!==null&&Ve.has(At)&&(q.width!==At.image.width||q.height!==At.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Ye.setupDepthRenderbuffer(q)}}const wt=q.texture;(wt.isData3DTexture||wt.isDataArrayTexture||wt.isCompressedArrayTexture)&&(rt=!0);const Nt=Ve.get(q).__webglFramebuffer;q.isWebGLCubeRenderTarget?(Array.isArray(Nt[ce])?me=Nt[ce][ye]:me=Nt[ce],Je=!0):q.samples>0&&Ye.useMultisampledRTT(q)===!1?me=Ve.get(q).__webglMultisampledFramebuffer:Array.isArray(Nt)?me=Nt[ye]:me=Nt,k.copy(q.viewport),ie.copy(q.scissor),te=q.scissorTest}else k.copy(ae).multiplyScalar(Q).floor(),ie.copy(Se).multiplyScalar(Q).floor(),te=Re;if(ye!==0&&(me=Si),De.bindFramebuffer(Z.FRAMEBUFFER,me)&&Me&&De.drawBuffers(q,me),De.viewport(k),De.scissor(ie),De.setScissorTest(te),Je){const lt=Ve.get(q.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_CUBE_MAP_POSITIVE_X+ce,lt.__webglTexture,ye)}else if(rt){const lt=ce;for(let wt=0;wt<q.textures.length;wt++){const Nt=Ve.get(q.textures[wt]);Z.framebufferTextureLayer(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0+wt,Nt.__webglTexture,ye,lt)}}else if(q!==null&&ye!==0){const lt=Ve.get(q.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,lt.__webglTexture,ye)}P=-1},this.readRenderTargetPixels=function(q,ce,ye,Me,me,Je,rt,dt=0){if(!(q&&q.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let lt=Ve.get(q).__webglFramebuffer;if(q.isWebGLCubeRenderTarget&&rt!==void 0&&(lt=lt[rt]),lt){De.bindFramebuffer(Z.FRAMEBUFFER,lt);try{const wt=q.textures[dt],Nt=wt.format,At=wt.type;if(!Xe.textureFormatReadable(Nt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Xe.textureTypeReadable(At)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ce>=0&&ce<=q.width-Me&&ye>=0&&ye<=q.height-me&&(q.textures.length>1&&Z.readBuffer(Z.COLOR_ATTACHMENT0+dt),Z.readPixels(ce,ye,Me,me,gt.convert(Nt),gt.convert(At),Je))}finally{const wt=V!==null?Ve.get(V).__webglFramebuffer:null;De.bindFramebuffer(Z.FRAMEBUFFER,wt)}}},this.readRenderTargetPixelsAsync=async function(q,ce,ye,Me,me,Je,rt,dt=0){if(!(q&&q.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let lt=Ve.get(q).__webglFramebuffer;if(q.isWebGLCubeRenderTarget&&rt!==void 0&&(lt=lt[rt]),lt)if(ce>=0&&ce<=q.width-Me&&ye>=0&&ye<=q.height-me){De.bindFramebuffer(Z.FRAMEBUFFER,lt);const wt=q.textures[dt],Nt=wt.format,At=wt.type;if(!Xe.textureFormatReadable(Nt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Xe.textureTypeReadable(At))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Zt=Z.createBuffer();Z.bindBuffer(Z.PIXEL_PACK_BUFFER,Zt),Z.bufferData(Z.PIXEL_PACK_BUFFER,Je.byteLength,Z.STREAM_READ),q.textures.length>1&&Z.readBuffer(Z.COLOR_ATTACHMENT0+dt),Z.readPixels(ce,ye,Me,me,gt.convert(Nt),gt.convert(At),0);const yn=V!==null?Ve.get(V).__webglFramebuffer:null;De.bindFramebuffer(Z.FRAMEBUFFER,yn);const Wn=Z.fenceSync(Z.SYNC_GPU_COMMANDS_COMPLETE,0);return Z.flush(),await ZI(Z,Wn,4),Z.bindBuffer(Z.PIXEL_PACK_BUFFER,Zt),Z.getBufferSubData(Z.PIXEL_PACK_BUFFER,0,Je),Z.deleteBuffer(Zt),Z.deleteSync(Wn),Je}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(q,ce=null,ye=0){const Me=Math.pow(2,-ye),me=Math.floor(q.image.width*Me),Je=Math.floor(q.image.height*Me),rt=ce!==null?ce.x:0,dt=ce!==null?ce.y:0;Ye.setTexture2D(q,0),Z.copyTexSubImage2D(Z.TEXTURE_2D,ye,0,0,rt,dt,me,Je),De.unbindTexture()};const yc=Z.createFramebuffer(),xc=Z.createFramebuffer();this.copyTextureToTexture=function(q,ce,ye=null,Me=null,me=0,Je=null){Je===null&&(me!==0?(ip("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Je=me,me=0):Je=0);let rt,dt,lt,wt,Nt,At,Zt,yn,Wn;const Dn=q.isCompressedTexture?q.mipmaps[Je]:q.image;if(ye!==null)rt=ye.max.x-ye.min.x,dt=ye.max.y-ye.min.y,lt=ye.isBox3?ye.max.z-ye.min.z:1,wt=ye.min.x,Nt=ye.min.y,At=ye.isBox3?ye.min.z:0;else{const Wi=Math.pow(2,-me);rt=Math.floor(Dn.width*Wi),dt=Math.floor(Dn.height*Wi),q.isDataArrayTexture?lt=Dn.depth:q.isData3DTexture?lt=Math.floor(Dn.depth*Wi):lt=1,wt=0,Nt=0,At=0}Me!==null?(Zt=Me.x,yn=Me.y,Wn=Me.z):(Zt=0,yn=0,Wn=0);const Jt=gt.convert(ce.format),Rt=gt.convert(ce.type);let Jn;ce.isData3DTexture?(Ye.setTexture3D(ce,0),Jn=Z.TEXTURE_3D):ce.isDataArrayTexture||ce.isCompressedArrayTexture?(Ye.setTexture2DArray(ce,0),Jn=Z.TEXTURE_2D_ARRAY):(Ye.setTexture2D(ce,0),Jn=Z.TEXTURE_2D),Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,ce.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ce.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,ce.unpackAlignment);const sn=Z.getParameter(Z.UNPACK_ROW_LENGTH),Yi=Z.getParameter(Z.UNPACK_IMAGE_HEIGHT),ba=Z.getParameter(Z.UNPACK_SKIP_PIXELS),qi=Z.getParameter(Z.UNPACK_SKIP_ROWS),Bi=Z.getParameter(Z.UNPACK_SKIP_IMAGES);Z.pixelStorei(Z.UNPACK_ROW_LENGTH,Dn.width),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,Dn.height),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,wt),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,Nt),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,At);const Nn=q.isDataArrayTexture||q.isData3DTexture,lr=ce.isDataArrayTexture||ce.isData3DTexture;if(q.isDepthTexture){const Wi=Ve.get(q),ti=Ve.get(ce),Ji=Ve.get(Wi.__renderTarget),vl=Ve.get(ti.__renderTarget);De.bindFramebuffer(Z.READ_FRAMEBUFFER,Ji.__webglFramebuffer),De.bindFramebuffer(Z.DRAW_FRAMEBUFFER,vl.__webglFramebuffer);for(let Di=0;Di<lt;Di++)Nn&&(Z.framebufferTextureLayer(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Ve.get(q).__webglTexture,me,At+Di),Z.framebufferTextureLayer(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Ve.get(ce).__webglTexture,Je,Wn+Di)),Z.blitFramebuffer(wt,Nt,rt,dt,Zt,yn,rt,dt,Z.DEPTH_BUFFER_BIT,Z.NEAREST);De.bindFramebuffer(Z.READ_FRAMEBUFFER,null),De.bindFramebuffer(Z.DRAW_FRAMEBUFFER,null)}else if(me!==0||q.isRenderTargetTexture||Ve.has(q)){const Wi=Ve.get(q),ti=Ve.get(ce);De.bindFramebuffer(Z.READ_FRAMEBUFFER,yc),De.bindFramebuffer(Z.DRAW_FRAMEBUFFER,xc);for(let Ji=0;Ji<lt;Ji++)Nn?Z.framebufferTextureLayer(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Wi.__webglTexture,me,At+Ji):Z.framebufferTexture2D(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,Wi.__webglTexture,me),lr?Z.framebufferTextureLayer(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,ti.__webglTexture,Je,Wn+Ji):Z.framebufferTexture2D(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,ti.__webglTexture,Je),me!==0?Z.blitFramebuffer(wt,Nt,rt,dt,Zt,yn,rt,dt,Z.COLOR_BUFFER_BIT,Z.NEAREST):lr?Z.copyTexSubImage3D(Jn,Je,Zt,yn,Wn+Ji,wt,Nt,rt,dt):Z.copyTexSubImage2D(Jn,Je,Zt,yn,wt,Nt,rt,dt);De.bindFramebuffer(Z.READ_FRAMEBUFFER,null),De.bindFramebuffer(Z.DRAW_FRAMEBUFFER,null)}else lr?q.isDataTexture||q.isData3DTexture?Z.texSubImage3D(Jn,Je,Zt,yn,Wn,rt,dt,lt,Jt,Rt,Dn.data):ce.isCompressedArrayTexture?Z.compressedTexSubImage3D(Jn,Je,Zt,yn,Wn,rt,dt,lt,Jt,Dn.data):Z.texSubImage3D(Jn,Je,Zt,yn,Wn,rt,dt,lt,Jt,Rt,Dn):q.isDataTexture?Z.texSubImage2D(Z.TEXTURE_2D,Je,Zt,yn,rt,dt,Jt,Rt,Dn.data):q.isCompressedTexture?Z.compressedTexSubImage2D(Z.TEXTURE_2D,Je,Zt,yn,Dn.width,Dn.height,Jt,Dn.data):Z.texSubImage2D(Z.TEXTURE_2D,Je,Zt,yn,rt,dt,Jt,Rt,Dn);Z.pixelStorei(Z.UNPACK_ROW_LENGTH,sn),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,Yi),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,ba),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,qi),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,Bi),Je===0&&ce.generateMipmaps&&Z.generateMipmap(Jn),De.unbindTexture()},this.copyTextureToTexture3D=function(q,ce,ye=null,Me=null,me=0){return ip('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(q,ce,ye,Me,me)},this.initRenderTarget=function(q){Ve.get(q).__webglFramebuffer===void 0&&Ye.setupRenderTarget(q)},this.initTexture=function(q){q.isCubeTexture?Ye.setTextureCube(q,0):q.isData3DTexture?Ye.setTexture3D(q,0):q.isDataArrayTexture||q.isCompressedArrayTexture?Ye.setTexture2DArray(q,0):Ye.setTexture2D(q,0),De.unbindTexture()},this.resetState=function(){U=0,F=0,V=null,De.reset(),nt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return as}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=bn._getDrawingBufferColorSpace(e),t.unpackColorSpace=bn._getUnpackColorSpace()}}const h9=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:iE,AddEquation:bu,AddOperation:OB,AdditiveAnimationBlendMode:fE,AdditiveBlending:t1,AgXToneMapping:PB,AlphaFormat:oE,AlwaysCompare:ZB,AlwaysDepth:bx,AlwaysStencilFunc:a1,AmbientLight:GE,AnimationAction:JD,AnimationClip:_p,AnimationLoader:M4,AnimationMixer:Q4,AnimationObjectGroup:K4,AnimationUtils:b4,ArcCurve:pD,ArrayCamera:YD,ArrowHelper:Sz,AttachedBindMode:r1,Audio:qD,AudioAnalyser:H4,AudioContext:VE,AudioListener:P4,AudioLoader:U4,AxesHelper:Ez,BackSide:kr,BasicDepthPacking:jB,BasicShadowMap:hB,BatchedMesh:uD,Bone:X_,BooleanKeyframeTrack:xh,Box2:oz,Box3:Cr,Box3Helper:bz,BoxGeometry:mc,BoxHelper:_z,BufferAttribute:Tn,BufferGeometry:Qt,BufferGeometryLoader:jD,ByteType:rE,Cache:ol,Camera:G_,CameraHelper:xz,CanvasTexture:hD,CapsuleGeometry:J_,CatmullRomCurve3:mD,CineonToneMapping:LB,CircleGeometry:K_,ClampToEdgeWrapping:rs,Clock:kE,Color:ot,ColorKeyframeTrack:IE,ColorManagement:bn,CompressedArrayTexture:kP,CompressedCubeTexture:jP,CompressedTexture:W_,CompressedTextureLoader:T4,ConeGeometry:y0,ConstantAlphaFactor:RB,ConstantColorFactor:CB,Controls:Tz,CubeCamera:aD,CubeReflectionMapping:uc,CubeRefractionMapping:Tu,CubeTexture:p0,CubeTextureLoader:C4,CubeUVReflectionMapping:Tp,CubicBezierCurve:CE,CubicBezierCurve3:gD,CubicInterpolant:UD,CullFaceBack:e1,CullFaceFront:fB,CullFaceFrontBack:nI,CullFaceNone:uB,Curve:bo,CurvePath:yD,CustomBlending:dB,CustomToneMapping:IB,CylinderGeometry:v0,Cylindrical:sz,Data3DTexture:H_,DataArrayTexture:F_,DataTexture:cl,DataTextureLoader:w4,DataUtils:pP,DecrementStencilOp:dI,DecrementWrapStencilOp:mI,DefaultLoadingManager:PD,DepthFormat:fp,DepthStencilFormat:hp,DepthTexture:ME,DetachedBindMode:FB,DirectionalLight:lb,DirectionalLightHelper:yz,DiscreteInterpolant:LD,DodecahedronGeometry:$_,DoubleSide:go,DstAlphaFactor:AB,DstColorFactor:EB,DynamicCopyUsage:BI,DynamicDrawUsage:EI,DynamicReadUsage:CI,EdgesGeometry:dD,EllipseCurve:Q_,EqualCompare:JB,EqualDepth:Sx,EqualStencilFunc:xI,EquirectangularReflectionMapping:Yg,EquirectangularRefractionMapping:qg,Euler:Va,EventDispatcher:gl,ExtrudeGeometry:Z_,FileLoader:os,Float16BufferAttribute:bP,Float32BufferAttribute:bt,FloatType:Fa,Fog:k_,FogExp2:V_,FramebufferTexture:VP,FrontSide:fl,Frustum:Rp,FrustumArray:Y_,GLBufferAttribute:iz,GLSL1:OI,GLSL3:s1,GreaterCompare:KB,GreaterDepth:Mx,GreaterEqualCompare:QB,GreaterEqualDepth:Ex,GreaterEqualStencilFunc:SI,GreaterStencilFunc:bI,GridHelper:gz,Group:tc,HalfFloatType:Cp,HemisphereLight:FD,HemisphereLightHelper:mz,IcosahedronGeometry:eb,ImageBitmapLoader:XD,ImageLoader:t0,ImageUtils:nD,IncrementStencilOp:hI,IncrementWrapStencilOp:pI,InstancedBufferAttribute:ch,InstancedBufferGeometry:kD,InstancedInterleavedBuffer:nz,InstancedMesh:AE,Int16BufferAttribute:xP,Int32BufferAttribute:_P,Int8BufferAttribute:gP,IntType:O_,InterleavedBuffer:m0,InterleavedBufferAttribute:Ru,Interpolant:Dp,InterpolateDiscrete:dp,InterpolateLinear:pp,InterpolateSmooth:fx,InterpolationSamplingMode:LI,InterpolationSamplingType:UI,InvertStencilOp:gI,KeepStencilOp:Yf,KeyframeTrack:Is,LOD:cD,LatheGeometry:tb,Layers:vp,LessCompare:WB,LessDepth:Ax,LessEqualCompare:dE,LessEqualDepth:lh,LessEqualStencilFunc:_I,LessStencilFunc:yI,Light:Lu,LightProbe:VD,Line:hc,Line3:uz,LineBasicMaterial:jr,LineCurve:wE,LineCurve3:vD,LineDashedMaterial:DD,LineLoop:SE,LineSegments:_o,LinearFilter:Pi,LinearInterpolant:LE,LinearMipMapLinearFilter:sI,LinearMipMapNearestFilter:aI,LinearMipmapLinearFilter:Ds,LinearMipmapNearestFilter:np,LinearSRGBColorSpace:wu,LinearToneMapping:NB,LinearTransfer:Jg,Loader:Xr,LoaderUtils:Eu,LoadingManager:PE,LoopOnce:HB,LoopPingPong:VB,LoopRepeat:GB,MOUSE:eI,Material:ar,MaterialLoader:cb,MathUtils:mE,Matrix2:qE,Matrix3:tn,Matrix4:Ot,MaxEquation:vB,Mesh:ri,MeshBasicMaterial:Ha,MeshDepthMaterial:OE,MeshDistanceMaterial:NE,MeshLambertMaterial:RD,MeshMatcapMaterial:BD,MeshNormalMaterial:wD,MeshPhongMaterial:TD,MeshPhysicalMaterial:Ls,MeshStandardMaterial:Bp,MeshToonMaterial:CD,MinEquation:gB,MirroredRepeatWrapping:lp,MixOperation:DB,MultiplyBlending:i1,MultiplyOperation:h0,NearestFilter:gr,NearestMipMapLinearFilter:rI,NearestMipMapNearestFilter:iI,NearestMipmapLinearFilter:Kf,NearestMipmapNearestFilter:D_,NeutralToneMapping:zB,NeverCompare:qB,NeverDepth:_x,NeverStencilFunc:vI,NoBlending:ic,NoColorSpace:Ql,NoToneMapping:ll,NormalAnimationBlendMode:z_,NormalBlending:ih,NotEqualCompare:$B,NotEqualDepth:Tx,NotEqualStencilFunc:AI,NumberKeyframeTrack:fh,Object3D:An,ObjectLoader:O4,ObjectSpaceNormalMap:YB,OctahedronGeometry:x0,OneFactor:xB,OneMinusConstantAlphaFactor:BB,OneMinusConstantColorFactor:wB,OneMinusDstAlphaFactor:SB,OneMinusDstColorFactor:MB,OneMinusSrcAlphaFactor:xx,OneMinusSrcColorFactor:bB,OrthographicCamera:Op,PCFShadowMap:R_,PCFSoftShadowMap:tp,PMREMGenerator:d1,Path:i_,PerspectiveCamera:Xi,Plane:_u,PlaneGeometry:yh,PlaneHelper:Az,PointLight:HE,PointLightHelper:dz,Points:EE,PointsMaterial:q_,PolarGridHelper:vz,PolyhedronGeometry:Uu,PositionalAudio:F4,PropertyBinding:Mn,PropertyMixer:WD,QuadraticBezierCurve:RE,QuadraticBezierCurve3:BE,Quaternion:zi,QuaternionKeyframeTrack:hh,QuaternionLinearInterpolant:ID,RED_GREEN_RGTC2_Format:$x,RED_RGTC1_Format:uE,REVISION:f0,RGBADepthPacking:XB,RGBAFormat:Gr,RGBAIntegerFormat:P_,RGBA_ASTC_10x10_Format:Xx,RGBA_ASTC_10x5_Format:Vx,RGBA_ASTC_10x6_Format:kx,RGBA_ASTC_10x8_Format:jx,RGBA_ASTC_12x10_Format:Yx,RGBA_ASTC_12x12_Format:qx,RGBA_ASTC_4x4_Format:Ux,RGBA_ASTC_5x4_Format:Lx,RGBA_ASTC_5x5_Format:Ix,RGBA_ASTC_6x5_Format:Px,RGBA_ASTC_6x6_Format:zx,RGBA_ASTC_8x5_Format:Fx,RGBA_ASTC_8x6_Format:Hx,RGBA_ASTC_8x8_Format:Gx,RGBA_BPTC_Format:Ug,RGBA_ETC2_EAC_Format:Nx,RGBA_PVRTC_2BPPV1_Format:Bx,RGBA_PVRTC_4BPPV1_Format:Rx,RGBA_S3TC_DXT1_Format:Dg,RGBA_S3TC_DXT3_Format:Og,RGBA_S3TC_DXT5_Format:Ng,RGBDepthPacking:lI,RGBFormat:lE,RGBIntegerFormat:oI,RGB_BPTC_SIGNED_Format:Wx,RGB_BPTC_UNSIGNED_Format:Jx,RGB_ETC1_Format:Dx,RGB_ETC2_Format:Ox,RGB_PVRTC_2BPPV1_Format:wx,RGB_PVRTC_4BPPV1_Format:Cx,RGB_S3TC_DXT1_Format:Bg,RGDepthPacking:cI,RGFormat:cE,RGIntegerFormat:I_,RawShaderMaterial:MD,Ray:wp,Raycaster:KD,RectAreaLight:HD,RedFormat:L_,RedIntegerFormat:d0,ReinhardToneMapping:UB,RenderTarget:gE,RenderTarget3D:Z4,RepeatWrapping:Cu,ReplaceStencilOp:fI,ReverseSubtractEquation:mB,RingGeometry:nb,SIGNED_RED_GREEN_RGTC2_Format:Qx,SIGNED_RED_RGTC1_Format:Kx,SRGBColorSpace:Hr,SRGBTransfer:Fn,Scene:j_,ShaderChunk:Wt,ShaderLib:mo,ShaderMaterial:Us,ShadowMaterial:ED,Shape:ah,ShapeGeometry:ib,ShapePath:Mz,ShapeUtils:vo,ShortType:aE,Skeleton:g0,SkeletonHelper:hz,SkinnedMesh:bE,Source:Su,Sphere:vr,SphereGeometry:_0,Spherical:$D,SphericalHarmonics3:GD,SplineCurve:DE,SpotLight:FE,SpotLightHelper:fz,Sprite:lD,SpriteMaterial:_E,SrcAlphaFactor:yx,SrcAlphaSaturateFactor:TB,SrcColorFactor:_B,StaticCopyUsage:RI,StaticDrawUsage:Kg,StaticReadUsage:TI,StereoCamera:L4,StreamCopyUsage:DI,StreamDrawUsage:MI,StreamReadUsage:wI,StringKeyframeTrack:_h,SubtractEquation:pB,SubtractiveBlending:n1,TOUCH:tI,TangentSpaceNormalMap:Nu,TetrahedronGeometry:rb,Texture:ui,TextureLoader:zD,TextureUtils:Dz,Timer:rz,TimestampQuery:NI,TorusGeometry:ab,TorusKnotGeometry:sb,Triangle:za,TriangleFanDrawMode:Zx,TriangleStripDrawMode:hE,TrianglesDrawMode:kB,TubeGeometry:ob,UVMapping:B_,Uint16BufferAttribute:vE,Uint32BufferAttribute:yE,Uint8BufferAttribute:vP,Uint8ClampedBufferAttribute:yP,Uniform:YE,UniformsGroup:tz,UniformsLib:ut,UniformsUtils:xE,UnsignedByteType:Ns,UnsignedInt248Type:up,UnsignedInt5999Type:sE,UnsignedIntType:fc,UnsignedShort4444Type:N_,UnsignedShort5551Type:U_,UnsignedShortType:cp,VSMShadowMap:po,Vector2:Ge,Vector3:K,Vector4:mn,VectorKeyframeTrack:dh,VideoFrameTexture:GP,VideoTexture:fD,WebGL3DRenderTarget:rP,WebGLArrayRenderTarget:iP,WebGLCoordinateSystem:as,WebGLCubeRenderTarget:sD,WebGLRenderTarget:hl,WebGLRenderer:JE,WebGLUtils:r3,WebGPUCoordinateSystem:mp,WebXRController:hx,WireframeGeometry:SD,WrapAroundEnding:Wg,ZeroCurvatureEnding:$f,ZeroFactor:yB,ZeroSlopeEnding:Qf,ZeroStencilOp:uI,createCanvasElement:tD},Symbol.toStringTag,{value:"Module"})),d9=()=>{const n=N.useRef(null),e=N.useRef(null),t=N.useRef(null),i=N.useRef(null),r=N.useRef([]),a=N.useRef(null),o=N.useRef(-1),[c,f]=N.useState([5,3,8,1,9,2,7,4,6]),[p,m]=N.useState(-1),[v,x]=N.useState("");N.useEffect(()=>{if(!n.current)return;const M=new j_;M.background=new ot(0),e.current=M;const b=new Xi(75,n.current.clientWidth/n.current.clientHeight,.1,1e3);b.position.set(0,5,10),b.lookAt(0,0,0),i.current=b;const R=new JE({antialias:!0});R.setSize(n.current.clientWidth,n.current.clientHeight),R.shadowMap.enabled=!0,R.shadowMap.type=tp,n.current.appendChild(R.domElement),t.current=R;const B=new GE(4210752,.6);M.add(B);const D=new lb(16777215,1);D.position.set(10,10,5),D.castShadow=!0,D.shadow.mapSize.width=2048,D.shadow.mapSize.height=2048,M.add(D);const I=()=>{a.current=requestAnimationFrame(I),r.current.forEach((F,V)=>{F&&(F.rotation.y+=.005,V===o.current?(F.position.y=Math.sin(Date.now()*.01+V)*.5+1,F.material.emissive.setHex(4473924)):(F.position.y=0,F.material.emissive.setHex(0)))}),R.render(M,b)};I();const U=()=>{n.current&&b&&R&&(b.aspect=n.current.clientWidth/n.current.clientHeight,b.updateProjectionMatrix(),R.setSize(n.current.clientWidth,n.current.clientHeight))};return window.addEventListener("resize",U),()=>{window.removeEventListener("resize",U),a.current&&cancelAnimationFrame(a.current),n.current&&R.domElement&&n.current.removeChild(R.domElement),R.dispose()}},[]),N.useEffect(()=>{e.current&&(r.current.forEach(M=>{M&&e.current&&e.current.remove(M)}),r.current=[],c.forEach((M,b)=>{const R=new mc(1,M*.3,1),B=new Bp({color:new ot().setHSL(M*.1%1,.7,.6),emissive:0,emissiveIntensity:1}),D=new ri(R,B);D.position.x=(b-c.length/2)*1.5,D.position.y=0,D.castShadow=!0,D.receiveShadow=!0;const I=document.createElement("canvas"),U=I.getContext("2d");I.width=64,I.height=64,U.fillStyle="white",U.font="20px Arial",U.textAlign="center",U.fillText(M.toString(),32,40);const F=new hD(I),V=new Ha({map:F,transparent:!0}),P=new yh(.8,.8),L=new ri(P,V),k=new ri(P,V);L.position.set(0,M*.15+.5,.51),k.position.set(0,M*.15+.5,-.51),D.add(L),D.add(k),e.current.add(D),r.current.push(D)}))},[c]),N.useEffect(()=>{o.current=p},[p]);const _=M=>{switch(x(M),M){case"sort":const b=[...c].sort((B,D)=>B-D);S(b);break;case"reverse":f([...c].reverse());break;case"shuffle":const R=[...c];for(let B=R.length-1;B>0;B--){const D=Math.floor(Math.random()*(B+1));[R[B],R[D]]=[R[D],R[B]]}f(R);break;case"reset":f([5,3,8,1,9,2,7,4,6]),m(-1);break}},S=M=>{setTimeout(()=>{f(M)},500)},T=M=>{m(p===M?-1:M)};return J.jsxs("div",{className:"min-h-screen bg-black text-white",children:[J.jsxs("div",{className:"relative z-10 p-6",children:[J.jsx("div",{className:"flex items-center justify-between mb-6",children:J.jsxs("div",{className:"flex items-center space-x-4",children:[J.jsx(nE,{to:"/dsa",className:"text-blue-400 hover:text-blue-300 transition-colors flex items-center",children:" Back to DSA"}),J.jsx("h1",{className:"text-3xl font-bold",children:"Array Visualization"})]})}),J.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 backdrop-blur-sm",children:[J.jsxs("div",{className:"flex flex-wrap gap-3 mb-4",children:[J.jsx("button",{onClick:()=>_("sort"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"Sort Array"}),J.jsx("button",{onClick:()=>_("reverse"),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg transition-colors",children:"Reverse"}),J.jsx("button",{onClick:()=>_("shuffle"),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors",children:"Shuffle"}),J.jsx("button",{onClick:()=>_("reset"),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:"Reset"})]}),J.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[J.jsxs("span",{children:["Array: [",c.join(", "),"]"]}),p>=0&&J.jsxs("span",{className:"text-yellow-400",children:["Selected: Index ",p,", Value ",c[p]]})]})]})]}),J.jsx("div",{ref:n,className:"absolute inset-0 z-0 items-center justify-center mt-[-700px]",style:{height:"100vh",width:"100vw"}}),J.jsxs("div",{className:"absolute bottom-10 left-1/2 transform -translate-x-1/2 z-10",children:[J.jsx("div",{className:"flex space-x-2",children:c.map((M,b)=>J.jsx("button",{onClick:()=>T(b),className:`
                                w-12 h-12 rounded-lg border-2 flex items-center justify-center text-sm font-bold
                                transition-all duration-200 hover:scale-110
                                ${p===b?"bg-yellow-500 border-yellow-400 text-black shadow-lg shadow-yellow-500/50":"bg-gray-800 border-gray-600 text-white hover:bg-gray-700"}
                            `,children:b},b))}),J.jsx("p",{className:"text-center text-gray-400 text-sm mt-2",children:"Click index to select cube"})]}),J.jsxs("div",{className:"absolute top-70 right-6 bg-gray-900/80 rounded-lg p-4 backdrop-blur-sm max-w-xs",children:[J.jsx("h3",{className:"text-lg font-bold mb-3",children:"Array Operations"}),J.jsxs("div",{className:"space-y-2 text-sm",children:[J.jsx("div",{children:J.jsx("strong",{children:"Time Complexity:"})}),J.jsx("div",{children:" Access: O(1)"}),J.jsx("div",{children:" Search: O(n)"}),J.jsx("div",{children:" Insertion: O(n)"}),J.jsx("div",{children:" Deletion: O(n)"})]}),J.jsxs("div",{className:"mt-4",children:[J.jsx("strong",{children:"Space Complexity:"})," O(n)"]})]})]})},p9=()=>{const n=$1(),[e,t]=N.useState(null),i=[{id:"singly-linked-list",title:"Singly Linked List",description:"The simplest type of linked list in which every node contains some data and a pointer to the next node of the same data type.",color:"from-blue-600 to-blue-800"},{id:"doubly-linked-list",title:"Doubly Linked List",description:"A two-way linked list is a more complex type of linked list that contains a pointer to the next as well as the previous node in sequence.",color:"from-blue-600 to-blue-800"},{id:"circular-linked-list",title:"Circular Linked List",description:"A type of linked list in which the last node's next pointer points back to the first node of the list, creating a circular structure. This design allows for continuous traversal of the list, as there is no null to end the list.",color:"from-blue-600 to-blue-800"},{id:"doubly-circular-linked-list",title:"Doubly Circular Linked List",description:"A complex type of linked list that contains a pointer to the next as well as the previous node in the sequence.",color:"from-blue-600 to-blue-800"}],r=(o,c)=>{n(`/dsa/data-structure/linked-list/${c}`)},a=({item:o,type:c})=>J.jsxs("div",{className:`
                relative overflow-hidden rounded-xl bg-gradient-to-br ${o.color} 
                p-6 cursor-pointer transform transition-all duration-300 ease-out
                hover:scale-105 hover:shadow-2xl hover:shadow-black/50
                border border-gray-700/50 hover:border-gray-500/50
                ${e===o.id?"scale-105 shadow-2xl shadow-black/50":""}
            `,onClick:()=>r(c,o.id),onMouseEnter:()=>t(o.id),onMouseLeave:()=>t(null),children:[J.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white/10 rounded-full -translate-y-6 translate-x-6"}),J.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/5 rounded-full translate-y-6 -translate-x-6"}),J.jsxs("div",{className:"relative z-10",children:[J.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:o.title}),J.jsx("p",{className:"text-gray-200 text-sm leading-relaxed",children:o.description}),J.jsx("div",{className:"mt-4 flex items-center text-white/80",children:J.jsx("span",{className:"text-sm font-medium",children:"Explore "})})]})]});return J.jsx("div",{className:"min-h-screen px-6 py-10 bg-black",children:J.jsxs("div",{className:"max-w-7xl mx-auto py-12",children:[J.jsxs("div",{className:"text-center mb-12",children:[J.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-white via-gray-300 to-gray-500 bg-clip-text text-transparent mb-4 h-[8rem] sm:h-[4rem]",children:"Linked Lists"}),J.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"Master the fundamentals of computer science through interactive visualizations and explanations"})]}),J.jsxs("div",{className:"mb-16",children:[J.jsxs("div",{className:"flex items-center mb-8",children:[J.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-blue-500 to-purple-500 rounded-full mr-4"}),J.jsx("h2",{className:"text-3xl font-bold text-white",children:"Data Structures"})]}),J.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i.map(o=>J.jsx(a,{item:o,type:"data-structure"},o.id))})]}),J.jsx("div",{className:"text-center py-12",children:J.jsx("p",{className:"text-gray-500",children:"Click on any card to explore interactive visualizations and detailed explanations"})})]})})};var eS={exports:{}},ql={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JC;function m9(){return JC||(JC=1,ql.ConcurrentRoot=1,ql.ContinuousEventPriority=8,ql.DefaultEventPriority=32,ql.DiscreteEventPriority=2,ql.IdleEventPriority=268435456,ql.LegacyRoot=0,ql.NoEventPriority=0),ql}var KC;function g9(){return KC||(KC=1,eS.exports=m9()),eS.exports}var px=g9(),tS={exports:{}},nS={},iS={exports:{}},rS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $C;function v9(){if($C)return rS;$C=1;var n=Sp();function e(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,a=n.useLayoutEffect,o=n.useDebugValue;function c(v,x){var _=x(),S=i({inst:{value:_,getSnapshot:x}}),T=S[0].inst,M=S[1];return a(function(){T.value=_,T.getSnapshot=x,f(T)&&M({inst:T})},[v,_,x]),r(function(){return f(T)&&M({inst:T}),v(function(){f(T)&&M({inst:T})})},[v]),o(_),_}function f(v){var x=v.getSnapshot;v=v.value;try{var _=x();return!t(v,_)}catch{return!0}}function p(v,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:c;return rS.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,rS}var QC;function y9(){return QC||(QC=1,iS.exports=v9()),iS.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZC;function x9(){if(ZC)return nS;ZC=1;var n=Sp(),e=y9();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=n.useRef,o=n.useEffect,c=n.useMemo,f=n.useDebugValue;return nS.useSyncExternalStoreWithSelector=function(p,m,v,x,_){var S=a(null);if(S.current===null){var T={hasValue:!1,value:null};S.current=T}else T=S.current;S=c(function(){function b(U){if(!R){if(R=!0,B=U,U=x(U),_!==void 0&&T.hasValue){var F=T.value;if(_(F,U))return D=F}return D=U}if(F=D,i(B,U))return F;var V=x(U);return _!==void 0&&_(F,V)?(B=U,F):(B=U,D=V)}var R=!1,B,D,I=v===void 0?null:v;return[function(){return b(m())},I===null?void 0:function(){return b(I())}]},[m,v,x,_]);var M=r(p,S[0],S[1]);return o(function(){T.hasValue=!0,T.value=M},[M]),f(M),M},nS}var ew;function _9(){return ew||(ew=1,tS.exports=x9()),tS.exports}var b9=_9();const A9=vh(b9),tw=n=>{let e;const t=new Set,i=(p,m)=>{const v=typeof p=="function"?p(e):p;if(!Object.is(v,e)){const x=e;e=m??(typeof v!="object"||v===null)?v:Object.assign({},e,v),t.forEach(_=>_(e,x))}},r=()=>e,c={setState:i,getState:r,getInitialState:()=>f,subscribe:p=>(t.add(p),()=>t.delete(p))},f=e=n(i,r,c);return c},S9=n=>n?tw(n):tw,{useSyncExternalStoreWithSelector:E9}=A9,M9=n=>n;function T9(n,e=M9,t){const i=E9(n.subscribe,n.getState,n.getInitialState,e,t);return re.useDebugValue(i),i}const nw=(n,e)=>{const t=S9(n),i=(r,a=e)=>T9(t,r,a);return Object.assign(i,t),i},C9=(n,e)=>n?nw(n,e):nw,w9=n=>typeof n=="object"&&typeof n.then=="function",eh=[];function s3(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function o3(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const a of eh)if(s3(e,a.keys,a.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return i.lifespan&&i.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,i.lifespan)),a.response;if(!t)throw a.promise}const r={keys:e,equal:i.equal,remove:()=>{const a=eh.indexOf(r);a!==-1&&eh.splice(a,1)},promise:(w9(n)?n:n(...e)).then(a=>{r.response=a,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(a=>r.error=a)};if(eh.push(r),!t)throw r.promise}const R9=(n,e,t)=>o3(n,e,!1,t),B9=(n,e,t)=>void o3(n,e,!0,t),D9=n=>{if(n===void 0||n.length===0)eh.splice(0,eh.length);else{const e=eh.find(t=>s3(n,t.keys,t.equal));e&&e.remove()}};var aS={exports:{}},sS={exports:{}},oS={exports:{}},lS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw;function O9(){return iw||(iw=1,function(n){function e(G,$){var Q=G.length;G.push($);e:for(;0<Q;){var he=Q-1>>>1,Y=G[he];if(0<r(Y,$))G[he]=$,G[Q]=Y,Q=he;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var $=G[0],Q=G.pop();if(Q!==$){G[0]=Q;e:for(var he=0,Y=G.length,ae=Y>>>1;he<ae;){var Se=2*(he+1)-1,Re=G[Se],Ue=Se+1,pe=G[Ue];if(0>r(Re,Q))Ue<Y&&0>r(pe,Re)?(G[he]=pe,G[Ue]=Q,he=Ue):(G[he]=Re,G[Se]=Q,he=Se);else if(Ue<Y&&0>r(pe,Q))G[he]=pe,G[Ue]=Q,he=Ue;else break e}}return $}function r(G,$){var Q=G.sortIndex-$.sortIndex;return Q!==0?Q:G.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var f=[],p=[],m=1,v=null,x=3,_=!1,S=!1,T=!1,M=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function B(G){for(var $=t(p);$!==null;){if($.callback===null)i(p);else if($.startTime<=G)i(p),$.sortIndex=$.expirationTime,e(f,$);else break;$=t(p)}}function D(G){if(T=!1,B(G),!S)if(t(f)!==null)S=!0,ue();else{var $=t(p);$!==null&&fe(D,$.startTime-G)}}var I=!1,U=-1,F=5,V=-1;function P(){return!(n.unstable_now()-V<F)}function L(){if(I){var G=n.unstable_now();V=G;var $=!0;try{e:{S=!1,T&&(T=!1,b(U),U=-1),_=!0;var Q=x;try{t:{for(B(G),v=t(f);v!==null&&!(v.expirationTime>G&&P());){var he=v.callback;if(typeof he=="function"){v.callback=null,x=v.priorityLevel;var Y=he(v.expirationTime<=G);if(G=n.unstable_now(),typeof Y=="function"){v.callback=Y,B(G),$=!0;break t}v===t(f)&&i(f),B(G)}else i(f);v=t(f)}if(v!==null)$=!0;else{var ae=t(p);ae!==null&&fe(D,ae.startTime-G),$=!1}}break e}finally{v=null,x=Q,_=!1}$=void 0}}finally{$?k():I=!1}}}var k;if(typeof R=="function")k=function(){R(L)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,te=ie.port2;ie.port1.onmessage=L,k=function(){te.postMessage(null)}}else k=function(){M(L,0)};function ue(){I||(I=!0,k())}function fe(G,$){U=M(function(){G(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){S||_||(S=!0,ue())},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(G){switch(x){case 1:case 2:case 3:var $=3;break;default:$=x}var Q=x;x=$;try{return G()}finally{x=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,$){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Q=x;x=G;try{return $()}finally{x=Q}},n.unstable_scheduleCallback=function(G,$,Q){var he=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?he+Q:he):Q=he,G){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=Q+Y,G={id:m++,callback:$,priorityLevel:G,startTime:Q,expirationTime:Y,sortIndex:-1},Q>he?(G.sortIndex=Q,e(p,G),t(f)===null&&G===t(p)&&(T?(b(U),U=-1):T=!0,fe(D,Q-he))):(G.sortIndex=Y,e(f,G),S||_||(S=!0,ue())),G},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(G){var $=x;return function(){var Q=x;x=$;try{return G.apply(this,arguments)}finally{x=Q}}}}(lS)),lS}var rw;function N9(){return rw||(rw=1,oS.exports=O9()),oS.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function U9(){return aw||(aw=1,function(n){n.exports=function(e){function t(u,h,y,E){return new mm(u,h,y,E)}function i(){}function r(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(u){return u===null||typeof u!="object"?null:(u=$s&&u[$s]||u["@@iterator"],typeof u=="function"?u:null)}function o(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===xm?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case Fo:return"Fragment";case Ma:return"Portal";case Xh:return"Profiler";case ff:return"StrictMode";case Yh:return"Suspense";case Fc:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case Ya:return(u.displayName||"Context")+".Provider";case vm:return(u._context.displayName||"Context")+".Consumer";case df:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case qh:return h=u.displayName||null,h!==null?h:o(u.type)||"Memo";case Ta:h=u._payload,u=u._init;try{return o(u(h))}catch{}}return null}function c(u){if(ds===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);ds=h&&h[1]||"",Qs=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ds+u+Qs}function f(u,h){if(!u||Al)return"";Al=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(h){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(qt){var ft=qt}Reflect.construct(u,[],ct)}else{try{ct.call()}catch(qt){ft=qt}u.call(ct.prototype)}}else{try{throw Error()}catch(qt){ft=qt}(ct=u())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(qt){if(qt&&ft&&typeof qt.stack=="string")return[qt.stack,ft.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=E.DetermineComponentFrameRoot(),W=O[0],ne=O[1];if(W&&ne){var ve=W.split(`
`),Le=ne.split(`
`);for(w=E=0;E<ve.length&&!ve[E].includes("DetermineComponentFrameRoot");)E++;for(;w<Le.length&&!Le[w].includes("DetermineComponentFrameRoot");)w++;if(E===ve.length||w===Le.length)for(E=ve.length-1,w=Le.length-1;1<=E&&0<=w&&ve[E]!==Le[w];)w--;for(;1<=E&&0<=w;E--,w--)if(ve[E]!==Le[w]){if(E!==1||w!==1)do if(E--,w--,0>w||ve[E]!==Le[w]){var Ze=`
`+ve[E].replace(" at new "," at ");return u.displayName&&Ze.includes("<anonymous>")&&(Ze=Ze.replace("<anonymous>",u.displayName)),Ze}while(1<=E&&0<=w);break}}}finally{Al=!1,Error.prepareStackTrace=y}return(y=u?u.displayName||u.name:"")?c(y):""}function p(u){switch(u.tag){case 26:case 27:case 5:return c(u.type);case 16:return c("Lazy");case 13:return c("Suspense");case 19:return c("SuspenseList");case 0:case 15:return u=f(u.type,!1),u;case 11:return u=f(u.type.render,!1),u;case 1:return u=f(u.type,!0),u;default:return""}}function m(u){try{var h="";do h+=p(u),u=u.return;while(u);return h}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}function v(u){var h=u,y=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(y=h.return),u=h.return;while(u)}return h.tag===3?y:null}function x(u){if(v(u)!==u)throw Error(r(188))}function _(u){var h=u.alternate;if(!h){if(h=v(u),h===null)throw Error(r(188));return h!==u?null:u}for(var y=u,E=h;;){var w=y.return;if(w===null)break;var O=w.alternate;if(O===null){if(E=w.return,E!==null){y=E;continue}break}if(w.child===O.child){for(O=w.child;O;){if(O===y)return x(w),u;if(O===E)return x(w),h;O=O.sibling}throw Error(r(188))}if(y.return!==E.return)y=w,E=O;else{for(var W=!1,ne=w.child;ne;){if(ne===y){W=!0,y=w,E=O;break}if(ne===E){W=!0,E=w,y=O;break}ne=ne.sibling}if(!W){for(ne=O.child;ne;){if(ne===y){W=!0,y=O,E=w;break}if(ne===E){W=!0,E=O,y=w;break}ne=ne.sibling}if(!W)throw Error(r(189))}}if(y.alternate!==E)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?u:h}function S(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u;for(u=u.child;u!==null;){if(h=S(u),h!==null)return h;u=u.sibling}return null}function T(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u;for(u=u.child;u!==null;){if(u.tag!==4&&(h=T(u),h!==null))return h;u=u.sibling}return null}function M(u){return{current:u}}function b(u){0>no||(u.current=di[no],di[no]=null,no--)}function R(u,h){no++,di[no]=u.current,u.current=h}function B(u){return u>>>=0,u===0?32:31-(Pv(u)/zv|0)|0}function D(u){var h=u&42;if(h!==0)return h;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function I(u,h){var y=u.pendingLanes;if(y===0)return 0;var E=0,w=u.suspendedLanes,O=u.pingedLanes,W=u.warmLanes;u=u.finishedLanes!==0;var ne=y&134217727;return ne!==0?(y=ne&~w,y!==0?E=D(y):(O&=ne,O!==0?E=D(O):u||(W=ne&~W,W!==0&&(E=D(W))))):(ne=y&~w,ne!==0?E=D(ne):O!==0?E=D(O):u||(W=y&~W,W!==0&&(E=D(W)))),E===0?0:h!==0&&h!==E&&(h&w)===0&&(w=E&-E,W=h&-h,w>=W||w===32&&(W&4194176)!==0)?h:E}function U(u,h){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&h)===0}function F(u,h){switch(u){case 1:case 2:case 4:case 8:return h+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V(){var u=ms;return ms<<=1,(ms&4194176)===0&&(ms=128),u}function P(){var u=Ml;return Ml<<=1,(Ml&62914560)===0&&(Ml=4194304),u}function L(u){for(var h=[],y=0;31>y;y++)h.push(u);return h}function k(u,h){u.pendingLanes|=h,h!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function ie(u,h,y,E,w,O){var W=u.pendingLanes;u.pendingLanes=y,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=y,u.entangledLanes&=y,u.errorRecoveryDisabledLanes&=y,u.shellSuspendCounter=0;var ne=u.entanglements,ve=u.expirationTimes,Le=u.hiddenUpdates;for(y=W&~y;0<y;){var Ze=31-Sr(y),ct=1<<Ze;ne[Ze]=0,ve[Ze]=-1;var ft=Le[Ze];if(ft!==null)for(Le[Ze]=null,Ze=0;Ze<ft.length;Ze++){var qt=ft[Ze];qt!==null&&(qt.lane&=-536870913)}y&=~ct}E!==0&&te(u,E,0),O!==0&&w===0&&u.tag!==0&&(u.suspendedLanes|=O&~(W&~h))}function te(u,h,y){u.pendingLanes|=h,u.suspendedLanes&=~h;var E=31-Sr(h);u.entangledLanes|=h,u.entanglements[E]=u.entanglements[E]|1073741824|y&4194218}function ue(u,h){var y=u.entangledLanes|=h;for(u=u.entanglements;y;){var E=31-Sr(y),w=1<<E;w&h|u[E]&h&&(u[E]|=h),y&=~w}}function fe(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function G(u){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(pi,u,void 0,(u.current.flags&128)===128)}catch{}}function $(u){if(typeof Gv=="function"&&Gi(u),Ur&&typeof Ur.setStrictMode=="function")try{Ur.setStrictMode(pi,u)}catch{}}function Q(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}function he(u,h){if(typeof u=="object"&&u!==null){var y=zm.get(u);return y!==void 0?y:(h={value:u,source:h,stack:m(h)},zm.set(u,h),h)}return{value:u,source:h,stack:m(h)}}function Y(u,h){Tl[Cl++]=Wc,Tl[Cl++]=wl,wl=u,Wc=h}function ae(u,h,y){ta[na++]=Ja,ta[na++]=Ka,ta[na++]=Yo,Yo=u;var E=Ja;u=Ka;var w=32-Sr(E)-1;E&=~(1<<w),y+=1;var O=32-Sr(h)+w;if(30<O){var W=w-w%5;O=(E&(1<<W)-1).toString(32),E>>=W,w-=W,Ja=1<<32-Sr(h)+w|y<<w|E,Ka=O+u}else Ja=1<<O|y<<w|E,Ka=u}function Se(u){u.return!==null&&(Y(u,1),ae(u,1,0))}function Re(u){for(;u===wl;)wl=Tl[--Cl],Tl[Cl]=null,Wc=Tl[--Cl],Tl[Cl]=null;for(;u===Yo;)Yo=ta[--na],ta[na]=null,Ka=ta[--na],ta[na]=null,Ja=ta[--na],ta[na]=null}function Ue(u,h){R(gs,h),R(Jc,u),R(Ni,null),u=nv(h),b(Ni),R(Ni,u)}function pe(){b(Ni),b(Jc),b(gs)}function Be(u){u.memoizedState!==null&&R(Rl,u);var h=Ni.current,y=kc(h,u.type);h!==y&&(R(Jc,u),R(Ni,y))}function Fe(u){Jc.current===u&&(b(Ni),b(Jc)),Rl.current===u&&(b(Rl),br?qa._currentValue=Go:qa._currentValue2=Go)}function We(u){var h=Error(r(418,""));throw Z(he(h,u)),Af}function st(u,h){if(!tr)throw Error(r(175));Cv(u.stateNode,u.type,u.memoizedProps,h,u)||We(u)}function St(u){for(nr=u.return;nr;)switch(nr.tag){case 3:case 27:Vi=!0;return;case 5:case 13:Vi=!1;return;default:nr=nr.return}}function ln(u){if(!tr||u!==nr)return!1;if(!vn)return St(u),vn=!0,!1;var h=!1;if(Ln?u.tag!==3&&u.tag!==27&&(u.tag!==5||nd(u.type)&&!$t(u.type,u.memoizedProps))&&(h=!0):u.tag!==3&&(u.tag!==5||nd(u.type)&&!$t(u.type,u.memoizedProps))&&(h=!0),h&&ir&&We(u),St(u),u.tag===13){if(!tr)throw Error(r(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));ir=Rv(u)}else ir=nr?Um(u.stateNode):null;return!0}function Et(){tr&&(ir=nr=null,vn=!1)}function Z(u){Ra===null?Ra=[u]:Ra.push(u)}function Pe(){for(var u=Bl,h=$a=Bl=0;h<u;){var y=Ba[h];Ba[h++]=null;var E=Ba[h];Ba[h++]=null;var w=Ba[h];Ba[h++]=null;var O=Ba[h];if(Ba[h++]=null,E!==null&&w!==null){var W=E.pending;W===null?w.next=w:(w.next=W.next,W.next=w),E.pending=w}O!==0&&et(y,w,O)}}function Oe(u,h,y,E){Ba[Bl++]=u,Ba[Bl++]=h,Ba[Bl++]=y,Ba[Bl++]=E,$a|=E,u.lanes|=E,u=u.alternate,u!==null&&(u.lanes|=E)}function Xe(u,h,y,E){return Oe(u,h,y,E),Ve(u)}function De(u,h){return Oe(u,null,null,h),Ve(u)}function et(u,h,y){u.lanes|=y;var E=u.alternate;E!==null&&(E.lanes|=y);for(var w=!1,O=u.return;O!==null;)O.childLanes|=y,E=O.alternate,E!==null&&(E.childLanes|=y),O.tag===22&&(u=O.stateNode,u===null||u._visibility&1||(w=!0)),u=O,O=O.return;w&&h!==null&&u.tag===3&&(O=u.stateNode,w=31-Sr(y),O=O.hiddenUpdates,u=O[w],u===null?O[w]=[h]:u.push(h),h.lane=y|536870912)}function Ve(u){if(50<ru)throw ru=0,vd=null,Error(r(185));for(var h=u.return;h!==null;)u=h,h=u.return;return u.tag===3?u.stateNode:null}function Ye(u){u!==io&&u.next===null&&(io===null?Sf=io=u:io=io.next=u),Gn=!0,Dl||(Dl=!0,be(Tt))}function Mt(u,h){if(!Fm&&Gn){Fm=!0;do for(var y=!1,E=Sf;E!==null;){if(u!==0){var w=E.pendingLanes;if(w===0)var O=0;else{var W=E.suspendedLanes,ne=E.pingedLanes;O=(1<<31-Sr(42|u)+1)-1,O&=w&~(W&~ne),O=O&201326677?O&201326677|1:O?O|2:0}O!==0&&(y=!0,de(E,O))}else O=fn,O=I(E,E===Rn?O:0),(O&3)===0||U(E,O)||(y=!0,de(E,O));E=E.next}while(y);Fm=!1}}function Tt(){Gn=Dl=!1;var u=0;Kc!==0&&(sv()&&(u=Kc),Kc=0);for(var h=wa(),y=null,E=Sf;E!==null;){var w=E.next,O=j(E,h);O===0?(E.next=null,y===null?Sf=w:y.next=w,w===null&&(io=y)):(y=E,(u!==0||(O&3)!==0)&&(Gn=!0)),E=w}Mt(u)}function j(u,h){for(var y=u.suspendedLanes,E=u.pingedLanes,w=u.expirationTimes,O=u.pendingLanes&-62914561;0<O;){var W=31-Sr(O),ne=1<<W,ve=w[W];ve===-1?((ne&y)===0||(ne&E)!==0)&&(w[W]=F(ne,h)):ve<=h&&(u.expiredLanes|=ne),O&=~ne}if(h=Rn,y=fn,y=I(u,u===h?y:0),E=u.callbackNode,y===0||u===h&&Un===2||u.cancelPendingCommit!==null)return E!==null&&E!==null&&sd(E),u.callbackNode=null,u.callbackPriority=0;if((y&3)===0||U(u,y)){if(h=y&-y,h===u.callbackPriority)return h;switch(E!==null&&sd(E),fe(y)){case 2:case 8:y=Hv;break;case 32:y=cd;break;case 268435456:y=Db;break;default:y=cd}return E=H.bind(null,u),y=bf(y,E),u.callbackPriority=h,u.callbackNode=y,h}return E!==null&&E!==null&&sd(E),u.callbackPriority=2,u.callbackNode=null,2}function H(u,h){var y=u.callbackNode;if(Xa()&&u.callbackNode!==y)return null;var E=fn;return E=I(u,u===Rn?E:0),E===0?null:(Uo(u,E,h),j(u,wa()),u.callbackNode!=null&&u.callbackNode===y?H.bind(null,u):null)}function de(u,h){if(Xa())return null;Uo(u,h,!0)}function be(u){Em?to(function(){(_n&6)!==0?bf(ld,u):u()}):bf(ld,u)}function Ne(){return Kc===0&&(Kc=V()),Kc}function we(u,h){if($c===null){var y=$c=[];Ol=0,ia=Ne(),Nl={status:"pending",value:void 0,then:function(E){y.push(E)}}}return Ol++,h.then(at,at),h}function at(){if(--Ol===0&&$c!==null){Nl!==null&&(Nl.status="fulfilled");var u=$c;$c=null,ia=0,Nl=null;for(var h=0;h<u.length;h++)(0,u[h])()}}function Qe(u,h){var y=[],E={status:"pending",value:null,reason:null,then:function(w){y.push(w)}};return u.then(function(){E.status="fulfilled",E.value=h;for(var w=0;w<y.length;w++)(0,y[w])(h)},function(w){for(E.status="rejected",E.reason=w,w=0;w<y.length;w++)(0,y[w])(void 0)}),E}function pt(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mt(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function je(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function tt(u,h,y){var E=u.updateQueue;if(E===null)return null;if(E=E.shared,(_n&2)!==0){var w=E.pending;return w===null?h.next=h:(h.next=w.next,w.next=h),E.pending=h,h=Ve(u),et(u,null,y),h}return Oe(u,E,h,y),Ve(u)}function vt(u,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194176)!==0)){var E=h.lanes;E&=u.pendingLanes,y|=E,h.lanes=y,ue(u,y)}}function gt(u,h){var y=u.updateQueue,E=u.alternate;if(E!==null&&(E=E.updateQueue,y===E)){var w=null,O=null;if(y=y.firstBaseUpdate,y!==null){do{var W={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};O===null?w=O=W:O=O.next=W,y=y.next}while(y!==null);O===null?w=O=h:O=O.next=h}else w=O=h;y={baseState:E.baseState,firstBaseUpdate:w,lastBaseUpdate:O,shared:E.shared,callbacks:E.callbacks},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=h:u.next=h,y.lastBaseUpdate=h}function nt(){if(Ul){var u=Nl;if(u!==null)throw u}}function zt(u,h,y,E){Ul=!1;var w=u.updateQueue;ro=!1;var O=w.firstBaseUpdate,W=w.lastBaseUpdate,ne=w.shared.pending;if(ne!==null){w.shared.pending=null;var ve=ne,Le=ve.next;ve.next=null,W===null?O=Le:W.next=Le,W=ve;var Ze=u.alternate;Ze!==null&&(Ze=Ze.updateQueue,ne=Ze.lastBaseUpdate,ne!==W&&(ne===null?Ze.firstBaseUpdate=Le:ne.next=Le,Ze.lastBaseUpdate=ve))}if(O!==null){var ct=w.baseState;W=0,Ze=Le=ve=null,ne=O;do{var ft=ne.lane&-536870913,qt=ft!==ne.lane;if(qt?(fn&ft)===ft:(E&ft)===ft){ft!==0&&ft===ia&&(Ul=!0),Ze!==null&&(Ze=Ze.next={lane:0,tag:ne.tag,payload:ne.payload,callback:null,next:null});e:{var fa=u,tl=ne;ft=h;var nl=y;switch(tl.tag){case 1:if(fa=tl.payload,typeof fa=="function"){ct=fa.call(nl,ct,ft);break e}ct=fa;break e;case 3:fa.flags=fa.flags&-65537|128;case 0:if(fa=tl.payload,ft=typeof fa=="function"?fa.call(nl,ct,ft):fa,ft==null)break e;ct=jh({},ct,ft);break e;case 2:ro=!0}}ft=ne.callback,ft!==null&&(u.flags|=64,qt&&(u.flags|=8192),qt=w.callbacks,qt===null?w.callbacks=[ft]:qt.push(ft))}else qt={lane:ft,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},Ze===null?(Le=Ze=qt,ve=ct):Ze=Ze.next=qt,W|=ft;if(ne=ne.next,ne===null){if(ne=w.shared.pending,ne===null)break;qt=ne,ne=qt.next,qt.next=null,w.lastBaseUpdate=qt,w.shared.pending=null}}while(!0);Ze===null&&(ve=ct),w.baseState=ve,w.firstBaseUpdate=Le,w.lastBaseUpdate=Ze,O===null&&(w.shared.lanes=0),ca|=W,u.lanes=W,u.memoizedState=ct}}function le(u,h){if(typeof u!="function")throw Error(r(191,u));u.call(h)}function Ke(u,h){var y=u.callbacks;if(y!==null)for(u.callbacks=null,u=0;u<y.length;u++)le(y[u],h)}function it(u,h){if(Lr(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var y=Object.keys(u),E=Object.keys(h);if(y.length!==E.length)return!1;for(E=0;E<y.length;E++){var w=y[E];if(!vs.call(h,w)||!Lr(u[w],h[w]))return!1}return!0}function ht(u){return u=u.status,u==="fulfilled"||u==="rejected"}function qe(){}function He(u,h,y){switch(y=u[y],y===void 0?u.push(h):y!==h&&(h.then(qe,qe),h=y),h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,u===Qc?Error(r(483)):u;default:if(typeof h.status=="string")h.then(qe,qe);else{if(u=Rn,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=h,u.status="pending",u.then(function(E){if(h.status==="pending"){var w=h;w.status="fulfilled",w.value=E}},function(E){if(h.status==="pending"){var w=h;w.status="rejected",w.reason=E}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,u===Qc?Error(r(483)):u}throw qo=h,Qc}}function yt(){if(qo===null)throw Error(r(459));var u=qo;return qo=null,u}function Lt(u){var h=Jo;return Jo+=1,Wo===null&&(Wo=[]),He(Wo,u,h)}function gn(u,h){h=h.props.ref,u.ref=h!==void 0?h:null}function un(u,h){throw h.$$typeof===Eb?Error(r(525)):(u=Object.prototype.toString.call(h),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u)))}function xa(u){var h=u._init;return h(u._payload)}function bi(u){function h(Ae,se){if(u){var Ce=Ae.deletions;Ce===null?(Ae.deletions=[se],Ae.flags|=16):Ce.push(se)}}function y(Ae,se){if(!u)return null;for(;se!==null;)h(Ae,se),se=se.sibling;return null}function E(Ae){for(var se=new Map;Ae!==null;)Ae.key!==null?se.set(Ae.key,Ae):se.set(Ae.index,Ae),Ae=Ae.sibling;return se}function w(Ae,se){return Ae=Ea(Ae,se),Ae.index=0,Ae.sibling=null,Ae}function O(Ae,se,Ce){return Ae.index=Ce,u?(Ce=Ae.alternate,Ce!==null?(Ce=Ce.index,Ce<se?(Ae.flags|=33554434,se):Ce):(Ae.flags|=33554434,se)):(Ae.flags|=1048576,se)}function W(Ae){return u&&Ae.alternate===null&&(Ae.flags|=33554434),Ae}function ne(Ae,se,Ce,$e){return se===null||se.tag!==6?(se=Vh(Ce,Ae.mode,$e),se.return=Ae,se):(se=w(se,Ce),se.return=Ae,se)}function ve(Ae,se,Ce,$e){var Ct=Ce.type;return Ct===Fo?Ze(Ae,se,Ce.props.children,$e,Ce.key):se!==null&&(se.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===Ta&&xa(Ct)===se.type)?(se=w(se,Ce.props),gn(se,Ce),se.return=Ae,se):(se=hs(Ce.type,Ce.key,Ce.props,null,Ae.mode,$e),gn(se,Ce),se.return=Ae,se)}function Le(Ae,se,Ce,$e){return se===null||se.tag!==4||se.stateNode.containerInfo!==Ce.containerInfo||se.stateNode.implementation!==Ce.implementation?(se=gm(Ce,Ae.mode,$e),se.return=Ae,se):(se=w(se,Ce.children||[]),se.return=Ae,se)}function Ze(Ae,se,Ce,$e,Ct){return se===null||se.tag!==7?(se=ai(Ce,Ae.mode,$e,Ct),se.return=Ae,se):(se=w(se,Ce),se.return=Ae,se)}function ct(Ae,se,Ce){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=Vh(""+se,Ae.mode,Ce),se.return=Ae,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case uf:return Ce=hs(se.type,se.key,se.props,null,Ae.mode,Ce),gn(Ce,se),Ce.return=Ae,Ce;case Ma:return se=gm(se,Ae.mode,Ce),se.return=Ae,se;case Ta:var $e=se._init;return se=$e(se._payload),ct(Ae,se,Ce)}if(Hc(se)||a(se))return se=ai(se,Ae.mode,Ce,null),se.return=Ae,se;if(typeof se.then=="function")return ct(Ae,Lt(se),Ce);if(se.$$typeof===Ya)return ct(Ae,Wu(Ae,se),Ce);un(Ae,se)}return null}function ft(Ae,se,Ce,$e){var Ct=se!==null?se.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return Ct!==null?null:ne(Ae,se,""+Ce,$e);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case uf:return Ce.key===Ct?ve(Ae,se,Ce,$e):null;case Ma:return Ce.key===Ct?Le(Ae,se,Ce,$e):null;case Ta:return Ct=Ce._init,Ce=Ct(Ce._payload),ft(Ae,se,Ce,$e)}if(Hc(Ce)||a(Ce))return Ct!==null?null:Ze(Ae,se,Ce,$e,null);if(typeof Ce.then=="function")return ft(Ae,se,Lt(Ce),$e);if(Ce.$$typeof===Ya)return ft(Ae,se,Wu(Ae,Ce),$e);un(Ae,Ce)}return null}function qt(Ae,se,Ce,$e,Ct){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return Ae=Ae.get(Ce)||null,ne(se,Ae,""+$e,Ct);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case uf:return Ae=Ae.get($e.key===null?Ce:$e.key)||null,ve(se,Ae,$e,Ct);case Ma:return Ae=Ae.get($e.key===null?Ce:$e.key)||null,Le(se,Ae,$e,Ct);case Ta:var $n=$e._init;return $e=$n($e._payload),qt(Ae,se,Ce,$e,Ct)}if(Hc($e)||a($e))return Ae=Ae.get(Ce)||null,Ze(se,Ae,$e,Ct,null);if(typeof $e.then=="function")return qt(Ae,se,Ce,Lt($e),Ct);if($e.$$typeof===Ya)return qt(Ae,se,Ce,Wu(se,$e),Ct);un(se,$e)}return null}function fa(Ae,se,Ce,$e){for(var Ct=null,$n=null,Vt=se,En=se=0,mi=null;Vt!==null&&En<Ce.length;En++){Vt.index>En?(mi=Vt,Vt=null):mi=Vt.sibling;var cn=ft(Ae,Vt,Ce[En],$e);if(cn===null){Vt===null&&(Vt=mi);break}u&&Vt&&cn.alternate===null&&h(Ae,Vt),se=O(cn,se,En),$n===null?Ct=cn:$n.sibling=cn,$n=cn,Vt=mi}if(En===Ce.length)return y(Ae,Vt),vn&&Y(Ae,En),Ct;if(Vt===null){for(;En<Ce.length;En++)Vt=ct(Ae,Ce[En],$e),Vt!==null&&(se=O(Vt,se,En),$n===null?Ct=Vt:$n.sibling=Vt,$n=Vt);return vn&&Y(Ae,En),Ct}for(Vt=E(Vt);En<Ce.length;En++)mi=qt(Vt,Ae,En,Ce[En],$e),mi!==null&&(u&&mi.alternate!==null&&Vt.delete(mi.key===null?En:mi.key),se=O(mi,se,En),$n===null?Ct=mi:$n.sibling=mi,$n=mi);return u&&Vt.forEach(function(Ms){return h(Ae,Ms)}),vn&&Y(Ae,En),Ct}function tl(Ae,se,Ce,$e){if(Ce==null)throw Error(r(151));for(var Ct=null,$n=null,Vt=se,En=se=0,mi=null,cn=Ce.next();Vt!==null&&!cn.done;En++,cn=Ce.next()){Vt.index>En?(mi=Vt,Vt=null):mi=Vt.sibling;var Ms=ft(Ae,Vt,cn.value,$e);if(Ms===null){Vt===null&&(Vt=mi);break}u&&Vt&&Ms.alternate===null&&h(Ae,Vt),se=O(Ms,se,En),$n===null?Ct=Ms:$n.sibling=Ms,$n=Ms,Vt=mi}if(cn.done)return y(Ae,Vt),vn&&Y(Ae,En),Ct;if(Vt===null){for(;!cn.done;En++,cn=Ce.next())cn=ct(Ae,cn.value,$e),cn!==null&&(se=O(cn,se,En),$n===null?Ct=cn:$n.sibling=cn,$n=cn);return vn&&Y(Ae,En),Ct}for(Vt=E(Vt);!cn.done;En++,cn=Ce.next())cn=qt(Vt,Ae,En,cn.value,$e),cn!==null&&(u&&cn.alternate!==null&&Vt.delete(cn.key===null?En:cn.key),se=O(cn,se,En),$n===null?Ct=cn:$n.sibling=cn,$n=cn);return u&&Vt.forEach(function(yd){return h(Ae,yd)}),vn&&Y(Ae,En),Ct}function nl(Ae,se,Ce,$e){if(typeof Ce=="object"&&Ce!==null&&Ce.type===Fo&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case uf:e:{for(var Ct=Ce.key;se!==null;){if(se.key===Ct){if(Ct=Ce.type,Ct===Fo){if(se.tag===7){y(Ae,se.sibling),$e=w(se,Ce.props.children),$e.return=Ae,Ae=$e;break e}}else if(se.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===Ta&&xa(Ct)===se.type){y(Ae,se.sibling),$e=w(se,Ce.props),gn($e,Ce),$e.return=Ae,Ae=$e;break e}y(Ae,se);break}else h(Ae,se);se=se.sibling}Ce.type===Fo?($e=ai(Ce.props.children,Ae.mode,$e,Ce.key),$e.return=Ae,Ae=$e):($e=hs(Ce.type,Ce.key,Ce.props,null,Ae.mode,$e),gn($e,Ce),$e.return=Ae,Ae=$e)}return W(Ae);case Ma:e:{for(Ct=Ce.key;se!==null;){if(se.key===Ct)if(se.tag===4&&se.stateNode.containerInfo===Ce.containerInfo&&se.stateNode.implementation===Ce.implementation){y(Ae,se.sibling),$e=w(se,Ce.children||[]),$e.return=Ae,Ae=$e;break e}else{y(Ae,se);break}else h(Ae,se);se=se.sibling}$e=gm(Ce,Ae.mode,$e),$e.return=Ae,Ae=$e}return W(Ae);case Ta:return Ct=Ce._init,Ce=Ct(Ce._payload),nl(Ae,se,Ce,$e)}if(Hc(Ce))return fa(Ae,se,Ce,$e);if(a(Ce)){if(Ct=a(Ce),typeof Ct!="function")throw Error(r(150));return Ce=Ct.call(Ce),tl(Ae,se,Ce,$e)}if(typeof Ce.then=="function")return nl(Ae,se,Lt(Ce),$e);if(Ce.$$typeof===Ya)return nl(Ae,se,Wu(Ae,Ce),$e);un(Ae,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint"?(Ce=""+Ce,se!==null&&se.tag===6?(y(Ae,se.sibling),$e=w(se,Ce),$e.return=Ae,Ae=$e):(y(Ae,se),$e=Vh(Ce,Ae.mode,$e),$e.return=Ae,Ae=$e),W(Ae)):y(Ae,se)}return function(Ae,se,Ce,$e){try{Jo=0;var Ct=nl(Ae,se,Ce,$e);return Wo=null,Ct}catch(Vt){if(Vt===Qc)throw Vt;var $n=t(29,Vt,null,Ae.mode);return $n.lanes=$e,$n.return=Ae,$n}finally{}}}function Ai(u,h){u=hr,R(Zc,u),R(Vn,h),hr=u|h.baseLanes}function Qn(){R(Zc,hr),R(Vn,Vn.current)}function _a(){hr=Zc.current,b(Vn),b(Zc)}function qr(u){var h=u.alternate;R(Ui,Ui.current&1),R(ra,u),In===null&&(h===null||Vn.current!==null||h.memoizedState!==null)&&(In=u)}function Iu(u){if(u.tag===22){if(R(Ui,Ui.current),R(ra,u),In===null){var h=u.alternate;h!==null&&h.memoizedState!==null&&(In=u)}}else Wr()}function Wr(){R(Ui,Ui.current),R(ra,ra.current)}function Jr(u){b(ra),In===u&&(In=null),b(Ui)}function Kr(u){for(var h=u;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||Zh(y)||ed(y)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function Hn(){throw Error(r(321))}function ka(u,h){if(h===null)return!1;for(var y=0;y<h.length&&y<u.length;y++)if(!Lr(u[y],h[y]))return!1;return!0}function ls(u,h,y,E,w,O){return ao=O,nn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Gt.H=u===null||u.memoizedState===null?Qo:Er,$o=!1,O=y(E,w),$o=!1,Ll&&(O=zs(h,y,E,w)),So(u),O}function So(u){Gt.H=si;var h=Ut!==null&&Ut.next!==null;if(ao=0,xn=Ut=nn=null,Da=!1,Il=0,ki=null,h)throw Error(r(300));u===null||Pn||(u=u.dependencies,u!==null&&qu(u)&&(Pn=!0))}function zs(u,h,y,E){nn=u;var w=0;do{if(Ll&&(ki=null),Il=0,Ll=!1,25<=w)throw Error(r(301));if(w+=1,xn=Ut=null,u.updateQueue!=null){var O=u.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}Gt.H=aa,O=h(y,E)}while(Ll);return O}function Si(){var u=Gt.H,h=u.useState()[0];return h=typeof h.then=="function"?Me(h):h,u=u.useState()[0],(Ut!==null?Ut.memoizedState:null)!==u&&(nn.flags|=1024),h}function yc(){var u=ud!==0;return ud=0,u}function xc(u,h,y){h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~y}function q(u){if(Da){for(u=u.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Da=!1}ao=0,xn=Ut=nn=null,Ll=!1,Il=ud=0,ki=null}function ce(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?nn.memoizedState=xn=u:xn=xn.next=u,xn}function ye(){if(Ut===null){var u=nn.alternate;u=u!==null?u.memoizedState:null}else u=Ut.next;var h=xn===null?nn.memoizedState:xn.next;if(h!==null)xn=h,Ut=u;else{if(u===null)throw nn.alternate===null?Error(r(467)):Error(r(310));Ut=u,u={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},xn===null?nn.memoizedState=xn=u:xn=xn.next=u}return xn}function Me(u){var h=Il;return Il+=1,ki===null&&(ki=[]),u=He(ki,u,h),h=nn,(xn===null?h.memoizedState:xn.next)===null&&(h=h.alternate,Gt.H=h===null||h.memoizedState===null?Qo:Er),u}function me(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Me(u);if(u.$$typeof===Ya)return $i(u)}throw Error(r(438,String(u)))}function Je(u){var h=null,y=nn.updateQueue;if(y!==null&&(h=y.memoCache),h==null){var E=nn.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(h={data:E.data.map(function(w){return w.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),y===null&&(y=fd(),nn.updateQueue=y),y.memoCache=h,y=h.data[h.index],y===void 0)for(y=h.data[h.index]=Array(u),E=0;E<u;E++)y[E]=tv;return h.index++,y}function rt(u,h){return typeof h=="function"?h(u):h}function dt(u){var h=ye();return lt(h,Ut,u)}function lt(u,h,y){var E=u.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=y;var w=u.baseQueue,O=E.pending;if(O!==null){if(w!==null){var W=w.next;w.next=O.next,O.next=W}h.baseQueue=w=O,E.pending=null}if(O=u.baseState,w===null)u.memoizedState=O;else{h=w.next;var ne=W=null,ve=null,Le=h,Ze=!1;do{var ct=Le.lane&-536870913;if(ct!==Le.lane?(fn&ct)===ct:(ao&ct)===ct){var ft=Le.revertLane;if(ft===0)ve!==null&&(ve=ve.next={lane:0,revertLane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),ct===ia&&(Ze=!0);else if((ao&ft)===ft){Le=Le.next,ft===ia&&(Ze=!0);continue}else ct={lane:0,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},ve===null?(ne=ve=ct,W=O):ve=ve.next=ct,nn.lanes|=ft,ca|=ft;ct=Le.action,$o&&y(O,ct),O=Le.hasEagerState?Le.eagerState:y(O,ct)}else ft={lane:ct,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},ve===null?(ne=ve=ft,W=O):ve=ve.next=ft,nn.lanes|=ct,ca|=ct;Le=Le.next}while(Le!==null&&Le!==h);if(ve===null?W=O:ve.next=ne,!Lr(O,u.memoizedState)&&(Pn=!0,Ze&&(y=Nl,y!==null)))throw y;u.memoizedState=O,u.baseState=W,u.baseQueue=ve,E.lastRenderedState=O}return w===null&&(E.lanes=0),[u.memoizedState,E.dispatch]}function wt(u){var h=ye(),y=h.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=u;var E=y.dispatch,w=y.pending,O=h.memoizedState;if(w!==null){y.pending=null;var W=w=w.next;do O=u(O,W.action),W=W.next;while(W!==w);Lr(O,h.memoizedState)||(Pn=!0),h.memoizedState=O,h.baseQueue===null&&(h.baseState=O),y.lastRenderedState=O}return[O,E]}function Nt(u,h,y){var E=nn,w=ye(),O=vn;if(O){if(y===void 0)throw Error(r(407));y=y()}else y=h();var W=!Lr((Ut||w).memoizedState,y);if(W&&(w.memoizedState=y,Pn=!0),w=w.queue,Gp(yn.bind(null,E,w,u),[u]),w.getSnapshot!==h||W||xn!==null&&xn.memoizedState.tag&1){if(E.flags|=2048,Di(9,Zt.bind(null,E,w,y,h),{destroy:void 0},null),Rn===null)throw Error(r(349));O||(ao&60)!==0||At(E,h,y)}return y}function At(u,h,y){u.flags|=16384,u={getSnapshot:h,value:y},h=nn.updateQueue,h===null?(h=fd(),nn.updateQueue=h,h.stores=[u]):(y=h.stores,y===null?h.stores=[u]:y.push(u))}function Zt(u,h,y,E){h.value=y,h.getSnapshot=E,Wn(h)&&Dn(u)}function yn(u,h,y){return y(function(){Wn(h)&&Dn(u)})}function Wn(u){var h=u.getSnapshot;u=u.value;try{var y=h();return!Lr(u,y)}catch{return!0}}function Dn(u){var h=De(u,2);h!==null&&Hi(h,u,2)}function Jt(u){var h=ce();if(typeof u=="function"){var y=u;if(u=y(),$o){$(!0);try{y()}finally{$(!1)}}}return h.memoizedState=h.baseState=u,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rt,lastRenderedState:u},h}function Rt(u,h,y,E){return u.baseState=y,lt(u,Ut,typeof E=="function"?E:rt)}function Jn(u,h,y,E,w){if(Vu(u))throw Error(r(485));if(u=h.action,u!==null){var O={payload:w,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){O.listeners.push(W)}};Gt.T!==null?y(!0):O.isTransition=!1,E(O),y=h.pending,y===null?(O.next=h.pending=O,sn(h,O)):(O.next=y.next,h.pending=y.next=O)}}function sn(u,h){var y=h.action,E=h.payload,w=u.state;if(h.isTransition){var O=Gt.T,W={};Gt.T=W;try{var ne=y(w,E),ve=Gt.S;ve!==null&&ve(W,ne),Yi(u,h,ne)}catch(Le){qi(u,h,Le)}finally{Gt.T=O}}else try{O=y(w,E),Yi(u,h,O)}catch(Le){qi(u,h,Le)}}function Yi(u,h,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(E){ba(u,h,E)},function(E){return qi(u,h,E)}):ba(u,h,y)}function ba(u,h,y){h.status="fulfilled",h.value=y,Bi(h),u.state=y,h=u.pending,h!==null&&(y=h.next,y===h?u.pending=null:(y=y.next,h.next=y,sn(u,y)))}function qi(u,h,y){var E=u.pending;if(u.pending=null,E!==null){E=E.next;do h.status="rejected",h.reason=y,Bi(h),h=h.next;while(h!==E)}u.action=null}function Bi(u){u=u.listeners;for(var h=0;h<u.length;h++)(0,u[h])()}function Nn(u,h){return h}function lr(u,h){if(vn){var y=Rn.formState;if(y!==null){e:{var E=nn;if(vn){if(ir){var w=Nm(ir,Vi);if(w){ir=Um(w),E=Sv(w);break e}}We(E)}E=!1}E&&(h=y[0])}}y=ce(),y.memoizedState=y.baseState=h,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:h},y.queue=E,y=Xp.bind(null,nn,E),E.dispatch=y,E=Jt(!1);var O=Ac.bind(null,nn,!1,E.queue);return E=ce(),w={state:h,dispatch:null,action:u,pending:null},E.queue=w,y=Jn.bind(null,nn,w,O,y),w.dispatch=y,E.memoizedState=u,[h,y,!1]}function Wi(u){var h=ye();return ti(h,Ut,u)}function ti(u,h,y){h=lt(u,h,Nn)[0],u=dt(rt)[0],h=typeof h=="object"&&h!==null&&typeof h.then=="function"?Me(h):h;var E=ye(),w=E.queue,O=w.dispatch;return y!==E.memoizedState&&(nn.flags|=2048,Di(9,Ji.bind(null,w,y),{destroy:void 0},null)),[h,O,u]}function Ji(u,h){u.action=h}function vl(u){var h=ye(),y=Ut;if(y!==null)return ti(h,y,u);ye(),h=h.memoizedState,y=ye();var E=y.queue.dispatch;return y.memoizedState=u,[h,E,!1]}function Di(u,h,y,E){return u={tag:u,create:h,inst:y,deps:E,next:null},h=nn.updateQueue,h===null&&(h=fd(),nn.updateQueue=h),y=h.lastEffect,y===null?h.lastEffect=u.next=u:(E=y.next,y.next=u,u.next=E,h.lastEffect=u),u}function O0(){return ye().memoizedState}function Pu(u,h,y,E){var w=ce();nn.flags|=u,w.memoizedState=Di(1|h,y,{destroy:void 0},E===void 0?null:E)}function zu(u,h,y,E){var w=ye();E=E===void 0?null:E;var O=w.memoizedState.inst;Ut!==null&&E!==null&&ka(E,Ut.memoizedState.deps)?w.memoizedState=Di(h,y,O,E):(nn.flags|=u,w.memoizedState=Di(1|h,y,O,E))}function Ah(u,h){Pu(8390656,8,u,h)}function Gp(u,h){zu(2048,8,u,h)}function N0(u,h){return zu(4,2,u,h)}function Fu(u,h){return zu(4,4,u,h)}function Sh(u,h){if(typeof h=="function"){u=u();var y=h(u);return function(){typeof y=="function"?y():h(null)}}if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function Eh(u,h,y){y=y!=null?y.concat([u]):null,zu(4,4,Sh.bind(null,h,u),y)}function Eo(){}function yl(u,h){var y=ye();h=h===void 0?null:h;var E=y.memoizedState;return h!==null&&ka(h,E[1])?E[0]:(y.memoizedState=[u,h],u)}function Vp(u,h){var y=ye();h=h===void 0?null:h;var E=y.memoizedState;if(h!==null&&ka(h,E[1]))return E[0];if(E=u(),$o){$(!0);try{u()}finally{$(!1)}}return y.memoizedState=[E,h],E}function Hu(u,h,y){return y===void 0||(ao&1073741824)!==0?u.memoizedState=h:(u.memoizedState=y,u=um(),nn.lanes|=u,ca|=u,y)}function kp(u,h,y,E){return Lr(y,h)?y:Vn.current!==null?(u=Hu(u,y,E),Lr(u,h)||(Pn=!0),u):(ao&42)===0?(Pn=!0,u.memoizedState=y):(u=um(),nn.lanes|=u,ca|=u,h)}function _c(u,h,y,E,w){var O=eo();ur(O!==0&&8>O?O:8);var W=Gt.T,ne={};Gt.T=ne,Ac(u,!1,h,y);try{var ve=w(),Le=Gt.S;if(Le!==null&&Le(ne,ve),ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Ze=Qe(ve,E);Mo(u,h,Ze,fi(u))}else Mo(u,h,E,fi(u))}catch(ct){Mo(u,h,{then:function(){},status:"rejected",reason:ct},fi())}finally{ur(O),Gt.T=W}}function cs(u){var h=u.memoizedState;if(h!==null)return h;h={memoizedState:Go,baseState:Go,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rt,lastRenderedState:Go},next:null};var y={};return h.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rt,lastRenderedState:y},next:null},u.memoizedState=h,u=u.alternate,u!==null&&(u.memoizedState=h),h}function Gu(){return $i(qa)}function bc(){return ye().memoizedState}function Fs(){return ye().memoizedState}function jp(u){for(var h=u.return;h!==null;){switch(h.tag){case 24:case 3:var y=fi();u=je(y);var E=tt(h,u,y);E!==null&&(Hi(E,h,y),vt(E,h,y)),h={cache:Ro()},u.payload=h;return}h=h.return}}function Mh(u,h,y){var E=fi();y={lane:E,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null},Vu(u)?yr(h,y):(y=Xe(u,h,y,E),y!==null&&(Hi(y,u,E),To(y,h,E)))}function Xp(u,h,y){var E=fi();Mo(u,h,y,E)}function Mo(u,h,y,E){var w={lane:E,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null};if(Vu(u))yr(h,w);else{var O=u.alternate;if(u.lanes===0&&(O===null||O.lanes===0)&&(O=h.lastRenderedReducer,O!==null))try{var W=h.lastRenderedState,ne=O(W,y);if(w.hasEagerState=!0,w.eagerState=ne,Lr(ne,W))return Oe(u,h,w,0),Rn===null&&Pe(),!1}catch{}finally{}if(y=Xe(u,h,w,E),y!==null)return Hi(y,u,E),To(y,h,E),!0}return!1}function Ac(u,h,y,E){if(E={lane:2,revertLane:Ne(),action:E,hasEagerState:!1,eagerState:null,next:null},Vu(u)){if(h)throw Error(r(479))}else h=Xe(u,y,E,2),h!==null&&Hi(h,u,2)}function Vu(u){var h=u.alternate;return u===nn||h!==null&&h===nn}function yr(u,h){Ll=Da=!0;var y=u.pending;y===null?h.next=h:(h.next=y.next,y.next=h),u.pending=h}function To(u,h,y){if((y&4194176)!==0){var E=h.lanes;E&=u.pendingLanes,y|=E,h.lanes=y,ue(u,y)}}function Sc(u,h,y,E){h=u.memoizedState,y=y(E,h),y=y==null?h:jh({},h,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}function Ec(u,h,y,E,w,O,W){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(E,O,W):h.prototype&&h.prototype.isPureReactComponent?!it(y,E)||!it(w,O):!0}function U0(u,h,y,E){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,E),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,E),h.state!==u&&xs.enqueueReplaceState(h,h.state,null)}function Hs(u,h){var y=h;if("ref"in h){y={};for(var E in h)E!=="ref"&&(y[E]=h[E])}if(u=u.defaultProps){y===h&&(y=jh({},y));for(var w in u)y[w]===void 0&&(y[w]=u[w])}return y}function Mc(u,h){try{var y=u.onUncaughtError;y(h.value,{componentStack:h.stack})}catch(E){setTimeout(function(){throw E})}}function Tc(u,h,y){try{var E=u.onCaughtError;E(y.value,{componentStack:y.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Cc(u,h,y){return y=je(y),y.tag=3,y.payload={element:null},y.callback=function(){Mc(u,h)},y}function Yp(u){return u=je(u),u.tag=3,u}function L0(u,h,y,E){var w=y.type.getDerivedStateFromError;if(typeof w=="function"){var O=E.value;u.payload=function(){return w(O)},u.callback=function(){Tc(h,y,E)}}var W=y.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(u.callback=function(){Tc(h,y,E),typeof w!="function"&&(Zo===null?Zo=new Set([this]):Zo.add(this));var ne=E.stack;this.componentDidCatch(E.value,{componentStack:ne!==null?ne:""})})}function _b(u,h,y,E,w){if(y.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(h=y.alternate,h!==null&&Yu(h,y,w,!0),y=ra.current,y!==null){switch(y.tag){case 13:return In===null?Ws():y.alternate===null&&zn===0&&(zn=3),y.flags&=-257,y.flags|=65536,y.lanes=w,E===Mf?y.flags|=16384:(h=y.updateQueue,h===null?y.updateQueue=new Set([E]):h.add(E),bl(u,E,w)),!1;case 22:return y.flags|=65536,E===Mf?y.flags|=16384:(h=y.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([E])},y.updateQueue=h):(y=h.retryQueue,y===null?h.retryQueue=new Set([E]):y.add(E)),bl(u,E,w)),!1}throw Error(r(435,y.tag))}return bl(u,E,w),Ws(),!1}if(vn)return h=ra.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=w,E!==Af&&(u=Error(r(422),{cause:E}),Z(he(u,y)))):(E!==Af&&(h=Error(r(423),{cause:E}),Z(he(h,y))),u=u.current.alternate,u.flags|=65536,w&=-w,u.lanes|=w,E=he(E,y),w=Cc(u.stateNode,E,w),gt(u,w),zn!==4&&(zn=2)),!1;var O=Error(r(520),{cause:E});if(O=he(O,y),zl===null?zl=[O]:zl.push(O),zn!==4&&(zn=2),h===null)return!0;E=he(E,y),y=h;do{switch(y.tag){case 3:return y.flags|=65536,u=w&-w,y.lanes|=u,u=Cc(y.stateNode,E,u),gt(y,u),!1;case 1:if(h=y.type,O=y.stateNode,(y.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Zo===null||!Zo.has(O))))return y.flags|=65536,w&=-w,y.lanes|=w,w=Yp(w),L0(w,u,y,E),gt(y,w),!1}y=y.return}while(y!==null);return!1}function Ki(u,h,y,E){h.child=u===null?ys(h,null,y,E):Ko(h,u.child,y,E)}function Th(u,h,y,E,w){y=y.render;var O=h.ref;if("ref"in E){var W={};for(var ne in E)ne!=="ref"&&(W[ne]=E[ne])}else W=E;return wo(h),E=ls(u,h,y,W,O,w),ne=yc(),u!==null&&!Pn?(xc(u,h,w),Gs(u,h,w)):(vn&&ne&&Se(h),h.flags|=1,Ki(u,h,E,w),h.child)}function I0(u,h,y,E,w){if(u===null){var O=y.type;return typeof O=="function"&&!sf(O)&&O.defaultProps===void 0&&y.compare===null?(h.tag=15,h.type=O,P0(u,h,O,E,w)):(u=hs(y.type,null,E,h,h.mode,w),u.ref=h.ref,u.return=h,h.child=u)}if(O=u.child,!$p(u,w)){var W=O.memoizedProps;if(y=y.compare,y=y!==null?y:it,y(W,E)&&u.ref===h.ref)return Gs(u,h,w)}return h.flags|=1,u=Ea(O,E),u.ref=h.ref,u.return=h,h.child=u}function P0(u,h,y,E,w){if(u!==null){var O=u.memoizedProps;if(it(O,E)&&u.ref===h.ref)if(Pn=!1,h.pendingProps=E=O,$p(u,w))(u.flags&131072)!==0&&(Pn=!0);else return h.lanes=u.lanes,Gs(u,h,w)}return Ch(u,h,y,E,w)}function z0(u,h,y){var E=h.pendingProps,w=E.children,O=(h.stateNode._pendingVisibility&2)!==0,W=u!==null?u.memoizedState:null;if(ku(u,h),E.mode==="hidden"||O){if((h.flags&128)!==0){if(E=W!==null?W.baseLanes|y:y,u!==null){for(w=h.child=u.child,O=0;w!==null;)O=O|w.lanes|w.childLanes,w=w.sibling;h.childLanes=O&~E}else h.childLanes=0,h.child=null;return F0(u,h,E,y)}if((y&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},u!==null&&Rh(h,W!==null?W.cachePool:null),W!==null?Ai(h,W):Qn(),Iu(h);else return h.lanes=h.childLanes=536870912,F0(u,h,W!==null?W.baseLanes|y:y,y)}else W!==null?(Rh(h,W.cachePool),Ai(h,W),Wr(),h.memoizedState=null):(u!==null&&Rh(h,null),Qn(),Wr());return Ki(u,h,w,y),h.child}function F0(u,h,y,E){var w=Zp();return w=w===null?null:{parent:br?kn._currentValue:kn._currentValue2,pool:w},h.memoizedState={baseLanes:y,cachePool:w},u!==null&&Rh(h,null),Qn(),Iu(h),u!==null&&Yu(u,h,E,!0),null}function ku(u,h){var y=h.ref;if(y===null)u!==null&&u.ref!==null&&(h.flags|=2097664);else{if(typeof y!="function"&&typeof y!="object")throw Error(r(284));(u===null||u.ref!==y)&&(h.flags|=2097664)}}function Ch(u,h,y,E,w){return wo(h),y=ls(u,h,y,E,void 0,w),E=yc(),u!==null&&!Pn?(xc(u,h,w),Gs(u,h,w)):(vn&&E&&Se(h),h.flags|=1,Ki(u,h,y,w),h.child)}function H0(u,h,y,E,w,O){return wo(h),h.updateQueue=null,y=zs(h,E,y,w),So(u),E=yc(),u!==null&&!Pn?(xc(u,h,O),Gs(u,h,O)):(vn&&E&&Se(h),h.flags|=1,Ki(u,h,y,O),h.child)}function G0(u,h,y,E,w){if(wo(h),h.stateNode===null){var O=Xo,W=y.contextType;typeof W=="object"&&W!==null&&(O=$i(W)),O=new y(E,O),h.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=xs,h.stateNode=O,O._reactInternals=h,O=h.stateNode,O.props=E,O.state=h.memoizedState,O.refs={},pt(h),W=y.contextType,O.context=typeof W=="object"&&W!==null?$i(W):Xo,O.state=h.memoizedState,W=y.getDerivedStateFromProps,typeof W=="function"&&(Sc(h,y,W,E),O.state=h.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(W=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),W!==O.state&&xs.enqueueReplaceState(O,O.state,null),zt(h,E,O,w),nt(),O.state=h.memoizedState),typeof O.componentDidMount=="function"&&(h.flags|=4194308),E=!0}else if(u===null){O=h.stateNode;var ne=h.memoizedProps,ve=Hs(y,ne);O.props=ve;var Le=O.context,Ze=y.contextType;W=Xo,typeof Ze=="object"&&Ze!==null&&(W=$i(Ze));var ct=y.getDerivedStateFromProps;Ze=typeof ct=="function"||typeof O.getSnapshotBeforeUpdate=="function",ne=h.pendingProps!==ne,Ze||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(ne||Le!==W)&&U0(h,O,E,W),ro=!1;var ft=h.memoizedState;O.state=ft,zt(h,E,O,w),nt(),Le=h.memoizedState,ne||ft!==Le||ro?(typeof ct=="function"&&(Sc(h,y,ct,E),Le=h.memoizedState),(ve=ro||Ec(h,y,ve,E,ft,Le,W))?(Ze||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(h.flags|=4194308)):(typeof O.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=E,h.memoizedState=Le),O.props=E,O.state=Le,O.context=W,E=ve):(typeof O.componentDidMount=="function"&&(h.flags|=4194308),E=!1)}else{O=h.stateNode,mt(u,h),W=h.memoizedProps,Ze=Hs(y,W),O.props=Ze,ct=h.pendingProps,ft=O.context,Le=y.contextType,ve=Xo,typeof Le=="object"&&Le!==null&&(ve=$i(Le)),ne=y.getDerivedStateFromProps,(Le=typeof ne=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(W!==ct||ft!==ve)&&U0(h,O,E,ve),ro=!1,ft=h.memoizedState,O.state=ft,zt(h,E,O,w),nt();var qt=h.memoizedState;W!==ct||ft!==qt||ro||u!==null&&u.dependencies!==null&&qu(u.dependencies)?(typeof ne=="function"&&(Sc(h,y,ne,E),qt=h.memoizedState),(Ze=ro||Ec(h,y,Ze,E,ft,qt,ve)||u!==null&&u.dependencies!==null&&qu(u.dependencies))?(Le||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(E,qt,ve),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(E,qt,ve)),typeof O.componentDidUpdate=="function"&&(h.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof O.componentDidUpdate!="function"||W===u.memoizedProps&&ft===u.memoizedState||(h.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||W===u.memoizedProps&&ft===u.memoizedState||(h.flags|=1024),h.memoizedProps=E,h.memoizedState=qt),O.props=E,O.state=qt,O.context=ve,E=Ze):(typeof O.componentDidUpdate!="function"||W===u.memoizedProps&&ft===u.memoizedState||(h.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||W===u.memoizedProps&&ft===u.memoizedState||(h.flags|=1024),E=!1)}return O=E,ku(u,h),E=(h.flags&128)!==0,O||E?(O=h.stateNode,y=E&&typeof y.getDerivedStateFromError!="function"?null:O.render(),h.flags|=1,u!==null&&E?(h.child=Ko(h,u.child,null,w),h.child=Ko(h,null,y,w)):Ki(u,h,y,w),h.memoizedState=O.state,u=h.child):u=Gs(u,h,w),u}function V0(u,h,y,E){return Et(),h.flags|=256,Ki(u,h,y,E),h.child}function qp(u){return{baseLanes:u,cachePool:em()}}function ju(u,h,y){return u=u!==null?u.childLanes&~y:0,h&&(u|=ua),u}function k0(u,h,y){var E=h.pendingProps,w=!1,O=(h.flags&128)!==0,W;if((W=O)||(W=u!==null&&u.memoizedState===null?!1:(Ui.current&2)!==0),W&&(w=!0,h.flags&=-129),W=(h.flags&32)!==0,h.flags&=-33,u===null){if(vn){if(w?qr(h):Wr(),vn){var ne=ir,ve;(ve=ne)&&(ne=Tv(ne,Vi),ne!==null?(h.memoizedState={dehydrated:ne,treeContext:Yo!==null?{id:Ja,overflow:Ka}:null,retryLane:536870912},ve=t(18,null,null,0),ve.stateNode=ne,ve.return=h,h.child=ve,nr=h,ir=null,ve=!0):ve=!1),ve||We(h)}if(ne=h.memoizedState,ne!==null&&(ne=ne.dehydrated,ne!==null))return ed(ne)?h.lanes=16:h.lanes=536870912,null;Jr(h)}return ne=E.children,E=E.fallback,w?(Wr(),w=h.mode,ne=Jp({mode:"hidden",children:ne},w),E=ai(E,w,y,null),ne.return=h,E.return=h,ne.sibling=E,h.child=ne,w=h.child,w.memoizedState=qp(y),w.childLanes=ju(u,W,y),h.memoizedState=pd,E):(qr(h),Wp(h,ne))}if(ve=u.memoizedState,ve!==null&&(ne=ve.dehydrated,ne!==null)){if(O)h.flags&256?(qr(h),h.flags&=-257,h=wh(u,h,y)):h.memoizedState!==null?(Wr(),h.child=u.child,h.flags|=128,h=null):(Wr(),w=E.fallback,ne=h.mode,E=Jp({mode:"visible",children:E.children},ne),w=ai(w,ne,y,null),w.flags|=2,E.return=h,w.return=h,E.sibling=w,h.child=E,Ko(h,u.child,null,y),E=h.child,E.memoizedState=qp(y),E.childLanes=ju(u,W,y),h.memoizedState=pd,h=w);else if(qr(h),ed(ne))W=bv(ne).digest,E=Error(r(419)),E.stack="",E.digest=W,Z({value:E,source:null,stack:null}),h=wh(u,h,y);else if(Pn||Yu(u,h,y,!1),W=(y&u.childLanes)!==0,Pn||W){if(W=Rn,W!==null){if(E=y&-y,(E&42)!==0)E=1;else switch(E){case 2:E=1;break;case 8:E=4;break;case 32:E=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:E=64;break;case 268435456:E=134217728;break;default:E=0}if(E=(E&(W.suspendedLanes|y))!==0?0:E,E!==0&&E!==ve.retryLane)throw ve.retryLane=E,De(u,E),Hi(W,u,E),dd}Zh(ne)||Ws(),h=wh(u,h,y)}else Zh(ne)?(h.flags|=128,h.child=u.child,h=Js.bind(null,u),Av(ne,h),h=null):(u=ve.treeContext,tr&&(ir=Mv(ne),nr=h,vn=!0,Ra=null,Vi=!1,u!==null&&(ta[na++]=Ja,ta[na++]=Ka,ta[na++]=Yo,Ja=u.id,Ka=u.overflow,Yo=h)),h=Wp(h,E.children),h.flags|=4096);return h}return w?(Wr(),w=E.fallback,ne=h.mode,ve=u.child,O=ve.sibling,E=Ea(ve,{mode:"hidden",children:E.children}),E.subtreeFlags=ve.subtreeFlags&31457280,O!==null?w=Ea(O,w):(w=ai(w,ne,y,null),w.flags|=2),w.return=h,E.return=h,E.sibling=w,h.child=E,E=w,w=h.child,ne=u.child.memoizedState,ne===null?ne=qp(y):(ve=ne.cachePool,ve!==null?(O=br?kn._currentValue:kn._currentValue2,ve=ve.parent!==O?{parent:O,pool:O}:ve):ve=em(),ne={baseLanes:ne.baseLanes|y,cachePool:ve}),w.memoizedState=ne,w.childLanes=ju(u,W,y),h.memoizedState=pd,E):(qr(h),y=u.child,u=y.sibling,y=Ea(y,{mode:"visible",children:E.children}),y.return=h,y.sibling=null,u!==null&&(W=h.deletions,W===null?(h.deletions=[u],h.flags|=16):W.push(u)),h.child=y,h.memoizedState=null,y)}function Wp(u,h){return h=Jp({mode:"visible",children:h},u.mode),h.return=u,u.child=h}function Jp(u,h){return lf(u,h,0,null)}function wh(u,h,y){return Ko(h,u.child,null,y),u=Wp(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function j0(u,h,y){u.lanes|=h;var E=u.alternate;E!==null&&(E.lanes|=h),Xu(u.return,h,y)}function Kp(u,h,y,E,w){var O=u.memoizedState;O===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:E,tail:y,tailMode:w}:(O.isBackwards=h,O.rendering=null,O.renderingStartTime=0,O.last=E,O.tail=y,O.tailMode=w)}function X0(u,h,y){var E=h.pendingProps,w=E.revealOrder,O=E.tail;if(Ki(u,h,E.children,y),E=Ui.current,(E&2)!==0)E=E&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&j0(u,y,h);else if(u.tag===19)j0(u,y,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}E&=1}switch(R(Ui,E),w){case"forwards":for(y=h.child,w=null;y!==null;)u=y.alternate,u!==null&&Kr(u)===null&&(w=y),y=y.sibling;y=w,y===null?(w=h.child,h.child=null):(w=y.sibling,y.sibling=null),Kp(h,!1,w,y,O);break;case"backwards":for(y=null,w=h.child,h.child=null;w!==null;){if(u=w.alternate,u!==null&&Kr(u)===null){h.child=w;break}u=w.sibling,w.sibling=y,y=w,w=u}Kp(h,!0,y,null,O);break;case"together":Kp(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Gs(u,h,y){if(u!==null&&(h.dependencies=u.dependencies),ca|=h.lanes,(y&h.childLanes)===0)if(u!==null){if(Yu(u,h,y,!1),(y&h.childLanes)===0)return null}else return null;if(u!==null&&h.child!==u.child)throw Error(r(153));if(h.child!==null){for(u=h.child,y=Ea(u,u.pendingProps),h.child=y,y.return=h;u.sibling!==null;)u=u.sibling,y=y.sibling=Ea(u,u.pendingProps),y.return=h;y.sibling=null}return h.child}function $p(u,h){return(u.lanes&h)!==0?!0:(u=u.dependencies,!!(u!==null&&qu(u)))}function bb(u,h,y){switch(h.tag){case 3:Ue(h,h.stateNode.containerInfo),Co(h,kn,u.memoizedState.cache),Et();break;case 27:case 5:Be(h);break;case 4:Ue(h,h.stateNode.containerInfo);break;case 10:Co(h,h.type,h.memoizedProps.value);break;case 13:var E=h.memoizedState;if(E!==null)return E.dehydrated!==null?(qr(h),h.flags|=128,null):(y&h.child.childLanes)!==0?k0(u,h,y):(qr(h),u=Gs(u,h,y),u!==null?u.sibling:null);qr(h);break;case 19:var w=(u.flags&128)!==0;if(E=(y&h.childLanes)!==0,E||(Yu(u,h,y,!1),E=(y&h.childLanes)!==0),w){if(E)return X0(u,h,y);h.flags|=128}if(w=h.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),R(Ui,Ui.current),E)break;return null;case 22:case 23:return h.lanes=0,z0(u,h,y);case 24:Co(h,kn,u.memoizedState.cache)}return Gs(u,h,y)}function Y0(u,h,y){if(u!==null)if(u.memoizedProps!==h.pendingProps)Pn=!0;else{if(!$p(u,y)&&(h.flags&128)===0)return Pn=!1,bb(u,h,y);Pn=(u.flags&131072)!==0}else Pn=!1,vn&&(h.flags&1048576)!==0&&ae(h,Wc,h.index);switch(h.lanes=0,h.tag){case 16:e:{u=h.pendingProps;var E=h.elementType,w=E._init;if(E=w(E._payload),h.type=E,typeof E=="function")sf(E)?(u=Hs(E,u),h.tag=1,h=G0(null,h,E,u,y)):(h.tag=0,h=Ch(null,h,E,u,y));else{if(E!=null){if(w=E.$$typeof,w===df){h.tag=11,h=Th(null,h,E,u,y);break e}else if(w===qh){h.tag=14,h=I0(null,h,E,u,y);break e}}throw h=o(E)||E,Error(r(306,h,""))}}return h;case 0:return Ch(u,h,h.type,h.pendingProps,y);case 1:return E=h.type,w=Hs(E,h.pendingProps),G0(u,h,E,w,y);case 3:e:{if(Ue(h,h.stateNode.containerInfo),u===null)throw Error(r(387));var O=h.pendingProps;w=h.memoizedState,E=w.element,mt(u,h),zt(h,O,null,y);var W=h.memoizedState;if(O=W.cache,Co(h,kn,O),O!==w.cache&&xl(h,[kn],y,!0),nt(),O=W.element,tr&&w.isDehydrated)if(w={element:O,isDehydrated:!1,cache:W.cache},h.updateQueue.baseState=w,h.memoizedState=w,h.flags&256){h=V0(u,h,O,y);break e}else if(O!==E){E=he(Error(r(424)),h),Z(E),h=V0(u,h,O,y);break e}else for(tr&&(ir=Ev(h.stateNode.containerInfo),nr=h,vn=!0,Ra=null,Vi=!0),y=ys(h,null,O,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Et(),O===E){h=Gs(u,h,y);break e}Ki(u,h,O,y)}h=h.child}return h;case 26:if(ea)return ku(u,h),u===null?(y=Pm(h.type,null,h.pendingProps,null))?h.memoizedState=y:vn||(h.stateNode=ad(h.type,h.pendingProps,gs.current,h)):h.memoizedState=Pm(h.type,u.memoizedProps,h.pendingProps,u.memoizedState),null;case 27:if(Ln)return Be(h),u===null&&Ln&&vn&&(E=h.stateNode=Wa(h.type,h.pendingProps,gs.current,Ni.current,!1),nr=h,Vi=!0,ir=td(E)),E=h.pendingProps.children,u!==null||vn?Ki(u,h,E,y):h.child=Ko(h,null,E,y),ku(u,h),h.child;case 5:return u===null&&vn&&(id(h.type,h.pendingProps,Ni.current),(w=E=ir)&&(E=wb(E,h.type,h.pendingProps,Vi),E!==null?(h.stateNode=E,nr=h,ir=td(E),Vi=!1,w=!0):w=!1),w||We(h)),Be(h),w=h.type,O=h.pendingProps,W=u!==null?u.memoizedProps:null,E=O.children,$t(w,O)?E=null:W!==null&&$t(w,W)&&(h.flags|=32),h.memoizedState!==null&&(w=ls(u,h,Si,null,null,y),br?qa._currentValue=w:qa._currentValue2=w),ku(u,h),Ki(u,h,E,y),h.child;case 6:return u===null&&vn&&(Dv(h.pendingProps,Ni.current),(u=y=ir)&&(y=Lm(y,h.pendingProps,Vi),y!==null?(h.stateNode=y,nr=h,ir=null,u=!0):u=!1),u||We(h)),null;case 13:return k0(u,h,y);case 4:return Ue(h,h.stateNode.containerInfo),E=h.pendingProps,u===null?h.child=Ko(h,null,E,y):Ki(u,h,E,y),h.child;case 11:return Th(u,h,h.type,h.pendingProps,y);case 7:return Ki(u,h,h.pendingProps,y),h.child;case 8:return Ki(u,h,h.pendingProps.children,y),h.child;case 12:return Ki(u,h,h.pendingProps.children,y),h.child;case 10:return E=h.pendingProps,Co(h,h.type,E.value),Ki(u,h,E.children,y),h.child;case 9:return w=h.type._context,E=h.pendingProps.children,wo(h),w=$i(w),E=E(w),h.flags|=1,Ki(u,h,E,y),h.child;case 14:return I0(u,h,h.type,h.pendingProps,y);case 15:return P0(u,h,h.type,h.pendingProps,y);case 19:return X0(u,h,y);case 22:return z0(u,h,y);case 24:return wo(h),E=$i(kn),u===null?(w=Zp(),w===null&&(w=Rn,O=Ro(),w.pooledCache=O,O.refCount++,O!==null&&(w.pooledCacheLanes|=y),w=O),h.memoizedState={parent:E,cache:w},pt(h),Co(h,kn,w)):((u.lanes&y)!==0&&(mt(u,h),zt(h,null,null,y),nt()),w=u.memoizedState,O=h.memoizedState,w.parent!==E?(w={parent:E,cache:E},h.memoizedState=w,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=w),Co(h,kn,E)):(E=O.cache,Co(h,kn,E),E!==w.cache&&xl(h,[kn],y,!0))),Ki(u,h,h.pendingProps.children,y),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function Co(u,h,y){br?(R(so,h._currentValue),h._currentValue=y):(R(so,h._currentValue2),h._currentValue2=y)}function Vs(u){var h=so.current;br?u._currentValue=h:u._currentValue2=h,b(so)}function Xu(u,h,y){for(;u!==null;){var E=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,E!==null&&(E.childLanes|=h)):E!==null&&(E.childLanes&h)!==h&&(E.childLanes|=h),u===y)break;u=u.return}}function xl(u,h,y,E){var w=u.child;for(w!==null&&(w.return=u);w!==null;){var O=w.dependencies;if(O!==null){var W=w.child;O=O.firstContext;e:for(;O!==null;){var ne=O;O=w;for(var ve=0;ve<h.length;ve++)if(ne.context===h[ve]){O.lanes|=y,ne=O.alternate,ne!==null&&(ne.lanes|=y),Xu(O.return,y,u),E||(W=null);break e}O=ne.next}}else if(w.tag===18){if(W=w.return,W===null)throw Error(r(341));W.lanes|=y,O=W.alternate,O!==null&&(O.lanes|=y),Xu(W,y,u),W=null}else W=w.child;if(W!==null)W.return=w;else for(W=w;W!==null;){if(W===u){W=null;break}if(w=W.sibling,w!==null){w.return=W.return,W=w;break}W=W.return}w=W}}function Yu(u,h,y,E){u=null;for(var w=h,O=!1;w!==null;){if(!O){if((w.flags&524288)!==0)O=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var W=w.alternate;if(W===null)throw Error(r(387));if(W=W.memoizedProps,W!==null){var ne=w.type;Lr(w.pendingProps.value,W.value)||(u!==null?u.push(ne):u=[ne])}}else if(w===Rl.current){if(W=w.alternate,W===null)throw Error(r(387));W.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(u!==null?u.push(qa):u=[qa])}w=w.return}u!==null&&xl(h,u,y,E),h.flags|=262144}function qu(u){for(u=u.firstContext;u!==null;){var h=u.context;if(!Lr(br?h._currentValue:h._currentValue2,u.memoizedValue))return!0;u=u.next}return!1}function wo(u){Za=u,sa=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function $i(u){return Qp(Za,u)}function Wu(u,h){return Za===null&&wo(u),Qp(u,h)}function Qp(u,h){var y=br?h._currentValue:h._currentValue2;if(h={context:h,memoizedValue:y,next:null},sa===null){if(u===null)throw Error(r(308));sa=h,u.dependencies={lanes:0,firstContext:h},u.flags|=524288}else sa=sa.next=h;return y}function Ro(){return{controller:new eu,data:new Map,refCount:0}}function Ju(u){u.refCount--,u.refCount===0&&Vv(kv,function(){u.controller.abort()})}function Zp(){var u=_s.current;return u!==null?u:Rn.pooledCache}function Rh(u,h){h===null?R(_s,_s.current):R(_s,h.pool)}function em(){var u=Zp();return u===null?null:{parent:br?kn._currentValue:kn._currentValue2,pool:u}}function wr(u){u.flags|=4}function wc(u,h){if(u!==null&&u.child===h.child)return!1;if((h.flags&16)!==0)return!0;for(u=h.child;u!==null;){if((u.flags&13878)!==0||(u.subtreeFlags&13878)!==0)return!0;u=u.sibling}return!1}function _l(u,h,y,E){if(Oi)for(y=h.child;y!==null;){if(y.tag===5||y.tag===6)mf(u,y.stateNode);else if(!(y.tag===4||Ln&&y.tag===27)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===h)break;for(;y.sibling===null;){if(y.return===null||y.return===h)return;y=y.return}y.sibling.return=y.return,y=y.sibling}else if(Ca)for(var w=h.child;w!==null;){if(w.tag===5){var O=w.stateNode;y&&E&&(O=Dm(O,w.type,w.memoizedProps)),mf(u,O)}else if(w.tag===6)O=w.stateNode,y&&E&&(O=Om(O,w.memoizedProps)),mf(u,O);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)O=w.child,O!==null&&(O.return=w),_l(u,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return}w.sibling.return=w.return,w=w.sibling}}function q0(u,h,y,E){if(Ca)for(var w=h.child;w!==null;){if(w.tag===5){var O=w.stateNode;y&&E&&(O=Dm(O,w.type,w.memoizedProps)),Bm(u,O)}else if(w.tag===6)O=w.stateNode,y&&E&&(O=Om(O,w.memoizedProps)),Bm(u,O);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)O=w.child,O!==null&&(O.return=w),q0(u,w,!(w.memoizedProps!==null&&w.memoizedProps.mode==="manual"),!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return}w.sibling.return=w.return,w=w.sibling}}function Ku(u,h){if(Ca&&wc(u,h)){u=h.stateNode;var y=u.containerInfo,E=gf();q0(E,h,!1,!1),u.pendingChildren=E,wr(h),Qh(y,E)}}function Bh(u,h,y,E){if(Oi)u.memoizedProps!==E&&wr(h);else if(Ca){var w=u.stateNode,O=u.memoizedProps;if((u=wc(u,h))||O!==E){var W=Ni.current;O=Xc(w,y,O,E,!u,null),O===w?h.stateNode=w:(Zs(O,y,E,W)&&wr(h),h.stateNode=O,u?_l(O,h,!1,!1):wr(h))}else h.stateNode=w}}function Dh(u,h,y){if(Am(h,y)){if(u.flags|=16777216,!Kh(h,y))if(Lo())u.flags|=8192;else throw qo=Mf,Ef}else u.flags&=-16777217}function Oh(u,h){if(Uv(h)){if(u.flags|=16777216,!El(h))if(Lo())u.flags|=8192;else throw qo=Mf,Ef}else u.flags&=-16777217}function Rc(u,h){h!==null&&(u.flags|=4),u.flags&16384&&(h=u.tag!==22?P():536870912,u.lanes|=h,Ss|=h)}function Bc(u,h){if(!vn)switch(u.tailMode){case"hidden":h=u.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var E=null;y!==null;)y.alternate!==null&&(E=y),y=y.sibling;E===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:E.sibling=null}}function Zn(u){var h=u.alternate!==null&&u.alternate.child===u.child,y=0,E=0;if(h)for(var w=u.child;w!==null;)y|=w.lanes|w.childLanes,E|=w.subtreeFlags&31457280,E|=w.flags&31457280,w.return=u,w=w.sibling;else for(w=u.child;w!==null;)y|=w.lanes|w.childLanes,E|=w.subtreeFlags,E|=w.flags,w.return=u,w=w.sibling;return u.subtreeFlags|=E,u.childLanes=y,h}function W0(u,h,y){var E=h.pendingProps;switch(Re(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(h),null;case 1:return Zn(h),null;case 3:return y=h.stateNode,E=null,u!==null&&(E=u.memoizedState.cache),h.memoizedState.cache!==E&&(h.flags|=2048),Vs(kn),pe(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(u===null||u.child===null)&&(ln(h)?wr(h):u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Ra!==null&&(rf(Ra),Ra=null))),Ku(u,h),Zn(h),null;case 26:if(ea){y=h.type;var w=h.memoizedState;return u===null?(wr(h),w!==null?(Zn(h),Oh(h,w)):(Zn(h),Dh(h,y,E))):w?w!==u.memoizedState?(wr(h),Zn(h),Oh(h,w)):(Zn(h),h.flags&=-16777217):(Oi?u.memoizedProps!==E&&wr(h):Bh(u,h,y,E),Zn(h),Dh(h,y,E)),null}case 27:if(Ln){if(Fe(h),y=gs.current,w=h.type,u!==null&&h.stateNode!=null)Oi?u.memoizedProps!==E&&wr(h):Bh(u,h,w,E);else{if(!E){if(h.stateNode===null)throw Error(r(166));return Zn(h),null}u=Ni.current,ln(h)?st(h,u):(u=Wa(w,E,y,u,!0),h.stateNode=u,wr(h))}return Zn(h),null}case 5:if(Fe(h),y=h.type,u!==null&&h.stateNode!=null)Bh(u,h,y,E);else{if(!E){if(h.stateNode===null)throw Error(r(166));return Zn(h),null}u=Ni.current,ln(h)?st(h,u):(w=bm(y,E,gs.current,u,h),_l(w,h,!1,!1),h.stateNode=w,Zs(w,y,E,u)&&wr(h))}return Zn(h),Dh(h,h.type,h.pendingProps),null;case 6:if(u&&h.stateNode!=null)y=u.memoizedProps,Oi?y!==E&&wr(h):Ca&&(y!==E?(h.stateNode=On(E,gs.current,Ni.current,h),wr(h)):h.stateNode=u.stateNode);else{if(typeof E!="string"&&h.stateNode===null)throw Error(r(166));if(u=gs.current,y=Ni.current,ln(h)){if(!tr)throw Error(r(176));if(u=h.stateNode,y=h.memoizedProps,E=null,w=nr,w!==null)switch(w.tag){case 27:case 5:E=w.memoizedProps}Im(u,y,h,E)||We(h)}else h.stateNode=On(E,u,y,h)}return Zn(h),null;case 13:if(E=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(w=ln(h),E!==null&&E.dehydrated!==null){if(u===null){if(!w)throw Error(r(318));if(!tr)throw Error(r(344));if(w=h.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));wv(w,h)}else Et(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Zn(h),w=!1}else Ra!==null&&(rf(Ra),Ra=null),w=!0;if(!w)return h.flags&256?(Jr(h),h):(Jr(h),null)}if(Jr(h),(h.flags&128)!==0)return h.lanes=y,h;if(y=E!==null,u=u!==null&&u.memoizedState!==null,y){E=h.child,w=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(w=E.alternate.memoizedState.cachePool.pool);var O=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(O=E.memoizedState.cachePool.pool),O!==w&&(E.flags|=2048)}return y!==u&&y&&(h.child.flags|=8192),Rc(h,h.updateQueue),Zn(h),null;case 4:return pe(),Ku(u,h),u===null&&hi(h.stateNode.containerInfo),Zn(h),null;case 10:return Vs(h.type),Zn(h),null;case 19:if(b(Ui),w=h.memoizedState,w===null)return Zn(h),null;if(E=(h.flags&128)!==0,O=w.rendering,O===null)if(E)Bc(w,!1);else{if(zn!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(O=Kr(u),O!==null){for(h.flags|=128,Bc(w,!1),u=O.updateQueue,h.updateQueue=u,Rc(h,u),h.subtreeFlags=0,u=y,y=h.child;y!==null;)of(y,u),y=y.sibling;return R(Ui,Ui.current&1|2),h.child}u=u.sibling}w.tail!==null&&wa()>iu&&(h.flags|=128,E=!0,Bc(w,!1),h.lanes=4194304)}else{if(!E)if(u=Kr(O),u!==null){if(h.flags|=128,E=!0,u=u.updateQueue,h.updateQueue=u,Rc(h,u),Bc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!O.alternate&&!vn)return Zn(h),null}else 2*wa()-w.renderingStartTime>iu&&y!==536870912&&(h.flags|=128,E=!0,Bc(w,!1),h.lanes=4194304);w.isBackwards?(O.sibling=h.child,h.child=O):(u=w.last,u!==null?u.sibling=O:h.child=O,w.last=O)}return w.tail!==null?(h=w.tail,w.rendering=h,w.tail=h.sibling,w.renderingStartTime=wa(),h.sibling=null,u=Ui.current,R(Ui,E?u&1|2:u&1),h):(Zn(h),null);case 22:case 23:return Jr(h),_a(),E=h.memoizedState!==null,u!==null?u.memoizedState!==null!==E&&(h.flags|=8192):E&&(h.flags|=8192),E?(y&536870912)!==0&&(h.flags&128)===0&&(Zn(h),h.subtreeFlags&6&&(h.flags|=8192)):Zn(h),y=h.updateQueue,y!==null&&Rc(h,y.retryQueue),y=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),E=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(E=h.memoizedState.cachePool.pool),E!==y&&(h.flags|=2048),u!==null&&b(_s),null;case 24:return y=null,u!==null&&(y=u.memoizedState.cache),h.memoizedState.cache!==y&&(h.flags|=2048),Vs(kn),Zn(h),null;case 25:return null}throw Error(r(156,h.tag))}function Ab(u,h){switch(Re(h),h.tag){case 1:return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return Vs(kn),pe(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 26:case 27:case 5:return Fe(h),null;case 13:if(Jr(h),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(r(340));Et()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return b(Ui),null;case 4:return pe(),null;case 10:return Vs(h.type),null;case 22:case 23:return Jr(h),_a(),u!==null&&b(_s),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 24:return Vs(kn),null;case 25:return null;default:return null}}function J0(u,h){switch(Re(h),h.tag){case 3:Vs(kn),pe();break;case 26:case 27:case 5:Fe(h);break;case 4:pe();break;case 13:Jr(h);break;case 19:b(Ui);break;case 10:Vs(h.type);break;case 22:case 23:Jr(h),_a(),u!==null&&b(_s);break;case 24:Vs(kn)}}function $u(u,h){try{var y=h.updateQueue,E=y!==null?y.lastEffect:null;if(E!==null){var w=E.next;y=w;do{if((y.tag&u)===u){E=void 0;var O=y.create,W=y.inst;E=O(),W.destroy=E}y=y.next}while(y!==w)}}catch(ne){Cn(h,h.return,ne)}}function Bo(u,h,y){try{var E=h.updateQueue,w=E!==null?E.lastEffect:null;if(w!==null){var O=w.next;E=O;do{if((E.tag&u)===u){var W=E.inst,ne=W.destroy;if(ne!==void 0){W.destroy=void 0,w=h;var ve=y;try{ne()}catch(Le){Cn(w,ve,Le)}}}E=E.next}while(E!==O)}}catch(Le){Cn(h,h.return,Le)}}function K0(u){var h=u.updateQueue;if(h!==null){var y=u.stateNode;try{Ke(h,y)}catch(E){Cn(u,u.return,E)}}}function Rr(u,h,y){y.props=Hs(u.type,u.memoizedProps),y.state=u.memoizedState;try{y.componentWillUnmount()}catch(E){Cn(u,h,E)}}function ja(u,h){try{var y=u.ref;if(y!==null){var E=u.stateNode;switch(u.tag){case 26:case 27:case 5:var w=Vc(E);break;default:w=E}typeof y=="function"?u.refCleanup=y(w):y.current=w}}catch(O){Cn(u,h,O)}}function Br(u,h){var y=u.ref,E=u.refCleanup;if(y!==null)if(typeof E=="function")try{E()}catch(w){Cn(u,h,w)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(w){Cn(u,h,w)}else y.current=null}function tm(u){var h=u.type,y=u.memoizedProps,E=u.stateNode;try{Tb(E,h,y,u)}catch(w){Cn(u,u.return,w)}}function nm(u,h,y){try{dv(u.stateNode,u.type,y,h,u)}catch(E){Cn(u,u.return,E)}}function im(u){return u.tag===5||u.tag===3||(ea?u.tag===26:!1)||(Ln?u.tag===27:!1)||u.tag===4}function Qu(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||im(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&(!Ln||u.tag!==27)&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function rm(u,h,y){var E=u.tag;if(E===5||E===6)u=u.stateNode,h?mv(y,u,h):Cm(y,u);else if(!(E===4||Ln&&E===27)&&(u=u.child,u!==null))for(rm(u,h,y),u=u.sibling;u!==null;)rm(u,h,y),u=u.sibling}function ks(u,h,y){var E=u.tag;if(E===5||E===6)u=u.stateNode,h?pv(y,u,h):fv(y,u);else if(!(E===4||Ln&&E===27)&&(u=u.child,u!==null))for(ks(u,h,y),u=u.sibling;u!==null;)ks(u,h,y),u=u.sibling}function Nh(u,h,y){u=u.containerInfo;try{Yc(u,y)}catch(E){Cn(h,h.return,E)}}function Zu(u,h){for(Wh(u.containerInfo),Yt=h;Yt!==null;)if(u=Yt,h=u.child,(u.subtreeFlags&1028)!==0&&h!==null)h.return=u,Yt=h;else for(;Yt!==null;){u=Yt;var y=u.alternate;switch(h=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((h&1024)!==0&&y!==null){h=void 0;var E=u,w=y.memoizedProps;y=y.memoizedState;var O=E.stateNode;try{var W=Hs(E.type,w,E.elementType===E.type);h=O.getSnapshotBeforeUpdate(W,y),O.__reactInternalSnapshotBeforeUpdate=h}catch(ne){Cn(E,E.return,ne)}}break;case 3:(h&1024)!==0&&Oi&&_v(u.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(r(163))}if(h=u.sibling,h!==null){h.return=u.return,Yt=h;break}Yt=u.return}return W=on,on=!1,W}function Uh(u,h,y){var E=y.flags;switch(y.tag){case 0:case 11:case 15:Xs(u,y),E&4&&$u(5,y);break;case 1:if(Xs(u,y),E&4)if(u=y.stateNode,h===null)try{u.componentDidMount()}catch(ne){Cn(y,y.return,ne)}else{var w=Hs(y.type,h.memoizedProps);h=h.memoizedState;try{u.componentDidUpdate(w,h,u.__reactInternalSnapshotBeforeUpdate)}catch(ne){Cn(y,y.return,ne)}}E&64&&K0(y),E&512&&ja(y,y.return);break;case 3:if(Xs(u,y),E&64&&(E=y.updateQueue,E!==null)){if(u=null,y.child!==null)switch(y.child.tag){case 27:case 5:u=Vc(y.child.stateNode);break;case 1:u=y.child.stateNode}try{Ke(E,u)}catch(ne){Cn(y,y.return,ne)}}break;case 26:if(ea){Xs(u,y),E&512&&ja(y,y.return);break}case 27:case 5:Xs(u,y),h===null&&E&4&&tm(y),E&512&&ja(y,y.return);break;case 12:Xs(u,y);break;case 13:Xs(u,y),E&4&&Lh(u,y);break;case 22:if(w=y.memoizedState!==null||bs,!w){h=h!==null&&h.memoizedState!==null||oi;var O=bs,W=oi;bs=w,(oi=h)&&!W?Ys(u,y,(y.subtreeFlags&8772)!==0):Xs(u,y),bs=O,oi=W}E&512&&(y.memoizedProps.mode==="manual"?ja(y,y.return):Br(y,y.return));break;default:Xs(u,y)}}function am(u){var h=u.alternate;h!==null&&(u.alternate=null,am(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&Mb(h)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function Qi(u,h,y){for(y=y.child;y!==null;)Do(u,h,y),y=y.sibling}function Do(u,h,y){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(pi,y)}catch{}switch(y.tag){case 26:if(ea){oi||Br(y,h),Qi(u,h,y),y.memoizedState?Sl(y.memoizedState):y.stateNode&&qc(y.stateNode);break}case 27:if(Ln){oi||Br(y,h);var E=Dt,w=en;Dt=y.stateNode,Qi(u,h,y),jo(y.stateNode),Dt=E,en=w;break}case 5:oi||Br(y,h);case 6:if(Oi){if(E=Dt,w=en,Dt=null,Qi(u,h,y),Dt=E,en=w,Dt!==null)if(en)try{gv(Dt,y.stateNode)}catch(O){Cn(y,h,O)}else try{wm(Dt,y.stateNode)}catch(O){Cn(y,h,O)}}else Qi(u,h,y);break;case 18:Oi&&Dt!==null&&(en?vf(Dt,y.stateNode):Bv(Dt,y.stateNode));break;case 4:Oi?(E=Dt,w=en,Dt=y.stateNode.containerInfo,en=!0,Qi(u,h,y),Dt=E,en=w):(Ca&&Nh(y.stateNode,y,gf()),Qi(u,h,y));break;case 0:case 11:case 14:case 15:oi||Bo(2,y,h),oi||Bo(4,y,h),Qi(u,h,y);break;case 1:oi||(Br(y,h),E=y.stateNode,typeof E.componentWillUnmount=="function"&&Rr(y,h,E)),Qi(u,h,y);break;case 21:Qi(u,h,y);break;case 22:oi||Br(y,h),oi=(E=oi)||y.memoizedState!==null,Qi(u,h,y),oi=E;break;default:Qi(u,h,y)}}function Lh(u,h){if(tr&&h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Bb(u)}catch(y){Cn(h,h.return,y)}}function $0(u){switch(u.tag){case 13:case 19:var h=u.stateNode;return h===null&&(h=u.stateNode=new wn),h;case 22:return u=u.stateNode,h=u._retryCache,h===null&&(h=u._retryCache=new wn),h;default:throw Error(r(435,u.tag))}}function js(u,h){var y=$0(u);h.forEach(function(E){var w=zo.bind(null,u,E);y.has(E)||(y.add(E),E.then(w,w))})}function xr(u,h){var y=h.deletions;if(y!==null)for(var E=0;E<y.length;E++){var w=y[E],O=u,W=h;if(Oi){var ne=W;e:for(;ne!==null;){switch(ne.tag){case 27:case 5:Dt=ne.stateNode,en=!1;break e;case 3:Dt=ne.stateNode.containerInfo,en=!0;break e;case 4:Dt=ne.stateNode.containerInfo,en=!0;break e}ne=ne.return}if(Dt===null)throw Error(r(160));Do(O,W,w),Dt=null,en=!1}else Do(O,W,w);O=w.alternate,O!==null&&(O.return=null),w.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)sm(h,u),h=h.sibling}function sm(u,h){var y=u.alternate,E=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:xr(h,u),Dr(u),E&4&&(Bo(3,u,u.return),$u(3,u),Bo(5,u,u.return));break;case 1:xr(h,u),Dr(u),E&512&&(oi||y===null||Br(y,y.return)),E&64&&bs&&(u=u.updateQueue,u!==null&&(E=u.callbacks,E!==null&&(y=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=y===null?E:y.concat(E))));break;case 26:if(ea){var w=ii;xr(h,u),Dr(u),E&512&&(oi||y===null||Br(y,y.return)),E&4&&(E=y!==null?y.memoizedState:null,h=u.memoizedState,y===null?h===null?u.stateNode===null?u.stateNode=xf(w,u.type,u.memoizedProps,u):_f(w,u.type,u.stateNode):u.stateNode=Ov(w,h,u.memoizedProps):E!==h?(E===null?y.stateNode!==null&&qc(y.stateNode):Sl(E),h===null?_f(w,u.type,u.stateNode):Ov(w,h,u.memoizedProps)):h===null&&u.stateNode!==null&&nm(u,u.memoizedProps,y.memoizedProps));break}case 27:if(Ln&&E&4&&u.alternate===null){w=u.stateNode;var O=u.memoizedProps;try{ko(w),Iv(u.type,O,w,u)}catch(Ze){Cn(u,u.return,Ze)}}case 5:if(xr(h,u),Dr(u),E&512&&(oi||y===null||Br(y,y.return)),Oi){if(u.flags&32){h=u.stateNode;try{Rm(h)}catch(Ze){Cn(u,u.return,Ze)}}E&4&&u.stateNode!=null&&(h=u.memoizedProps,nm(u,h,y!==null?y.memoizedProps:h)),E&1024&&(Gm=!0)}break;case 6:if(xr(h,u),Dr(u),E&4&&Oi){if(u.stateNode===null)throw Error(r(162));E=u.memoizedProps,y=y!==null?y.memoizedProps:E,h=u.stateNode;try{hv(h,y,E)}catch(Ze){Cn(u,u.return,Ze)}}break;case 3:if(ea?(Nv(),w=ii,ii=rd(h.containerInfo),xr(h,u),ii=w):xr(h,u),Dr(u),E&4){if(Oi&&tr&&y!==null&&y.memoizedState.isDehydrated)try{Rb(h.containerInfo)}catch(Ze){Cn(u,u.return,Ze)}if(Ca){E=h.containerInfo,y=h.pendingChildren;try{Yc(E,y)}catch(Ze){Cn(u,u.return,Ze)}}}Gm&&(Gm=!1,Q0(u));break;case 4:ea?(y=ii,ii=rd(u.stateNode.containerInfo),xr(h,u),Dr(u),ii=y):(xr(h,u),Dr(u)),E&4&&Ca&&Nh(u.stateNode,u,u.stateNode.pendingChildren);break;case 12:xr(h,u),Dr(u);break;case 13:xr(h,u),Dr(u),u.child.flags&8192&&u.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(Mr=wa()),E&4&&(E=u.updateQueue,E!==null&&(u.updateQueue=null,js(u,E)));break;case 22:E&512&&(oi||y===null||Br(y,y.return)),w=u.memoizedState!==null;var W=y!==null&&y.memoizedState!==null,ne=bs,ve=oi;if(bs=ne||w,oi=ve||W,xr(h,u),oi=ve,bs=ne,Dr(u),h=u.stateNode,h._current=u,h._visibility&=-3,h._visibility|=h._pendingVisibility&2,E&8192&&(h._visibility=w?h._visibility&-2:h._visibility|1,w&&(h=bs||oi,y===null||W||h||Dc(u)),Oi&&(u.memoizedProps===null||u.memoizedProps.mode!=="manual"))){e:if(y=null,Oi)for(h=u;;){if(h.tag===5||ea&&h.tag===26||Ln&&h.tag===27){if(y===null){W=y=h;try{O=W.stateNode,w?vv(O):xv(W.stateNode,W.memoizedProps)}catch(Ze){Cn(W,W.return,Ze)}}}else if(h.tag===6){if(y===null){W=h;try{var Le=W.stateNode;w?yv(Le):Cb(Le,W.memoizedProps)}catch(Ze){Cn(W,W.return,Ze)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===u)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break e;for(;h.sibling===null;){if(h.return===null||h.return===u)break e;y===h&&(y=null),h=h.return}y===h&&(y=null),h.sibling.return=h.return,h=h.sibling}}E&4&&(E=u.updateQueue,E!==null&&(y=E.retryQueue,y!==null&&(E.retryQueue=null,js(u,y))));break;case 19:xr(h,u),Dr(u),E&4&&(E=u.updateQueue,E!==null&&(u.updateQueue=null,js(u,E)));break;case 21:break;default:xr(h,u),Dr(u)}}function Dr(u){var h=u.flags;if(h&2){try{if(Oi&&(!Ln||u.tag!==27)){e:{for(var y=u.return;y!==null;){if(im(y)){var E=y;break e}y=y.return}throw Error(r(160))}switch(E.tag){case 27:if(Ln){var w=E.stateNode,O=Qu(u);ks(u,O,w);break}case 5:var W=E.stateNode;E.flags&32&&(Rm(W),E.flags&=-33);var ne=Qu(u);ks(u,ne,W);break;case 3:case 4:var ve=E.stateNode.containerInfo,Le=Qu(u);rm(u,Le,ve);break;default:throw Error(r(161))}}}catch(Ze){Cn(u,u.return,Ze)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function Q0(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var h=u;Q0(h),h.tag===5&&h.flags&1024&&$h(h.stateNode),u=u.sibling}}function Xs(u,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)Uh(u,h.alternate,h),h=h.sibling}function Dc(u){for(u=u.child;u!==null;){var h=u;switch(h.tag){case 0:case 11:case 14:case 15:Bo(4,h,h.return),Dc(h);break;case 1:Br(h,h.return);var y=h.stateNode;typeof y.componentWillUnmount=="function"&&Rr(h,h.return,y),Dc(h);break;case 26:case 27:case 5:Br(h,h.return),Dc(h);break;case 22:Br(h,h.return),h.memoizedState===null&&Dc(h);break;default:Dc(h)}u=u.sibling}}function Ys(u,h,y){for(y=y&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var E=h.alternate,w=u,O=h,W=O.flags;switch(O.tag){case 0:case 11:case 15:Ys(w,O,y),$u(4,O);break;case 1:if(Ys(w,O,y),E=O,w=E.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Le){Cn(E,E.return,Le)}if(E=O,w=E.updateQueue,w!==null){var ne=E.stateNode;try{var ve=w.shared.hiddenCallbacks;if(ve!==null)for(w.shared.hiddenCallbacks=null,w=0;w<ve.length;w++)le(ve[w],ne)}catch(Le){Cn(E,E.return,Le)}}y&&W&64&&K0(O),ja(O,O.return);break;case 26:case 27:case 5:Ys(w,O,y),y&&E===null&&W&4&&tm(O),ja(O,O.return);break;case 12:Ys(w,O,y);break;case 13:Ys(w,O,y),y&&W&4&&Lh(w,O);break;case 22:O.memoizedState===null&&Ys(w,O,y),ja(O,O.return);break;default:Ys(w,O,y)}h=h.sibling}}function Ih(u,h){var y=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),u=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(u=h.memoizedState.cachePool.pool),u!==y&&(u!=null&&u.refCount++,y!=null&&Ju(y))}function ef(u,h){u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&Ju(u))}function Fi(u,h,y,E){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)om(u,h,y,E),h=h.sibling}function om(u,h,y,E){var w=h.flags;switch(h.tag){case 0:case 11:case 15:Fi(u,h,y,E),w&2048&&$u(9,h);break;case 3:Fi(u,h,y,E),w&2048&&(u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&Ju(u)));break;case 12:if(w&2048){Fi(u,h,y,E),u=h.stateNode;try{var O=h.memoizedProps,W=O.id,ne=O.onPostCommit;typeof ne=="function"&&ne(W,h.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(ve){Cn(h,h.return,ve)}}else Fi(u,h,y,E);break;case 23:break;case 22:O=h.stateNode,h.memoizedState!==null?O._visibility&4?Fi(u,h,y,E):cr(u,h):O._visibility&4?Fi(u,h,y,E):(O._visibility|=4,Zi(u,h,y,E,(h.subtreeFlags&10256)!==0)),w&2048&&Ih(h.alternate,h);break;case 24:Fi(u,h,y,E),w&2048&&ef(h.alternate,h);break;default:Fi(u,h,y,E)}}function Zi(u,h,y,E,w){for(w=w&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var O=u,W=h,ne=y,ve=E,Le=W.flags;switch(W.tag){case 0:case 11:case 15:Zi(O,W,ne,ve,w),$u(8,W);break;case 23:break;case 22:var Ze=W.stateNode;W.memoizedState!==null?Ze._visibility&4?Zi(O,W,ne,ve,w):cr(O,W):(Ze._visibility|=4,Zi(O,W,ne,ve,w)),w&&Le&2048&&Ih(W.alternate,W);break;case 24:Zi(O,W,ne,ve,w),w&&Le&2048&&ef(W.alternate,W);break;default:Zi(O,W,ne,ve,w)}h=h.sibling}}function cr(u,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var y=u,E=h,w=E.flags;switch(E.tag){case 22:cr(y,E),w&2048&&Ih(E.alternate,E);break;case 24:cr(y,E),w&2048&&ef(E.alternate,E);break;default:cr(y,E)}h=h.sibling}}function Aa(u){if(u.subtreeFlags&oa)for(u=u.child;u!==null;)Ph(u),u=u.sibling}function Ph(u){switch(u.tag){case 26:Aa(u),u.flags&oa&&(u.memoizedState!==null?Lv(ii,u.memoizedState,u.memoizedProps):Ar(u.type,u.memoizedProps));break;case 5:Aa(u),u.flags&oa&&Ar(u.type,u.memoizedProps);break;case 3:case 4:if(ea){var h=ii;ii=rd(u.stateNode.containerInfo),Aa(u),ii=h}else Aa(u);break;case 22:u.memoizedState===null&&(h=u.alternate,h!==null&&h.memoizedState!==null?(h=oa,oa=16777216,Aa(u),oa=h):Aa(u));break;default:Aa(u)}}function tf(u){var h=u.alternate;if(h!==null&&(u=h.child,u!==null)){h.child=null;do h=u.sibling,u.sibling=null,u=h;while(u!==null)}}function Oo(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var y=0;y<h.length;y++){var E=h[y];Yt=E,lm(E,u)}tf(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)zh(u),u=u.sibling}function zh(u){switch(u.tag){case 0:case 11:case 15:Oo(u),u.flags&2048&&Bo(9,u,u.return);break;case 3:Oo(u);break;case 12:Oo(u);break;case 22:var h=u.stateNode;u.memoizedState!==null&&h._visibility&4&&(u.return===null||u.return.tag!==13)?(h._visibility&=-5,qs(u)):Oo(u);break;default:Oo(u)}}function qs(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var y=0;y<h.length;y++){var E=h[y];Yt=E,lm(E,u)}tf(u)}for(u=u.child;u!==null;){switch(h=u,h.tag){case 0:case 11:case 15:Bo(8,h,h.return),qs(h);break;case 22:y=h.stateNode,y._visibility&4&&(y._visibility&=-5,qs(h));break;default:qs(h)}u=u.sibling}}function lm(u,h){for(;Yt!==null;){var y=Yt;switch(y.tag){case 0:case 11:case 15:Bo(8,y,h);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var E=y.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:Ju(y.memoizedState.cache)}if(E=y.child,E!==null)E.return=y,Yt=E;else e:for(y=u;Yt!==null;){E=Yt;var w=E.sibling,O=E.return;if(am(E),E===y){Yt=null;break e}if(w!==null){w.return=O,Yt=w;break e}Yt=O}}}function Oc(u){var h=rv(u);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(r(364));return h}if(u=Mm(u),u===null)throw Error(r(362));return u.stateNode.current}function No(u,h){var y=u.tag;switch(h.$$typeof){case nu:if(u.type===h.value)return!0;break;case Oa:e:{for(h=h.value,u=[u,0],y=0;y<u.length;){var E=u[y++],w=E.tag,O=u[y++],W=h[O];if(w!==5&&w!==26&&w!==27||!jc(E)){for(;W!=null&&No(E,W);)O++,W=h[O];if(O===h.length){h=!0;break e}else for(E=E.child;E!==null;)u.push(E,O),E=E.sibling}}h=!1}return h;case Kn:if((y===5||y===26||y===27)&&lv(u.stateNode,h.value))return!0;break;case As:if((y===5||y===6||y===26||y===27)&&(u=ov(u),u!==null&&0<=u.indexOf(h.value)))return!0;break;case es:if((y===5||y===26||y===27)&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function cm(u){switch(u.$$typeof){case nu:return"<"+(o(u.value)||"Unknown")+">";case Oa:return":has("+(cm(u)||"")+")";case Kn:return'[role="'+u.value+'"]';case As:return'"'+u.value+'"';case es:return'[data-testname="'+u.value+'"]';default:throw Error(r(365))}}function Or(u,h){var y=[];u=[u,0];for(var E=0;E<u.length;){var w=u[E++],O=w.tag,W=u[E++],ne=h[W];if(O!==5&&O!==26&&O!==27||!jc(w)){for(;ne!=null&&No(w,ne);)W++,ne=h[W];if(W===h.length)y.push(w);else for(w=w.child;w!==null;)u.push(w,W),w=w.sibling}}return y}function nf(u,h){if(!Vo)throw Error(r(363));u=Oc(u),u=Or(u,h),h=[],u=Array.from(u);for(var y=0;y<u.length;){var E=u[y++],w=E.tag;if(w===5||w===26||w===27)jc(E)||h.push(E.stateNode);else for(E=E.child;E!==null;)u.push(E),E=E.sibling}return h}function fi(){if((_n&2)!==0&&fn!==0)return fn&-fn;if(Gt.T!==null){var u=ia;return u!==0?u:Ne()}return av()}function um(){ua===0&&(ua=(fn&536870912)===0||vn?V():536870912);var u=ra.current;return u!==null&&(u.flags|=32),ua}function Hi(u,h,y){(u===Rn&&Un===2||u.cancelPendingCommit!==null)&&(er(u,0),Nr(u,fn,ua,!1)),k(u,y),((_n&2)===0||u!==Rn)&&(u===Rn&&((_n&2)===0&&(oo|=y),zn===4&&Nr(u,fn,ua,!1)),Ye(u))}function Uo(u,h,y){if((_n&6)!==0)throw Error(r(327));var E=!y&&(h&60)===0&&(h&u.expiredLanes)===0||U(u,h),w=E?hm(u,h):Hh(u,h,!0),O=E;do{if(w===0){la&&!E&&Nr(u,h,0,!1);break}else if(w===6)Nr(u,h,0,!Ua);else{if(y=u.current.alternate,O&&!Nc(y)){w=Hh(u,h,!1),O=!1;continue}if(w===2){if(O=h,u.errorRecoveryDisabledLanes&O)var W=0;else W=u.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){h=W;e:{var ne=u;w=zl;var ve=tr&&ne.current.memoizedState.isDehydrated;if(ve&&(er(ne,W).flags|=256),W=Hh(ne,W,!1),W!==2){if(Li&&!ve){ne.errorRecoveryDisabledLanes|=O,oo|=O,w=4;break e}O=li,li=w,O!==null&&rf(O)}w=W}if(O=!1,w!==2)continue}}if(w===1){er(u,0),Nr(u,h,0,!0);break}e:{switch(E=u,w){case 0:case 1:throw Error(r(345));case 4:if((h&4194176)===h){Nr(E,h,ua,!Ua);break e}break;case 2:li=null;break;case 3:case 5:break;default:throw Error(r(329))}if(E.finishedWork=y,E.finishedLanes=h,(h&62914560)===h&&(O=Mr+300-wa(),10<O)){if(Nr(E,h,ua,!Ua),I(E,0)!==0)break e;E.timeoutHandle=Mi(Fh.bind(null,E,y,li,Cf,md,h,ua,oo,Ss,Ua,2,-0,0),O);break e}Fh(E,y,li,Cf,md,h,ua,oo,Ss,Ua,0,-0,0)}}break}while(!0);Ye(u)}function rf(u){li===null?li=u:li.push.apply(li,u)}function Fh(u,h,y,E,w,O,W,ne,ve,Le,Ze,ct,ft){var qt=h.subtreeFlags;if((qt&8192||(qt&16785408)===16785408)&&(Sm(),Ph(h),h=Ti(),h!==null)){u.cancelPendingCommit=h(Io.bind(null,u,y,E,w,W,ne,ve,1,ct,ft)),Nr(u,O,W,!Le);return}Io(u,y,E,w,W,ne,ve,Ze,ct,ft)}function Nc(u){for(var h=u;;){var y=h.tag;if((y===0||y===11||y===15)&&h.flags&16384&&(y=h.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var E=0;E<y.length;E++){var w=y[E],O=w.getSnapshot;w=w.value;try{if(!Lr(O(),w))return!1}catch{return!1}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Nr(u,h,y,E){h&=~Tf,h&=~oo,u.suspendedLanes|=h,u.pingedLanes&=~h,E&&(u.warmLanes|=h),E=u.expirationTimes;for(var w=h;0<w;){var O=31-Sr(w),W=1<<O;E[O]=-1,w&=~W}y!==0&&te(u,y,h)}function af(){return(_n&6)===0?(Mt(0),!1):!0}function Uc(){if(It!==null){if(Un===0)var u=It.return;else u=It,sa=Za=null,q(u),Wo=null,Jo=0,u=It;for(;u!==null;)J0(u.alternate,u),u=u.return;It=null}}function er(u,h){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;y!==Ho&&(u.timeoutHandle=Ho,Jh(y)),y=u.cancelPendingCommit,y!==null&&(u.cancelPendingCommit=null,y()),Uc(),Rn=u,It=y=Ea(u.current,null),fn=h,Un=0,fr=null,Ua=!1,la=U(u,h),Li=!1,Ss=ua=Tf=oo=ca=zn=0,li=zl=null,md=!1,(h&8)!==0&&(h|=h&32);var E=u.entangledLanes;if(E!==0)for(u=u.entanglements,E&=h;0<E;){var w=31-Sr(E),O=1<<w;h|=u[w],E&=~O}return hr=h,Pe(),y}function $r(u,h){nn=null,Gt.H=si,h===Qc?(h=yt(),Un=3):h===Ef?(h=yt(),Un=4):Un=h===dd?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,fr=h,It===null&&(zn=1,Mc(u,he(h,u.current)))}function Lo(){var u=ra.current;return u===null?!0:(fn&4194176)===fn?In===null:(fn&62914560)===fn||(fn&536870912)!==0?u===In:!1}function us(){var u=Gt.H;return Gt.H=si,u===null?si:u}function fs(){var u=Gt.A;return Gt.A=tu,u}function Ws(){zn=4,Ua||(fn&4194176)!==fn&&ra.current!==null||(la=!0),(ca&134217727)===0&&(oo&134217727)===0||Rn===null||Nr(Rn,fn,ua,!1)}function Hh(u,h,y){var E=_n;_n|=2;var w=us(),O=fs();(Rn!==u||fn!==h)&&(Cf=null,er(u,h)),h=!1;var W=zn;e:do try{if(Un!==0&&It!==null){var ne=It,ve=fr;switch(Un){case 8:Uc(),W=6;break e;case 3:case 2:case 6:ra.current===null&&(h=!0);var Le=Un;if(Un=0,fr=null,Sa(u,ne,ve,Le),y&&la){W=0;break e}break;default:Le=Un,Un=0,fr=null,Sa(u,ne,ve,Le)}}fm(),W=zn;break}catch(Ze){$r(u,Ze)}while(!0);return h&&u.shellSuspendCounter++,sa=Za=null,_n=E,Gt.H=w,Gt.A=O,It===null&&(Rn=null,fn=0,Pe()),W}function fm(){for(;It!==null;)ni(It)}function hm(u,h){var y=_n;_n|=2;var E=us(),w=fs();Rn!==u||fn!==h?(Cf=null,iu=wa()+500,er(u,h)):la=U(u,h);e:do try{if(Un!==0&&It!==null){h=It;var O=fr;t:switch(Un){case 1:Un=0,fr=null,Sa(u,h,O,1);break;case 2:if(ht(O)){Un=0,fr=null,Sn(h);break}h=function(){Un===2&&Rn===u&&(Un=7),Ye(u)},O.then(h,h);break e;case 3:Un=7;break e;case 4:Un=5;break e;case 7:ht(O)?(Un=0,fr=null,Sn(h)):(Un=0,fr=null,Sa(u,h,O,7));break;case 5:var W=null;switch(It.tag){case 26:W=It.memoizedState;case 5:case 27:var ne=It,ve=ne.type,Le=ne.pendingProps;if(W?El(W):Kh(ve,Le)){Un=0,fr=null;var Ze=ne.sibling;if(Ze!==null)It=Ze;else{var ct=ne.return;ct!==null?(It=ct,Qr(ct)):It=null}break t}}Un=0,fr=null,Sa(u,h,O,5);break;case 6:Un=0,fr=null,Sa(u,h,O,6);break;case 8:Uc(),zn=6;break e;default:throw Error(r(462))}}_r();break}catch(ft){$r(u,ft)}while(!0);return sa=Za=null,Gt.H=E,Gt.A=w,_n=y,It!==null?0:(Rn=null,fn=0,Pe(),zn)}function _r(){for(;It!==null&&!Fv();)ni(It)}function ni(u){var h=Y0(u.alternate,u,hr);u.memoizedProps=u.pendingProps,h===null?Qr(u):It=h}function Sn(u){var h=u,y=h.alternate;switch(h.tag){case 15:case 0:h=H0(y,h,h.pendingProps,h.type,void 0,fn);break;case 11:h=H0(y,h,h.pendingProps,h.type.render,h.ref,fn);break;case 5:q(h);default:J0(y,h),h=It=of(h,hr),h=Y0(y,h,hr)}u.memoizedProps=u.pendingProps,h===null?Qr(u):It=h}function Sa(u,h,y,E){sa=Za=null,q(h),Wo=null,Jo=0;var w=h.return;try{if(_b(u,w,h,y,fn)){zn=1,Mc(u,he(y,u.current)),It=null;return}}catch(O){if(w!==null)throw It=w,O;zn=1,Mc(u,he(y,u.current)),It=null;return}h.flags&32768?(vn||E===1?u=!0:la||(fn&536870912)!==0?u=!1:(Ua=u=!0,(E===2||E===3||E===6)&&(E=ra.current,E!==null&&E.tag===13&&(E.flags|=16384))),Gh(h,u)):Qr(h)}function Qr(u){var h=u;do{if((h.flags&32768)!==0){Gh(h,Ua);return}u=h.return;var y=W0(h.alternate,h,hr);if(y!==null){It=y;return}if(h=h.sibling,h!==null){It=h;return}It=h=u}while(h!==null);zn===0&&(zn=5)}function Gh(u,h){do{var y=Ab(u.alternate,u);if(y!==null){y.flags&=32767,It=y;return}if(y=u.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!h&&(u=u.sibling,u!==null)){It=u;return}It=u=y}while(u!==null);zn=6,It=null}function Io(u,h,y,E,w,O,W,ne,ve,Le){var Ze=Gt.T,ct=eo();try{ur(2),Gt.T=null,Z0(u,h,y,E,ct,w,O,W,ne,ve,Le)}finally{Gt.T=Ze,ur(ct)}}function Z0(u,h,y,E,w,O,W,ne){do Xa();while(Es!==null);if((_n&6)!==0)throw Error(r(327));var ve=u.finishedWork;if(E=u.finishedLanes,ve===null)return null;if(u.finishedWork=null,u.finishedLanes=0,ve===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var Le=ve.lanes|ve.childLanes;if(Le|=$a,ie(u,E,Le,O,W,ne),u===Rn&&(It=Rn=null,fn=0),(ve.subtreeFlags&10256)===0&&(ve.flags&10256)===0||ts||(ts=!0,el=Le,gd=y,Ks(cd,function(){return Xa(),null})),y=(ve.flags&15990)!==0,(ve.subtreeFlags&15990)!==0||y?(y=Gt.T,Gt.T=null,O=eo(),ur(2),W=_n,_n|=4,Zu(u,ve),sm(ve,u),iv(u.containerInfo),u.current=ve,Uh(u,ve.alternate,ve),od(),_n=W,ur(O),Gt.T=y):u.current=ve,ts?(ts=!1,Es=u,Fl=E):dm(u,Le),Le=u.pendingLanes,Le===0&&(Zo=null),G(ve.stateNode),Ye(u),h!==null)for(w=u.onRecoverableError,ve=0;ve<h.length;ve++)Le=h[ve],w(Le.value,{componentStack:Le.stack});return(Fl&3)!==0&&Xa(),Le=u.pendingLanes,(E&4194218)!==0&&(Le&42)!==0?u===vd?ru++:(ru=0,vd=u):ru=0,Mt(0),null}function dm(u,h){(u.pooledCacheLanes&=h)===0&&(h=u.pooledCache,h!=null&&(u.pooledCache=null,Ju(h)))}function Xa(){if(Es!==null){var u=Es,h=el;el=0;var y=fe(Fl),E=32>y?32:y;y=Gt.T;var w=eo();try{if(ur(E),Gt.T=null,Es===null)var O=!1;else{E=gd,gd=null;var W=Es,ne=Fl;if(Es=null,Fl=0,(_n&6)!==0)throw Error(r(331));var ve=_n;if(_n|=4,zh(W.current),om(W,W.current,ne,E),_n=ve,Mt(0,!1),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(pi,W)}catch{}O=!0}return O}finally{ur(w),Gt.T=y,dm(u,h)}}return!1}function Lc(u,h,y){h=he(y,h),h=Cc(u.stateNode,h,2),u=tt(u,h,2),u!==null&&(k(u,2),Ye(u))}function Cn(u,h,y){if(u.tag===3)Lc(u,u,y);else for(;h!==null;){if(h.tag===3){Lc(h,u,y);break}else if(h.tag===1){var E=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Zo===null||!Zo.has(E))){u=he(y,u),y=Yp(2),E=tt(h,y,2),E!==null&&(L0(y,E,h,u),k(E,2),Ye(E));break}}h=h.return}}function bl(u,h,y){var E=u.pingCache;if(E===null){E=u.pingCache=new Na;var w=new Set;E.set(h,w)}else w=E.get(h),w===void 0&&(w=new Set,E.set(h,w));w.has(y)||(Li=!0,w.add(y),u=pm.bind(null,u,h,y),h.then(u,u))}function pm(u,h,y){var E=u.pingCache;E!==null&&E.delete(h),u.pingedLanes|=u.suspendedLanes&y,u.warmLanes&=~y,Rn===u&&(fn&y)===y&&(zn===4||zn===3&&(fn&62914560)===fn&&300>wa()-Mr?(_n&2)===0&&er(u,0):Tf|=y,Ss===fn&&(Ss=0)),Ye(u)}function Po(u,h){h===0&&(h=P()),u=De(u,h),u!==null&&(k(u,h),Ye(u))}function Js(u){var h=u.memoizedState,y=0;h!==null&&(y=h.retryLane),Po(u,y)}function zo(u,h){var y=0;switch(u.tag){case 13:var E=u.stateNode,w=u.memoizedState;w!==null&&(y=w.retryLane);break;case 19:E=u.stateNode;break;case 22:E=u.stateNode._retryCache;break;default:throw Error(r(314))}E!==null&&E.delete(h),Po(u,y)}function Ks(u,h){return bf(u,h)}function mm(u,h,y,E){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sf(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Ea(u,h){var y=u.alternate;return y===null?(y=t(u.tag,h,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=h,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&31457280,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,h=u.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y.refCleanup=u.refCleanup,y}function of(u,h){u.flags&=31457282;var y=u.alternate;return y===null?(u.childLanes=0,u.lanes=h,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=y.childLanes,u.lanes=y.lanes,u.child=y.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=y.memoizedProps,u.memoizedState=y.memoizedState,u.updateQueue=y.updateQueue,u.type=y.type,h=y.dependencies,u.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),u}function hs(u,h,y,E,w,O){var W=0;if(E=u,typeof u=="function")sf(u)&&(W=1);else if(typeof u=="string")W=ea&&Ln?yf(u,y,Ni.current)?26:ps(u)?27:5:ea?yf(u,y,Ni.current)?26:5:Ln&&ps(u)?27:5;else e:switch(u){case Fo:return ai(y.children,w,O,h);case ff:W=8,w|=24;break;case Xh:return u=t(12,y,h,w|2),u.elementType=Xh,u.lanes=O,u;case Yh:return u=t(13,y,h,w),u.elementType=Yh,u.lanes=O,u;case Fc:return u=t(19,y,h,w),u.elementType=Fc,u.lanes=O,u;case ym:return lf(y,w,O,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case hf:case Ya:W=10;break e;case vm:W=9;break e;case df:W=11;break e;case qh:W=14;break e;case Ta:W=16,E=null;break e}W=29,y=Error(r(130,u===null?"null":typeof u,"")),E=null}return h=t(W,y,h,w),h.elementType=u,h.type=E,h.lanes=O,h}function ai(u,h,y,E){return u=t(7,u,E,h),u.lanes=y,u}function lf(u,h,y,E){u=t(22,u,E,h),u.elementType=ym,u.lanes=y;var w={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var O=w._current;if(O===null)throw Error(r(456));if((w._pendingVisibility&2)===0){var W=De(O,2);W!==null&&(w._pendingVisibility|=2,Hi(W,O,2))}},attach:function(){var O=w._current;if(O===null)throw Error(r(456));if((w._pendingVisibility&2)!==0){var W=De(O,2);W!==null&&(w._pendingVisibility&=-3,Hi(W,O,2))}}};return u.stateNode=w,u}function Vh(u,h,y){return u=t(6,u,null,h),u.lanes=y,u}function gm(u,h,y){return h=t(4,u.children!==null?u.children:[],u.key,h),h.lanes=y,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function Sb(u,h,y,E,w,O,W,ne){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ho,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=L(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L(0),this.hiddenUpdates=L(null),this.identifierPrefix=E,this.onUncaughtError=w,this.onCaughtError=O,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function ev(u,h,y,E,w,O,W,ne,ve,Le,Ze,ct){return u=new Sb(u,h,y,W,ne,ve,Le,ct),h=1,O===!0&&(h|=24),O=t(3,null,null,h),u.current=O,O.stateNode=u,h=Ro(),h.refCount++,u.pooledCache=h,h.refCount++,O.memoizedState={element:E,isDehydrated:y,cache:h},pt(O),u}function Ei(u){return u?(u=Xo,u):Xo}function kh(u){var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=_(h),u=u!==null?S(u):null,u===null?null:Vc(u.stateNode)}function Ic(u,h,y,E,w,O){w=Ei(w),E.context===null?E.context=w:E.pendingContext=w,E=je(h),E.payload={element:y},O=O===void 0?null:O,O!==null&&(E.callback=O),y=tt(u,E,h),y!==null&&(Hi(y,u,h),vt(y,u,h))}function Pc(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<h?y:h}}function cf(u,h){Pc(u,h),(u=u.alternate)&&Pc(u,h)}var Kt={},zc=Sp(),Zr=N9(),jh=Object.assign,Eb=Symbol.for("react.element"),uf=Symbol.for("react.transitional.element"),Ma=Symbol.for("react.portal"),Fo=Symbol.for("react.fragment"),ff=Symbol.for("react.strict_mode"),Xh=Symbol.for("react.profiler"),hf=Symbol.for("react.provider"),vm=Symbol.for("react.consumer"),Ya=Symbol.for("react.context"),df=Symbol.for("react.forward_ref"),Yh=Symbol.for("react.suspense"),Fc=Symbol.for("react.suspense_list"),qh=Symbol.for("react.memo"),Ta=Symbol.for("react.lazy"),ym=Symbol.for("react.offscreen"),tv=Symbol.for("react.memo_cache_sentinel"),$s=Symbol.iterator,xm=Symbol.for("react.client.reference"),Gt=zc.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ds,Qs,Al=!1,Hc=Array.isArray,_m=e.rendererVersion,pf=e.rendererPackageName,Gc=e.extraDevToolsConfig,Vc=e.getPublicInstance,nv=e.getRootHostContext,kc=e.getChildHostContext,Wh=e.prepareForCommit,iv=e.resetAfterCommit,bm=e.createInstance,mf=e.appendInitialChild,Zs=e.finalizeInitialChildren,$t=e.shouldSetTextContent,On=e.createTextInstance,Mi=e.scheduleTimeout,Jh=e.cancelTimeout,Ho=e.noTimeout,br=e.isPrimaryRenderer;e.warnsIfNotActing;var Oi=e.supportsMutation,Ca=e.supportsPersistence,tr=e.supportsHydration,rv=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var hi=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var ur=e.setCurrentUpdatePriority,eo=e.getCurrentUpdatePriority,av=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var sv=e.shouldAttemptEagerTransition,Mb=e.detachDeletedInstance;e.requestPostPaintCallback;var Am=e.maySuspendCommit,Kh=e.preloadInstance,Sm=e.startSuspendingCommit,Ar=e.suspendInstance,Ti=e.waitForCommitToBeReady,Go=e.NotPendingTransition,qa=e.HostTransitionContext,$h=e.resetFormInstance;e.bindToConsole;var Em=e.supportsMicrotasks,to=e.scheduleMicrotask,Vo=e.supportsTestSelectors,Mm=e.findFiberRoot,Tm=e.getBoundingRect,ov=e.getTextContent,jc=e.isHiddenSubtree,lv=e.matchAccessibilityRole,cv=e.setFocusIfFocusable,uv=e.setupIntersectionObserver,fv=e.appendChild,Cm=e.appendChildToContainer,hv=e.commitTextUpdate,Tb=e.commitMount,dv=e.commitUpdate,pv=e.insertBefore,mv=e.insertInContainerBefore,wm=e.removeChild,gv=e.removeChildFromContainer,Rm=e.resetTextContent,vv=e.hideInstance,yv=e.hideTextInstance,xv=e.unhideInstance,Cb=e.unhideTextInstance,_v=e.clearContainer,Xc=e.cloneInstance,gf=e.createContainerChildSet,Bm=e.appendChildToContainerChildSet,Qh=e.finalizeContainerChildren,Yc=e.replaceContainerChildren,Dm=e.cloneHiddenInstance,Om=e.cloneHiddenTextInstance,Zh=e.isSuspenseInstancePending,ed=e.isSuspenseInstanceFallback,bv=e.getSuspenseInstanceFallbackErrorDetails,Av=e.registerSuspenseInstanceRetry,Nm=e.canHydrateFormStateMarker,Sv=e.isFormStateMarkerMatching,Um=e.getNextHydratableSibling,td=e.getFirstHydratableChild,Ev=e.getFirstHydratableChildWithinContainer,Mv=e.getFirstHydratableChildWithinSuspenseInstance,wb=e.canHydrateInstance,Lm=e.canHydrateTextInstance,Tv=e.canHydrateSuspenseInstance,Cv=e.hydrateInstance,Im=e.hydrateTextInstance,wv=e.hydrateSuspenseInstance,Rv=e.getNextHydratableInstanceAfterSuspenseInstance,Rb=e.commitHydratedContainer,Bb=e.commitHydratedSuspenseInstance,Bv=e.clearSuspenseBoundary,vf=e.clearSuspenseBoundaryFromContainer,nd=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var id=e.validateHydratableInstance,Dv=e.validateHydratableTextInstance,ea=e.supportsResources,yf=e.isHostHoistableType,rd=e.getHoistableRoot,Pm=e.getResource,Ov=e.acquireResource,Sl=e.releaseResource,xf=e.hydrateHoistable,_f=e.mountHoistable,qc=e.unmountHoistable,ad=e.createHoistableInstance,Nv=e.prepareToCommitHoistables,Uv=e.mayResourceSuspendCommit,El=e.preloadResource,Lv=e.suspendResource,Ln=e.supportsSingletons,Wa=e.resolveSingletonInstance,ko=e.clearSingleton,Iv=e.acquireSingletonInstance,jo=e.releaseSingletonInstance,ps=e.isHostSingletonType,di=[],no=-1,Xo={},Sr=Math.clz32?Math.clz32:B,Pv=Math.log,zv=Math.LN2,ms=128,Ml=4194304,bf=Zr.unstable_scheduleCallback,sd=Zr.unstable_cancelCallback,Fv=Zr.unstable_shouldYield,od=Zr.unstable_requestPaint,wa=Zr.unstable_now,ld=Zr.unstable_ImmediatePriority,Hv=Zr.unstable_UserBlockingPriority,cd=Zr.unstable_NormalPriority,Db=Zr.unstable_IdlePriority,Gv=Zr.log,Gi=Zr.unstable_setDisableYieldValue,pi=null,Ur=null,Lr=typeof Object.is=="function"?Object.is:Q,zm=new WeakMap,Tl=[],Cl=0,wl=null,Wc=0,ta=[],na=0,Yo=null,Ja=1,Ka="",Ni=M(null),Jc=M(null),gs=M(null),Rl=M(null),nr=null,ir=null,vn=!1,Ra=null,Vi=!1,Af=Error(r(519)),Ba=[],Bl=0,$a=0,Sf=null,io=null,Dl=!1,Gn=!1,Fm=!1,Kc=0,$c=null,Ol=0,ia=0,Nl=null,ro=!1,Ul=!1,vs=Object.prototype.hasOwnProperty,Qc=Error(r(460)),Ef=Error(r(474)),Mf={then:function(){}},qo=null,Wo=null,Jo=0,Ko=bi(!0),ys=bi(!1),Vn=M(null),Zc=M(0),ra=M(null),In=null,Ui=M(0),ao=0,nn=null,Ut=null,xn=null,Da=!1,Ll=!1,$o=!1,ud=0,Il=0,ki=null,Qa=0,fd=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},si={readContext:$i,use:me,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useLayoutEffect:Hn,useInsertionEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useSyncExternalStore:Hn,useId:Hn};si.useCacheRefresh=Hn,si.useMemoCache=Hn,si.useHostTransitionStatus=Hn,si.useFormState=Hn,si.useActionState=Hn,si.useOptimistic=Hn;var Qo={readContext:$i,use:me,useCallback:function(u,h){return ce().memoizedState=[u,h===void 0?null:h],u},useContext:$i,useEffect:Ah,useImperativeHandle:function(u,h,y){y=y!=null?y.concat([u]):null,Pu(4194308,4,Sh.bind(null,h,u),y)},useLayoutEffect:function(u,h){return Pu(4194308,4,u,h)},useInsertionEffect:function(u,h){Pu(4,2,u,h)},useMemo:function(u,h){var y=ce();h=h===void 0?null:h;var E=u();if($o){$(!0);try{u()}finally{$(!1)}}return y.memoizedState=[E,h],E},useReducer:function(u,h,y){var E=ce();if(y!==void 0){var w=y(h);if($o){$(!0);try{y(h)}finally{$(!1)}}}else w=h;return E.memoizedState=E.baseState=w,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:w},E.queue=u,u=u.dispatch=Mh.bind(null,nn,u),[E.memoizedState,u]},useRef:function(u){var h=ce();return u={current:u},h.memoizedState=u},useState:function(u){u=Jt(u);var h=u.queue,y=Xp.bind(null,nn,h);return h.dispatch=y,[u.memoizedState,y]},useDebugValue:Eo,useDeferredValue:function(u,h){var y=ce();return Hu(y,u,h)},useTransition:function(){var u=Jt(!1);return u=_c.bind(null,nn,u.queue,!0,!1),ce().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,h,y){var E=nn,w=ce();if(vn){if(y===void 0)throw Error(r(407));y=y()}else{if(y=h(),Rn===null)throw Error(r(349));(fn&60)!==0||At(E,h,y)}w.memoizedState=y;var O={value:y,getSnapshot:h};return w.queue=O,Ah(yn.bind(null,E,O,u),[u]),E.flags|=2048,Di(9,Zt.bind(null,E,O,y,h),{destroy:void 0},null),y},useId:function(){var u=ce(),h=Rn.identifierPrefix;if(vn){var y=Ka,E=Ja;y=(E&~(1<<32-Sr(E)-1)).toString(32)+y,h=":"+h+"R"+y,y=ud++,0<y&&(h+="H"+y.toString(32)),h+=":"}else y=Qa++,h=":"+h+"r"+y.toString(32)+":";return u.memoizedState=h},useCacheRefresh:function(){return ce().memoizedState=jp.bind(null,nn)}};Qo.useMemoCache=Je,Qo.useHostTransitionStatus=Gu,Qo.useFormState=lr,Qo.useActionState=lr,Qo.useOptimistic=function(u){var h=ce();h.memoizedState=h.baseState=u;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=y,h=Ac.bind(null,nn,!0,y),y.dispatch=h,[u,h]};var Er={readContext:$i,use:me,useCallback:yl,useContext:$i,useEffect:Gp,useImperativeHandle:Eh,useInsertionEffect:N0,useLayoutEffect:Fu,useMemo:Vp,useReducer:dt,useRef:O0,useState:function(){return dt(rt)},useDebugValue:Eo,useDeferredValue:function(u,h){var y=ye();return kp(y,Ut.memoizedState,u,h)},useTransition:function(){var u=dt(rt)[0],h=ye().memoizedState;return[typeof u=="boolean"?u:Me(u),h]},useSyncExternalStore:Nt,useId:bc};Er.useCacheRefresh=Fs,Er.useMemoCache=Je,Er.useHostTransitionStatus=Gu,Er.useFormState=Wi,Er.useActionState=Wi,Er.useOptimistic=function(u,h){var y=ye();return Rt(y,Ut,u,h)};var aa={readContext:$i,use:me,useCallback:yl,useContext:$i,useEffect:Gp,useImperativeHandle:Eh,useInsertionEffect:N0,useLayoutEffect:Fu,useMemo:Vp,useReducer:wt,useRef:O0,useState:function(){return wt(rt)},useDebugValue:Eo,useDeferredValue:function(u,h){var y=ye();return Ut===null?Hu(y,u,h):kp(y,Ut.memoizedState,u,h)},useTransition:function(){var u=wt(rt)[0],h=ye().memoizedState;return[typeof u=="boolean"?u:Me(u),h]},useSyncExternalStore:Nt,useId:bc};aa.useCacheRefresh=Fs,aa.useMemoCache=Je,aa.useHostTransitionStatus=Gu,aa.useFormState=vl,aa.useActionState=vl,aa.useOptimistic=function(u,h){var y=ye();return Ut!==null?Rt(y,Ut,u,h):(y.baseState=u,[u,y.queue.dispatch])};var xs={isMounted:function(u){return(u=u._reactInternals)?v(u)===u:!1},enqueueSetState:function(u,h,y){u=u._reactInternals;var E=fi(),w=je(E);w.payload=h,y!=null&&(w.callback=y),h=tt(u,w,E),h!==null&&(Hi(h,u,E),vt(h,u,E))},enqueueReplaceState:function(u,h,y){u=u._reactInternals;var E=fi(),w=je(E);w.tag=1,w.payload=h,y!=null&&(w.callback=y),h=tt(u,w,E),h!==null&&(Hi(h,u,E),vt(h,u,E))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var y=fi(),E=je(y);E.tag=2,h!=null&&(E.callback=h),h=tt(u,E,y),h!==null&&(Hi(h,u,y),vt(h,u,y))}},hd=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},dd=Error(r(461)),Pn=!1,pd={dehydrated:null,treeContext:null,retryLane:0},so=M(null),Za=null,sa=null,eu=typeof AbortController<"u"?AbortController:function(){var u=[],h=this.signal={aborted:!1,addEventListener:function(y,E){u.push(E)}};this.abort=function(){h.aborted=!0,u.forEach(function(y){return y()})}},Vv=Zr.unstable_scheduleCallback,kv=Zr.unstable_NormalPriority,kn={$$typeof:Ya,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Hm=Gt.S;Gt.S=function(u,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&we(u,h),Hm!==null&&Hm(u,h)};var _s=M(null),bs=!1,oi=!1,Gm=!1,wn=typeof WeakSet=="function"?WeakSet:Set,Yt=null,on=!1,Dt=null,en=!1,ii=null,oa=8192,tu={getCacheForType:function(u){var h=$i(kn),y=h.data.get(u);return y===void 0&&(y=u(),h.data.set(u,y)),y}},nu=0,Oa=1,Kn=2,es=3,As=4;if(typeof Symbol=="function"&&Symbol.for){var Pl=Symbol.for;nu=Pl("selector.component"),Oa=Pl("selector.has_pseudo_class"),Kn=Pl("selector.role"),es=Pl("selector.test_id"),As=Pl("selector.text")}var Na=typeof WeakMap=="function"?WeakMap:Map,_n=0,Rn=null,It=null,fn=0,Un=0,fr=null,Ua=!1,la=!1,Li=!1,hr=0,zn=0,ca=0,oo=0,Tf=0,ua=0,Ss=0,zl=null,li=null,md=!1,Mr=0,iu=1/0,Cf=null,Zo=null,ts=!1,Es=null,Fl=0,el=0,gd=null,ru=0,vd=null;return Kt.attemptContinuousHydration=function(u){if(u.tag===13){var h=De(u,67108864);h!==null&&Hi(h,u,67108864),cf(u,67108864)}},Kt.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var h=fi(),y=De(u,h);y!==null&&Hi(y,u,h),cf(u,h)}},Kt.attemptSynchronousHydration=function(u){switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var h=D(u.pendingLanes);if(h!==0){for(u.pendingLanes|=2,u.entangledLanes|=2;h;){var y=1<<31-Sr(h);u.entanglements[1]|=y,h&=~y}Ye(u),(_n&6)===0&&(iu=wa()+500,Mt(0))}}break;case 13:h=De(u,2),h!==null&&Hi(h,u,2),af(),cf(u,2)}},Kt.batchedUpdates=function(u,h){return u(h)},Kt.createComponentSelector=function(u){return{$$typeof:nu,value:u}},Kt.createContainer=function(u,h,y,E,w,O,W,ne,ve,Le){return ev(u,h,!1,null,y,E,O,W,ne,ve,Le,null)},Kt.createHasPseudoClassSelector=function(u){return{$$typeof:Oa,value:u}},Kt.createHydrationContainer=function(u,h,y,E,w,O,W,ne,ve,Le,Ze,ct,ft){return u=ev(y,E,!0,u,w,O,ne,ve,Le,Ze,ct,ft),u.context=Ei(null),y=u.current,E=fi(),w=je(E),w.callback=h??null,tt(y,w,E),u.current.lanes=E,k(u,E),Ye(u),u},Kt.createPortal=function(u,h,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ma,key:E==null?null:""+E,children:u,containerInfo:h,implementation:y}},Kt.createRoleSelector=function(u){return{$$typeof:Kn,value:u}},Kt.createTestNameSelector=function(u){return{$$typeof:es,value:u}},Kt.createTextSelector=function(u){return{$$typeof:As,value:u}},Kt.defaultOnCaughtError=function(u){console.error(u)},Kt.defaultOnRecoverableError=function(u){hd(u)},Kt.defaultOnUncaughtError=function(u){hd(u)},Kt.deferredUpdates=function(u){var h=Gt.T,y=eo();try{return ur(32),Gt.T=null,u()}finally{ur(y),Gt.T=h}},Kt.discreteUpdates=function(u,h,y,E,w){var O=Gt.T,W=eo();try{return ur(2),Gt.T=null,u(h,y,E,w)}finally{ur(W),Gt.T=O,_n===0&&(iu=wa()+500)}},Kt.findAllNodes=nf,Kt.findBoundingRects=function(u,h){if(!Vo)throw Error(r(363));h=nf(u,h),u=[];for(var y=0;y<h.length;y++)u.push(Tm(h[y]));for(h=u.length-1;0<h;h--){y=u[h];for(var E=y.x,w=E+y.width,O=y.y,W=O+y.height,ne=h-1;0<=ne;ne--)if(h!==ne){var ve=u[ne],Le=ve.x,Ze=Le+ve.width,ct=ve.y,ft=ct+ve.height;if(E>=Le&&O>=ct&&w<=Ze&&W<=ft){u.splice(h,1);break}else if(E!==Le||y.width!==ve.width||ft<O||ct>W){if(!(O!==ct||y.height!==ve.height||Ze<E||Le>w)){Le>E&&(ve.width+=Le-E,ve.x=E),Ze<w&&(ve.width=w-Le),u.splice(h,1);break}}else{ct>O&&(ve.height+=ct-O,ve.y=O),ft<W&&(ve.height=W-ct),u.splice(h,1);break}}}return u},Kt.findHostInstance=kh,Kt.findHostInstanceWithNoPortals=function(u){return u=_(u),u=u!==null?T(u):null,u===null?null:Vc(u.stateNode)},Kt.findHostInstanceWithWarning=function(u){return kh(u)},Kt.flushPassiveEffects=Xa,Kt.flushSyncFromReconciler=function(u){var h=_n;_n|=1;var y=Gt.T,E=eo();try{if(ur(2),Gt.T=null,u)return u()}finally{ur(E),Gt.T=y,_n=h,(_n&6)===0&&Mt(0)}},Kt.flushSyncWork=af,Kt.focusWithin=function(u,h){if(!Vo)throw Error(r(363));for(u=Oc(u),h=Or(u,h),h=Array.from(h),u=0;u<h.length;){var y=h[u++],E=y.tag;if(!jc(y)){if((E===5||E===26||E===27)&&cv(y.stateNode))return!0;for(y=y.child;y!==null;)h.push(y),y=y.sibling}}return!1},Kt.getFindAllNodesFailureDescription=function(u,h){if(!Vo)throw Error(r(363));var y=0,E=[];u=[Oc(u),0];for(var w=0;w<u.length;){var O=u[w++],W=O.tag,ne=u[w++],ve=h[ne];if((W!==5&&W!==26&&W!==27||!jc(O))&&(No(O,ve)&&(E.push(cm(ve)),ne++,ne>y&&(y=ne)),ne<h.length))for(O=O.child;O!==null;)u.push(O,ne),O=O.sibling}if(y<h.length){for(u=[];y<h.length;y++)u.push(cm(h[y]));return`findAllNodes was able to match part of the selector:
  `+(E.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},Kt.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 27:case 5:return Vc(u.child.stateNode);default:return u.child.stateNode}},Kt.injectIntoDevTools=function(){var u={bundleType:0,version:_m,rendererPackageName:pf,currentDispatcherRef:Gt,findFiberByHostInstance:rv,reconcilerVersion:"19.0.0"};if(Gc!==null&&(u.rendererConfig=Gc),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)u=!0;else{try{pi=h.inject(u),Ur=h}catch{}u=!!h.checkDCE}}return u},Kt.isAlreadyRendering=function(){return!1},Kt.observeVisibleRects=function(u,h,y,E){if(!Vo)throw Error(r(363));u=nf(u,h);var w=uv(u,y,E).disconnect;return{disconnect:function(){w()}}},Kt.shouldError=function(){return null},Kt.shouldSuspend=function(){return!1},Kt.startHostTransition=function(u,h,y,E){if(u.tag!==5)throw Error(r(476));var w=cs(u).queue;_c(u,w,h,Go,y===null?i:function(){var O=cs(u).next.queue;return Mo(u,O,{},fi()),y(E)})},Kt.updateContainer=function(u,h,y,E){var w=h.current,O=fi();return Ic(w,O,u,h,y,E),O},Kt.updateContainerSync=function(u,h,y,E){return h.tag===0&&Xa(),Ic(h.current,2,u,h,y,E),2},Kt},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(sS)),sS.exports}var sw;function L9(){return sw||(sw=1,aS.exports=U9()),aS.exports}var I9=L9();const P9=vh(I9);var cS={exports:{}},uS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow;function z9(){return ow||(ow=1,function(n){function e(G,$){var Q=G.length;G.push($);e:for(;0<Q;){var he=Q-1>>>1,Y=G[he];if(0<r(Y,$))G[he]=$,G[Q]=Y,Q=he;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var $=G[0],Q=G.pop();if(Q!==$){G[0]=Q;e:for(var he=0,Y=G.length,ae=Y>>>1;he<ae;){var Se=2*(he+1)-1,Re=G[Se],Ue=Se+1,pe=G[Ue];if(0>r(Re,Q))Ue<Y&&0>r(pe,Re)?(G[he]=pe,G[Ue]=Q,he=Ue):(G[he]=Re,G[Se]=Q,he=Se);else if(Ue<Y&&0>r(pe,Q))G[he]=pe,G[Ue]=Q,he=Ue;else break e}}return $}function r(G,$){var Q=G.sortIndex-$.sortIndex;return Q!==0?Q:G.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var f=[],p=[],m=1,v=null,x=3,_=!1,S=!1,T=!1,M=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function B(G){for(var $=t(p);$!==null;){if($.callback===null)i(p);else if($.startTime<=G)i(p),$.sortIndex=$.expirationTime,e(f,$);else break;$=t(p)}}function D(G){if(T=!1,B(G),!S)if(t(f)!==null)S=!0,ue();else{var $=t(p);$!==null&&fe(D,$.startTime-G)}}var I=!1,U=-1,F=5,V=-1;function P(){return!(n.unstable_now()-V<F)}function L(){if(I){var G=n.unstable_now();V=G;var $=!0;try{e:{S=!1,T&&(T=!1,b(U),U=-1),_=!0;var Q=x;try{t:{for(B(G),v=t(f);v!==null&&!(v.expirationTime>G&&P());){var he=v.callback;if(typeof he=="function"){v.callback=null,x=v.priorityLevel;var Y=he(v.expirationTime<=G);if(G=n.unstable_now(),typeof Y=="function"){v.callback=Y,B(G),$=!0;break t}v===t(f)&&i(f),B(G)}else i(f);v=t(f)}if(v!==null)$=!0;else{var ae=t(p);ae!==null&&fe(D,ae.startTime-G),$=!1}}break e}finally{v=null,x=Q,_=!1}$=void 0}}finally{$?k():I=!1}}}var k;if(typeof R=="function")k=function(){R(L)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,te=ie.port2;ie.port1.onmessage=L,k=function(){te.postMessage(null)}}else k=function(){M(L,0)};function ue(){I||(I=!0,k())}function fe(G,$){U=M(function(){G(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){S||_||(S=!0,ue())},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(G){switch(x){case 1:case 2:case 3:var $=3;break;default:$=x}var Q=x;x=$;try{return G()}finally{x=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,$){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Q=x;x=G;try{return $()}finally{x=Q}},n.unstable_scheduleCallback=function(G,$,Q){var he=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?he+Q:he):Q=he,G){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=Q+Y,G={id:m++,callback:$,priorityLevel:G,startTime:Q,expirationTime:Y,sortIndex:-1},Q>he?(G.sortIndex=Q,e(p,G),t(f)===null&&G===t(p)&&(T?(b(U),U=-1):T=!0,fe(D,Q-he))):(G.sortIndex=Y,e(f,G),S||_||(S=!0,ue())),G},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(G){var $=x;return function(){var Q=x;x=$;try{return G.apply(this,arguments)}finally{x=Q}}}}(uS)),uS}var lw;function F9(){return lw||(lw=1,cS.exports=z9()),cS.exports}var cw=F9();function KE(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=KE(i,e,t);if(r)return r;i=e?null:i.sibling}}function l3(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const $E=l3(N.createContext(null));let c3=class extends N.Component{render(){return N.createElement($E.Provider,{value:this._reactInternals},this.props.children)}};function u3(){const n=N.useContext($E);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=N.useId();return N.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const i=KE(t,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[n,e])}const H9=Symbol.for("react.context"),G9=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===H9;function V9(){const n=u3(),[e]=N.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;G9(i)&&i!==$E&&!e.has(i)&&e.set(i,N.use(l3(i))),t=t.return}return e}function k9(){const n=V9();return N.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>N.createElement(e,null,N.createElement(t.Provider,{...i,value:n.get(t)})),e=>N.createElement(c3,{...e})),[n])}function f3(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const h3=n=>n&&n.isOrthographicCamera,j9=n=>n&&n.hasOwnProperty("current"),X9=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),b0=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?N.useLayoutEffect:N.useEffect;function d3(n){const e=N.useRef(n);return b0(()=>void(e.current=n),[n]),e}function Y9(){const n=u3(),e=k9();return N.useMemo(()=>({children:t})=>{const r=!!KE(n,!0,a=>a.type===N.StrictMode)?N.StrictMode:N.Fragment;return J.jsx(r,{children:J.jsx(e,{children:t})})},[n,e])}function q9({set:n}){return b0(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const W9=(n=>(n=class extends N.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function p3(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function jd(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const ci={obj:n=>n===Object(n)&&!ci.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(ci.str(n)||ci.num(n)||ci.boo(n))return n===e;const a=ci.obj(n);if(a&&i==="reference")return n===e;const o=ci.arr(n);if(o&&t==="reference")return n===e;if((o||a)&&n===e)return!0;let c;for(c in n)if(!(c in e))return!1;if(a&&t==="shallow"&&i==="shallow"){for(c in r?e:n)if(!ci.equ(n[c],e[c],{strict:r,objects:"reference"}))return!1}else for(c in r?e:n)if(n[c]!==e[c])return!1;if(ci.und(c)){if(o&&n.length===0&&e.length===0||a&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function J9(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function K9(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const m3=["children","key","ref"];function $9(n){const e={};for(const t in n)m3.includes(t)||(e[t]=n[t]);return e}function r_(n,e,t,i){const r=n;let a=r==null?void 0:r.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:$9(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function n0(n,e){let t=n[e];if(!e.includes("-"))return{root:n,key:e,target:t};t=n;for(const r of e.split("-")){var i;e=r,n=t,t=(i=t)==null?void 0:i[e]}return{root:n,key:e,target:t}}const uw=/-\d+$/;function a_(n,e){if(ci.str(e.props.attach)){if(uw.test(e.props.attach)){const r=e.props.attach.replace(uw,""),{root:a,key:o}=n0(n.object,r);Array.isArray(a[o])||(a[o]=[])}const{root:t,key:i}=n0(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else ci.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function s_(n,e){if(ci.str(e.props.attach)){const{root:t,key:i}=n0(n.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[i]:t[i]=r}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const m1=[...m3,"args","dispose","attach","object","onUpdate","dispose"],fw=new Map;function Q9(n){let e=fw.get(n.constructor);try{e||(e=new n.constructor,fw.set(n.constructor,e))}catch{}return e}function Z9(n,e){const t={};for(const i in e)if(!m1.includes(i)&&!ci.equ(e[i],n.props[i])){t[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(t[r]=e[r])}for(const i in n.props){if(m1.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:a}=n0(n.object,i);if(r.constructor&&r.constructor.length===0){const o=Q9(r);ci.und(o)||(t[a]=o[a])}else t[a]=0}return t}const e8=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],t8=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Au(n,e){var t;const i=n.__r3f,r=i&&f3(i).getState(),a=i==null?void 0:i.eventCount;for(const c in e){let f=e[c];if(m1.includes(c))continue;if(i&&t8.test(c)){typeof f=="function"?i.handlers[c]=f:delete i.handlers[c],i.eventCount=Object.keys(i.handlers).length;continue}if(f===void 0)continue;let{root:p,key:m,target:v}=n0(n,c);if(v instanceof vp&&f instanceof vp)v.mask=f.mask;else if(v instanceof ot&&X9(f))v.set(f);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof v.copy=="function"&&f!=null&&f.constructor&&v.constructor===f.constructor)v.copy(f);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&Array.isArray(f))typeof v.fromArray=="function"?v.fromArray(f):v.set(...f);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof f=="number")typeof v.setScalar=="function"?v.setScalar(f):v.set(f);else{var o;p[m]=f,r&&!r.linear&&e8.includes(m)&&(o=p[m])!=null&&o.isTexture&&p[m].format===Gr&&p[m].type===Ns&&(p[m].colorSpace=Hr)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(t=i.object)!=null&&t.isObject3D&&a!==i.eventCount){const c=i.object,f=r.internal.interaction.indexOf(c);f>-1&&r.internal.interaction.splice(f,1),i.eventCount&&c.raycast!==null&&r.internal.interaction.push(c)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&Up(i),n}function Up(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function n8(n,e){n.manual||(h3(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const ga=n=>n==null?void 0:n.isObject3D;function Qy(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function g3(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function i8(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{g3(t.capturedMap,e,i,r)})}function r8(n){function e(f){const{internal:p}=n.getState(),m=f.offsetX-p.initialClick[0],v=f.offsetY-p.initialClick[1];return Math.round(Math.sqrt(m*m+v*v))}function t(f){return f.filter(p=>["Move","Over","Enter","Out","Leave"].some(m=>{var v;return(v=p.__r3f)==null?void 0:v.handlers["onPointer"+m]}))}function i(f,p){const m=n.getState(),v=new Set,x=[],_=p?p(m.internal.interaction):m.internal.interaction;for(let b=0;b<_.length;b++){const R=jd(_[b]);R&&(R.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(f,m);function S(b){const R=jd(b);if(!R||!R.events.enabled||R.raycaster.camera===null)return[];if(R.raycaster.camera===void 0){var B;R.events.compute==null||R.events.compute(f,R,(B=R.previousRoot)==null?void 0:B.getState()),R.raycaster.camera===void 0&&(R.raycaster.camera=null)}return R.raycaster.camera?R.raycaster.intersectObject(b,!0):[]}let T=_.flatMap(S).sort((b,R)=>{const B=jd(b.object),D=jd(R.object);return!B||!D?b.distance-R.distance:D.events.priority-B.events.priority||b.distance-R.distance}).filter(b=>{const R=Qy(b);return v.has(R)?!1:(v.add(R),!0)});m.events.filter&&(T=m.events.filter(T,m));for(const b of T){let R=b.object;for(;R;){var M;(M=R.__r3f)!=null&&M.eventCount&&x.push({...b,eventObject:R}),R=R.parent}}if("pointerId"in f&&m.internal.capturedMap.has(f.pointerId))for(let b of m.internal.capturedMap.get(f.pointerId).values())v.has(Qy(b.intersection))||x.push(b.intersection);return x}function r(f,p,m,v){if(f.length){const x={stopped:!1};for(const _ of f){let S=jd(_.object);if(S||_.object.traverseAncestors(T=>{const M=jd(T);if(M)return S=M,!1}),S){const{raycaster:T,pointer:M,camera:b,internal:R}=S,B=new K(M.x,M.y,0).unproject(b),D=P=>{var L,k;return(L=(k=R.capturedMap.get(P))==null?void 0:k.has(_.eventObject))!=null?L:!1},I=P=>{const L={intersection:_,target:p.target};R.capturedMap.has(P)?R.capturedMap.get(P).set(_.eventObject,L):R.capturedMap.set(P,new Map([[_.eventObject,L]])),p.target.setPointerCapture(P)},U=P=>{const L=R.capturedMap.get(P);L&&g3(R.capturedMap,_.eventObject,L,P)};let F={};for(let P in p){let L=p[P];typeof L!="function"&&(F[P]=L)}let V={..._,...F,pointer:M,intersections:f,stopped:x.stopped,delta:m,unprojectedPoint:B,ray:T.ray,camera:b,stopPropagation(){const P="pointerId"in p&&R.capturedMap.get(p.pointerId);if((!P||P.has(_.eventObject))&&(V.stopped=x.stopped=!0,R.hovered.size&&Array.from(R.hovered.values()).find(L=>L.eventObject===_.eventObject))){const L=f.slice(0,f.indexOf(_));a([...L,_])}},target:{hasPointerCapture:D,setPointerCapture:I,releasePointerCapture:U},currentTarget:{hasPointerCapture:D,setPointerCapture:I,releasePointerCapture:U},nativeEvent:p};if(v(V),x.stopped===!0)break}}}return f}function a(f){const{internal:p}=n.getState();for(const m of p.hovered.values())if(!f.length||!f.find(v=>v.object===m.object&&v.index===m.index&&v.instanceId===m.instanceId)){const x=m.eventObject.__r3f;if(p.hovered.delete(Qy(m)),x!=null&&x.eventCount){const _=x.handlers,S={...m,intersections:f};_.onPointerOut==null||_.onPointerOut(S),_.onPointerLeave==null||_.onPointerLeave(S)}}}function o(f,p){for(let m=0;m<p.length;m++){const v=p[m].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(f)}}function c(f){switch(f){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return p=>{const{internal:m}=n.getState();"pointerId"in p&&m.capturedMap.has(p.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(p.pointerId)&&(m.capturedMap.delete(p.pointerId),a([]))})}}return function(m){const{onPointerMissed:v,internal:x}=n.getState();x.lastEvent.current=m;const _=f==="onPointerMove",S=f==="onClick"||f==="onContextMenu"||f==="onDoubleClick",M=i(m,_?t:void 0),b=S?e(m):0;f==="onPointerDown"&&(x.initialClick=[m.offsetX,m.offsetY],x.initialHits=M.map(B=>B.eventObject)),S&&!M.length&&b<=2&&(o(m,x.interaction),v&&v(m)),_&&a(M);function R(B){const D=B.eventObject,I=D.__r3f;if(!(I!=null&&I.eventCount))return;const U=I.handlers;if(_){if(U.onPointerOver||U.onPointerEnter||U.onPointerOut||U.onPointerLeave){const F=Qy(B),V=x.hovered.get(F);V?V.stopped&&B.stopPropagation():(x.hovered.set(F,B),U.onPointerOver==null||U.onPointerOver(B),U.onPointerEnter==null||U.onPointerEnter(B))}U.onPointerMove==null||U.onPointerMove(B)}else{const F=U[f];F?(!S||x.initialHits.includes(D))&&(o(m,x.interaction.filter(V=>!x.initialHits.includes(V))),F(B)):S&&x.initialHits.includes(D)&&o(m,x.interaction.filter(V=>!x.initialHits.includes(V)))}}r(M,m,b,R)}}return{handlePointer:c}}const hw=n=>!!(n!=null&&n.render),v3=N.createContext(null),a8=(n,e)=>{const t=C9((c,f)=>{const p=new K,m=new K,v=new K;function x(b=f().camera,R=m,B=f().size){const{width:D,height:I,top:U,left:F}=B,V=D/I;R.isVector3?v.copy(R):v.set(...R);const P=b.getWorldPosition(p).distanceTo(v);if(h3(b))return{width:D/b.zoom,height:I/b.zoom,top:U,left:F,factor:1,distance:P,aspect:V};{const L=b.fov*Math.PI/180,k=2*Math.tan(L/2)*P,ie=k*(D/I);return{width:ie,height:k,top:U,left:F,factor:D/ie,distance:P,aspect:V}}}let _;const S=b=>c(R=>({performance:{...R.performance,current:b}})),T=new Ge;return{set:c,get:f,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(b=1)=>n(f(),b),advance:(b,R)=>e(b,R,f()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new kE,pointer:T,mouse:T,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const b=f();_&&clearTimeout(_),b.performance.current!==b.performance.min&&S(b.performance.min),_=setTimeout(()=>S(f().performance.max),b.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:x},setEvents:b=>c(R=>({...R,events:{...R.events,...b}})),setSize:(b,R,B=0,D=0)=>{const I=f().camera,U={width:b,height:R,top:B,left:D};c(F=>({size:U,viewport:{...F.viewport,...x(I,m,U)}}))},setDpr:b=>c(R=>{const B=p3(b);return{viewport:{...R.viewport,dpr:B,initialDpr:R.viewport.initialDpr||B}}}),setFrameloop:(b="always")=>{const R=f().clock;R.stop(),R.elapsedTime=0,b!=="never"&&(R.start(),R.elapsedTime=0),c(()=>({frameloop:b}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:N.createRef(),active:!1,frames:0,priority:0,subscribe:(b,R,B)=>{const D=f().internal;return D.priority=D.priority+(R>0?1:0),D.subscribers.push({ref:b,priority:R,store:B}),D.subscribers=D.subscribers.sort((I,U)=>I.priority-U.priority),()=>{const I=f().internal;I!=null&&I.subscribers&&(I.priority=I.priority-(R>0?1:0),I.subscribers=I.subscribers.filter(U=>U.ref!==b))}}}}}),i=t.getState();let r=i.size,a=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:c,size:f,viewport:p,gl:m,set:v}=t.getState();if(f.width!==r.width||f.height!==r.height||p.dpr!==a){r=f,a=p.dpr,n8(c,f),p.dpr>0&&m.setPixelRatio(p.dpr);const x=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(f.width,f.height,x)}c!==o&&(o=c,v(x=>({viewport:{...x.viewport,...x.viewport.getCurrentViewport(c)}})))}),t.subscribe(c=>n(c)),t};function y3(){const n=N.useContext(v3);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function fS(n=t=>t,e){return y3()(n,e)}function x3(n,e=0){const t=y3(),i=t.getState().internal.subscribe,r=d3(n);return b0(()=>i(r,e,t),[e,i,t]),null}const dw=new WeakMap,s8=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function _3(n,e){return function(t,...i){let r;return s8(t)?(r=dw.get(t),r||(r=new t,dw.set(t,r))):r=t,n&&n(r),Promise.all(i.map(a=>new Promise((o,c)=>r.load(a,f=>{ga(f==null?void 0:f.scene)&&Object.assign(f,J9(f.scene)),o(f)},e,f=>c(new Error(`Could not load ${a}: ${f==null?void 0:f.message}`))))))}}function A0(n,e,t,i){const r=Array.isArray(e)?e:[e],a=R9(_3(t,i),[n,...r],{equal:ci.equ});return Array.isArray(e)?a:a[0]}A0.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return B9(_3(t),[n,...i])};A0.clear=function(n,e){const t=Array.isArray(e)?e:[e];return D9([n,...t])};function o8(n){const e=P9(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:N.version}),e}const b3=0,bp={},l8=/^three(?=[A-Z])/,fb=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let c8=0;const u8=n=>typeof n=="function";function f8(n){if(u8(n)){const e=`${c8++}`;return bp[e]=n,e}else Object.assign(bp,n)}function A3(n,e){const t=fb(n),i=bp[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function h8(n,e,t){var i;return n=fb(n)in bp?n:n.replace(l8,""),A3(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,r_(e.object,t,n,e)}function d8(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?s_(n.parent,n):ga(n.object)&&(n.object.visible=!1),n.isHidden=!0,Up(n)}}function S3(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?a_(n.parent,n):ga(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,Up(n)}}function QE(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var r,a;const o=bp[fb(e.type)];e.object=(r=e.props.object)!=null?r:new o(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(Au(e.object,e.props),e.props.attach)a_(n,e);else if(ga(e.object)&&ga(n.object)){const o=n.object.children.indexOf(t==null?void 0:t.object);if(t&&o!==-1){const c=n.object.children.indexOf(e.object);if(c!==-1){n.object.children.splice(c,1);const f=c<o?o-1:o;n.object.children.splice(f,0,e.object)}else e.object.parent=n.object,n.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const o of e.children)QE(e,o);Up(e)}}function hS(n,e){e&&(e.parent=n,n.children.push(e),QE(n,e))}function pw(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),QE(n,e,t)}function E3(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():cw.unstable_scheduleCallback(cw.unstable_IdlePriority,e)}}function g1(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?s_(n,e):ga(e.object)&&ga(n.object)&&(n.object.remove(e.object),i8(f3(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const o=e.children[a];g1(e,o,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&E3(e.object),t===void 0&&Up(e)}function p8(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const mx=[];function m8(){for(const[t]of mx){const i=t.parent;if(i){t.props.attach?s_(i,t):ga(t.object)&&ga(i.object)&&i.object.remove(t.object);for(const r of t.children)r.props.attach?s_(t,r):ga(r.object)&&ga(t.object)&&t.object.remove(r.object)}t.isHidden&&S3(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&E3(t.object)}for(const[t,i,r]of mx){t.props=i;const a=t.parent;if(a){var n,e;const o=bp[fb(t.type)];t.object=(n=t.props.object)!=null?n:new o(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,p8(r,t.object),Au(t.object,t.props),t.props.attach?a_(a,t):ga(t.object)&&ga(a.object)&&a.object.add(t.object);for(const c of t.children)c.props.attach?a_(t,c):ga(c.object)&&ga(t.object)&&t.object.add(c.object);Up(t)}}mx.length=0}const dS=()=>{},mw={};let Zy=b3;const g8=0,v8=4,v1=o8({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:h8,removeChild:g1,appendChild:hS,appendInitialChild:hS,insertBefore:pw,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||hS(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||g1(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||pw(i,e,t)},getRootHostContext:()=>mw,getChildHostContext:()=>mw,commitUpdate(n,e,t,i,r){var a,o,c;A3(e,i);let f=!1;if((n.type==="primitive"&&t.object!==i.object||((a=i.args)==null?void 0:a.length)!==((o=t.args)==null?void 0:o.length)||(c=i.args)!=null&&c.some((m,v)=>{var x;return m!==((x=t.args)==null?void 0:x[v])}))&&(f=!0),f)mx.push([n,{...i},r]);else{const m=Z9(n,i);Object.keys(m).length&&(Object.assign(n.props,m),Au(n.object,m))}(r.sibling===null||(r.flags&v8)===g8)&&m8()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>r_(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:d8,unhideInstance:S3,createTextInstance:dS,hideTextInstance:dS,unhideTextInstance:dS,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:N.createContext(null),setCurrentUpdatePriority(n){Zy=n},getCurrentUpdatePriority(){return Zy},resolveUpdatePriority(){var n;if(Zy!==b3)return Zy;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return px.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return px.ContinuousEventPriority;default:return px.DefaultEventPriority}},resetFormInstance(){}}),ph=new Map,Xd={objects:"shallow",strict:!1};function y8(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:a}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function x8(n){const e=ph.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=i||a8(_1,vw),o=t||v1.createContainer(a,px.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||ph.set(n,{fiber:o,store:a});let c,f,p=!1,m=null;return{async configure(v={}){let x;m=new Promise(ae=>x=ae);let{gl:_,size:S,scene:T,events:M,onCreated:b,shadows:R=!1,linear:B=!1,flat:D=!1,legacy:I=!1,orthographic:U=!1,frameloop:F="always",dpr:V=[1,2],performance:P,raycaster:L,camera:k,onPointerMissed:ie}=v,te=a.getState(),ue=te.gl;if(!te.gl){const ae={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},Se=typeof _=="function"?await _(ae):_;hw(Se)?ue=Se:ue=new JE({...ae,..._}),te.set({gl:ue})}let fe=te.raycaster;fe||te.set({raycaster:fe=new KD});const{params:G,...$}=L||{};if(ci.equ($,fe,Xd)||Au(fe,{...$}),ci.equ(G,fe.params,Xd)||Au(fe,{params:{...fe.params,...G}}),!te.camera||te.camera===f&&!ci.equ(f,k,Xd)){f=k;const ae=k==null?void 0:k.isCamera,Se=ae?k:U?new Op(0,0,0,0,.1,1e3):new Xi(75,0,.1,1e3);ae||(Se.position.z=5,k&&(Au(Se,k),Se.manual||("aspect"in k||"left"in k||"right"in k||"bottom"in k||"top"in k)&&(Se.manual=!0,Se.updateProjectionMatrix())),!te.camera&&!(k!=null&&k.rotation)&&Se.lookAt(0,0,0)),te.set({camera:Se}),fe.camera=Se}if(!te.scene){let ae;T!=null&&T.isScene?(ae=T,r_(ae,a,"",{})):(ae=new j_,r_(ae,a,"",{}),T&&Au(ae,T)),te.set({scene:ae})}M&&!te.events.handlers&&te.set({events:M(a)});const Q=y8(n,S);if(ci.equ(Q,te.size,Xd)||te.setSize(Q.width,Q.height,Q.top,Q.left),V&&te.viewport.dpr!==p3(V)&&te.setDpr(V),te.frameloop!==F&&te.setFrameloop(F),te.onPointerMissed||te.set({onPointerMissed:ie}),P&&!ci.equ(P,te.performance,Xd)&&te.set(ae=>({performance:{...ae.performance,...P}})),!te.xr){var he;const ae=(Ue,pe)=>{const Be=a.getState();Be.frameloop!=="never"&&vw(Ue,!0,Be,pe)},Se=()=>{const Ue=a.getState();Ue.gl.xr.enabled=Ue.gl.xr.isPresenting,Ue.gl.xr.setAnimationLoop(Ue.gl.xr.isPresenting?ae:null),Ue.gl.xr.isPresenting||_1(Ue)},Re={connect(){const Ue=a.getState().gl;Ue.xr.addEventListener("sessionstart",Se),Ue.xr.addEventListener("sessionend",Se)},disconnect(){const Ue=a.getState().gl;Ue.xr.removeEventListener("sessionstart",Se),Ue.xr.removeEventListener("sessionend",Se)}};typeof((he=ue.xr)==null?void 0:he.addEventListener)=="function"&&Re.connect(),te.set({xr:Re})}if(ue.shadowMap){const ae=ue.shadowMap.enabled,Se=ue.shadowMap.type;if(ue.shadowMap.enabled=!!R,ci.boo(R))ue.shadowMap.type=tp;else if(ci.str(R)){var Y;const Re={basic:hB,percentage:R_,soft:tp,variance:po};ue.shadowMap.type=(Y=Re[R])!=null?Y:tp}else ci.obj(R)&&Object.assign(ue.shadowMap,R);(ae!==ue.shadowMap.enabled||Se!==ue.shadowMap.type)&&(ue.shadowMap.needsUpdate=!0)}return bn.enabled=!I,p||(ue.outputColorSpace=B?wu:Hr,ue.toneMapping=D?ll:iE),te.legacy!==I&&te.set(()=>({legacy:I})),te.linear!==B&&te.set(()=>({linear:B})),te.flat!==D&&te.set(()=>({flat:D})),_&&!ci.fun(_)&&!hw(_)&&!ci.equ(_,ue,Xd)&&Au(ue,_),c=b,p=!0,x(),this},render(v){return!p&&!m&&this.configure(),m.then(()=>{v1.updateContainer(J.jsx(_8,{store:a,children:v,onCreated:c,rootElement:n}),o,null,()=>{})}),a},unmount(){M3(n)}}}function _8({store:n,children:e,onCreated:t,rootElement:i}){return b0(()=>{const r=n.getState();r.set(a=>({internal:{...a.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),J.jsx(v3.Provider,{value:n,children:e})}function M3(n,e){const t=ph.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),v1.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var a,o,c,f;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(c=r.gl)==null||c.forceContextLoss==null||c.forceContextLoss(),(f=r.gl)!=null&&f.xr&&r.xr.disconnect(),K9(r.scene),ph.delete(n)}catch{}},500)})}}const b8=new Set,A8=new Set,S8=new Set;function pS(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function zg(n,e){switch(n){case"before":return pS(b8,e);case"after":return pS(A8,e);case"tail":return pS(S8,e)}}let mS,gS;function y1(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),mS=e.internal.subscribers;for(let r=0;r<mS.length;r++)gS=mS[r],gS.ref.current(gS.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let o_=!1,x1=!1,vS,gw,Yd;function T3(n){gw=requestAnimationFrame(T3),o_=!0,vS=0,zg("before",n),x1=!0;for(const t of ph.values()){var e;Yd=t.store.getState(),Yd.internal.active&&(Yd.frameloop==="always"||Yd.internal.frames>0)&&!((e=Yd.gl.xr)!=null&&e.isPresenting)&&(vS+=y1(n,Yd))}if(x1=!1,zg("after",n),vS===0)return zg("tail",n),o_=!1,cancelAnimationFrame(gw)}function _1(n,e=1){var t;if(!n)return ph.forEach(i=>_1(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):x1?n.internal.frames=2:n.internal.frames=1,o_||(o_=!0,requestAnimationFrame(T3)))}function vw(n,e=!0,t,i){if(e&&zg("before",n),t)y1(n,t,i);else for(const r of ph.values())y1(n,r.store.getState());e&&zg("after",n)}const yS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function E8(n){const{handlePointer:e}=r8(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(yS).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(a=>({events:{...a.events,connected:t}})),r.handlers)for(const a in r.handlers){const o=r.handlers[a],[c,f]=yS[a];t.addEventListener(c,o,{passive:f})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const a=i.handlers[r],[o]=yS[r];i.connected.removeEventListener(o,a)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function yw(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function M8({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=N.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=N.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),f=n?typeof n=="number"?n:n.scroll:null,p=n?typeof n=="number"?n:n.resize:null,m=N.useRef(!1);N.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[v,x,_]=N.useMemo(()=>{const b=()=>{if(!c.current.element)return;const{left:R,top:B,width:D,height:I,bottom:U,right:F,x:V,y:P}=c.current.element.getBoundingClientRect(),L={left:R,top:B,width:D,height:I,bottom:U,right:F,x:V,y:P};c.current.element instanceof HTMLElement&&i&&(L.height=c.current.element.offsetHeight,L.width=c.current.element.offsetWidth),Object.freeze(L),m.current&&!R8(c.current.lastBounds,L)&&o(c.current.lastBounds=L)};return[b,p?yw(b,p):b,f?yw(b,f):b]},[o,i,f,p]);function S(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",_,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null),c.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",c.current.orientationHandler))}function T(){c.current.element&&(c.current.resizeObserver=new r(_),c.current.resizeObserver.observe(c.current.element),e&&c.current.scrollContainers&&c.current.scrollContainers.forEach(b=>b.addEventListener("scroll",_,{capture:!0,passive:!0})),c.current.orientationHandler=()=>{_()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",c.current.orientationHandler))}const M=b=>{!b||b===c.current.element||(S(),c.current.element=b,c.current.scrollContainers=C3(b),T())};return C8(_,!!e),T8(x),N.useEffect(()=>{S(),T()},[e,_,x]),N.useEffect(()=>S,[]),[M,a,v]}function T8(n){N.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function C8(n,e){N.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function C3(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...C3(n.parentElement)]}const w8=["x","y","top","bottom","left","right","width","height"],R8=(n,e)=>w8.every(t=>n[t]===e[t]);function B8({ref:n,children:e,fallback:t,resize:i,style:r,gl:a,events:o=E8,eventSource:c,eventPrefix:f,shadows:p,linear:m,flat:v,legacy:x,orthographic:_,frameloop:S,dpr:T,performance:M,raycaster:b,camera:R,scene:B,onPointerMissed:D,onCreated:I,...U}){N.useMemo(()=>f8(h9),[]);const F=Y9(),[V,P]=M8({scroll:!0,debounce:{scroll:50,resize:0},...i}),L=N.useRef(null),k=N.useRef(null);N.useImperativeHandle(n,()=>L.current);const ie=d3(D),[te,ue]=N.useState(!1),[fe,G]=N.useState(!1);if(te)throw te;if(fe)throw fe;const $=N.useRef(null);b0(()=>{const he=L.current;if(P.width>0&&P.height>0&&he){$.current||($.current=x8(he));async function Y(){await $.current.configure({gl:a,scene:B,events:o,shadows:p,linear:m,flat:v,legacy:x,orthographic:_,frameloop:S,dpr:T,performance:M,raycaster:b,camera:R,size:P,onPointerMissed:(...ae)=>ie.current==null?void 0:ie.current(...ae),onCreated:ae=>{ae.events.connect==null||ae.events.connect(c?j9(c)?c.current:c:k.current),f&&ae.setEvents({compute:(Se,Re)=>{const Ue=Se[f+"X"],pe=Se[f+"Y"];Re.pointer.set(Ue/Re.size.width*2-1,-(pe/Re.size.height)*2+1),Re.raycaster.setFromCamera(Re.pointer,Re.camera)}}),I==null||I(ae)}}),$.current.render(J.jsx(F,{children:J.jsx(W9,{set:G,children:J.jsx(N.Suspense,{fallback:J.jsx(q9,{set:ue}),children:e??null})})}))}Y()}}),N.useEffect(()=>{const he=L.current;if(he)return()=>M3(he)},[]);const Q=c?"none":"auto";return J.jsx("div",{ref:k,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...r},...U,children:J.jsx("div",{ref:V,style:{width:"100%",height:"100%"},children:J.jsx("canvas",{ref:L,style:{display:"block"},children:t})})})}function w3(n){return J.jsx(c3,{children:J.jsx(B8,{...n})})}function wi(){return wi=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},wi.apply(null,arguments)}function D8(n,e,t){return Math.max(e,Math.min(n,t))}const Vr={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function xw(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function _w(n,e,t,i=.15){return i===0?D8(n,e,t):n<e?-xw(e-n,t-e,i)+e:n>t?+xw(n-t,t-e,i)+t:n}function O8(n,[e,t],[i,r]){const[[a,o],[c,f]]=n;return[_w(e,a,o,i),_w(t,c,f,r)]}function N8(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function U8(n){var e=N8(n,"string");return typeof e=="symbol"?e:String(e)}function Pa(n,e,t){return e=U8(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function xi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bw(Object(t),!0).forEach(function(i){Pa(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bw(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const R3={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function Aw(n){return n?n[0].toUpperCase()+n.slice(1):""}const L8=["enter","leave"];function I8(n=!1,e){return n&&!L8.includes(e)}function P8(n,e="",t=!1){const i=R3[n],r=i&&i[e]||e;return"on"+Aw(n)+Aw(r)+(I8(t,r)?"Capture":"")}const z8=["gotpointercapture","lostpointercapture"];function F8(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const i=z8.includes(e)?"capturecapture":"capture",r=!!~e.indexOf(i);return r&&(e=e.replace("capture","")),{device:e,capture:r,passive:t}}function H8(n,e=""){const t=R3[n],i=t&&t[e]||e;return n+i}function hb(n){return"touches"in n}function B3(n){return hb(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function G8(n){return Array.from(n.touches).filter(e=>{var t,i;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(i=t.contains)===null||i===void 0?void 0:i.call(t,e.target))})}function V8(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function D3(n){return hb(n)?V8(n)[0]:n}function k8(n){return G8(n).map(e=>e.identifier)}function xS(n){const e=D3(n);return hb(n)?e.identifier:e.pointerId}function Sw(n){const e=D3(n);return[e.clientX,e.clientY]}function j8(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:i,metaKey:r,ctrlKey:a}=n;Object.assign(e,{shiftKey:t,altKey:i,metaKey:r,ctrlKey:a})}return e}function l_(n,...e){return typeof n=="function"?n(...e):n}function X8(){}function Y8(...n){return n.length===0?X8:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function Ew(n,e){return Object.assign({},e,n||{})}const q8=32;class W8{constructor(e,t,i){this.ctrl=e,this.args=t,this.key=i,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:i,args:r}=this;t[i]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,i=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=i.from?l_(i.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:i,shared:r}=this;t.args=this.args;let a=0;if(e&&(t.event=e,i.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,j8(e)),r.down=r.pressed=r.buttons%2===1||r.touches>0,a=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const U=t._delta.map(Math.abs);Vr.addTo(t._distance,U)}this.axisIntent&&this.axisIntent(e);const[o,c]=t._movement,[f,p]=i.threshold,{_step:m,values:v}=t;if(i.hasCustomTransform?(m[0]===!1&&(m[0]=Math.abs(o)>=f&&v[0]),m[1]===!1&&(m[1]=Math.abs(c)>=p&&v[1])):(m[0]===!1&&(m[0]=Math.abs(o)>=f&&Math.sign(o)*f),m[1]===!1&&(m[1]=Math.abs(c)>=p&&Math.sign(c)*p)),t.intentional=m[0]!==!1||m[1]!==!1,!t.intentional)return;const x=[0,0];if(i.hasCustomTransform){const[U,F]=v;x[0]=m[0]!==!1?U-m[0]:0,x[1]=m[1]!==!1?F-m[1]:0}else x[0]=m[0]!==!1?o-m[0]:0,x[1]=m[1]!==!1?c-m[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(x);const _=t.offset,S=t._active&&!t._blocked||t.active;S&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in i&&(t._bounds=l_(i.bounds,t)),this.setup&&this.setup()),t.movement=x,this.computeOffset()));const[T,M]=t.offset,[[b,R],[B,D]]=t._bounds;t.overflow=[T<b?-1:T>R?1:0,M<B?-1:M>D?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const I=t._active?i.rubberband||[0,0]:[0,0];if(t.offset=O8(t._bounds,t.offset,I),t.delta=Vr.sub(t.offset,_),this.computeMovement(),S&&(!t.last||a>q8)){t.delta=Vr.sub(t.offset,_);const U=t.delta.map(Math.abs);Vr.addTo(t.distance,U),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&a>0&&(t.velocity=[U[0]/a,U[1]/a],t.timeDelta=a)}}emit(){const e=this.state,t=this.shared,i=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!i.triggerAllEvents)return;const r=this.handler(xi(xi(xi({},t),e),{},{[this.aliasKey]:e.values}));r!==void 0&&(e.memo=r)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function J8([n,e],t){const i=Math.abs(n),r=Math.abs(e);if(i>r&&i>t)return"x";if(r>i&&r>t)return"y"}class K8 extends W8{constructor(...e){super(...e),Pa(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Vr.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Vr.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,i=this.config;if(!t.axis&&e){const r=typeof i.axisThreshold=="object"?i.axisThreshold[B3(e)]:i.axisThreshold;t.axis=J8(t._movement,r)}t._blocked=(i.lockDirection||!!i.axis)&&!t.axis||!!i.axis&&i.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const $8=n=>n,Mw=.15,O3={enabled(n=!0){return n},eventOptions(n,e,t){return xi(xi({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[Mw,Mw];case!1:return[0,0];default:return Vr.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return Vr.toVector(n)},transform(n,e,t){const i=n||t.shared.transform;return this.hasCustomTransform=!!i,i||$8},threshold(n){return Vr.toVector(n,0)}},Q8=0,S0=xi(xi({},O3),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=Q8){return n},bounds(n={}){if(typeof n=="function")return a=>S0.bounds(n(a));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:i=-1/0,bottom:r=1/0}=n;return[[e,t],[i,r]]}}),Tw={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class Z8 extends K8{constructor(...e){super(...e),Pa(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),i=e.currentTarget.getBoundingClientRect(),r={left:t.left-i.left+e.offset[0],right:t.right-i.right+e.offset[0],top:t.top-i.top+e.offset[1],bottom:t.bottom-i.bottom+e.offset[1]};e._bounds=S0.bounds(r)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,i=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const r=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(r&&r.size>1&&i._pointerActive)&&(this.start(e),this.setupPointer(e),i._pointerId=xS(e),i._pointerActive=!0,this.computeValues(Sw(e)),this.computeInitial(),t.preventScrollAxis&&B3(e)!=="mouse"?(i._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,i=this.config;if(!t._pointerActive)return;const r=xS(e);if(t._pointerId!==void 0&&r!==t._pointerId)return;const a=Sw(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=Vr.sub(a,t._values),this.computeValues(a)),Vr.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(i.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===i.preventScrollAxis||i.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,i=this.config;if(!t._active||!t._pointerActive)return;const r=xS(e);if(t._pointerId!==void 0&&r!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[a,o]=t._distance;if(t.tap=a<=i.tapsThreshold&&o<=i.tapsThreshold,t.tap&&i.filterTaps)t._force=!0;else{const[c,f]=t._delta,[p,m]=t._movement,[v,x]=i.swipe.velocity,[_,S]=i.swipe.distance,T=i.swipe.duration;if(t.elapsedTime<T){const M=Math.abs(c/t.timeDelta),b=Math.abs(f/t.timeDelta);M>v&&Math.abs(p)>_&&(t.swipe[0]=Math.sign(c)),b>x&&Math.abs(m)>S&&(t.swipe[1]=Math.sign(f))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,i=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,i,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,e6(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=Tw[e.key];if(t){const i=this.state,r=e.shiftKey?10:e.altKey?.1:1;this.start(e),i._delta=t(this.config.keyboardDisplacement,r),i._keyboardActive=!0,Vr.addTo(i._movement,i._delta),this.compute(e),this.emit()}}keyUp(e){e.key in Tw&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function e6(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const E0=typeof window<"u"&&window.document&&window.document.createElement;function N3(){return E0&&"ontouchstart"in window}function t6(){return N3()||E0&&window.navigator.maxTouchPoints>1}function n6(){return E0&&"onpointerdown"in window}function i6(){return E0&&"exitPointerLock"in window.document}function r6(){try{return"constructor"in GestureEvent}catch{return!1}}const Bs={isBrowser:E0,gesture:r6(),touch:N3(),touchscreen:t6(),pointer:n6(),pointerLock:i6()},a6=250,s6=180,o6=.5,l6=50,c6=250,u6=10,Cw={mouse:0,touch:0,pen:8},f6=xi(xi({},S0),{},{device(n,e,{pointer:{touch:t=!1,lock:i=!1,mouse:r=!1}={}}){return this.pointerLock=i&&Bs.pointerLock,Bs.touch&&t?"touch":this.pointerLock?"mouse":Bs.pointer&&!r?"pointer":Bs.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?a6:void 0,!(!Bs.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:i=1,keys:r=!0}={}}){return this.pointerButtons=i,this.keys=r,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:i=3,axis:r=void 0}){const a=Vr.toVector(n,t?i:r?1:0);return this.filterTaps=t,this.tapsThreshold=i,a},swipe({velocity:n=o6,distance:e=l6,duration:t=c6}={}){return{velocity:this.transform(Vr.toVector(n)),distance:this.transform(Vr.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return s6;case!1:return 0;default:return n}},axisThreshold(n){return n?xi(xi({},Cw),n):Cw},keyboardDisplacement(n=u6){return n}});xi(xi({},O3),{},{device(n,e,{shared:t,pointer:{touch:i=!1}={}}){if(t.target&&!Bs.touch&&Bs.gesture)return"gesture";if(Bs.touch&&i)return"touch";if(Bs.touchscreen){if(Bs.pointer)return"pointer";if(Bs.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:i={}}){const r=o=>{const c=Ew(l_(t,o),{min:-1/0,max:1/0});return[c.min,c.max]},a=o=>{const c=Ew(l_(i,o),{min:-1/0,max:1/0});return[c.min,c.max]};return typeof t!="function"&&typeof i!="function"?[r(),a()]:o=>[r(o),a(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",Vr.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});xi(xi({},S0),{},{mouseOnly:(n=!0)=>n});xi(xi({},S0),{},{mouseOnly:(n=!0)=>n});const U3=new Map,b1=new Map;function h6(n){U3.set(n.key,n.engine),b1.set(n.key,n.resolver)}const d6={key:"drag",engine:Z8,resolver:f6};function p6(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function m6(n,e){if(n==null)return{};var t=p6(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}const g6={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=Bs.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},v6=["target","eventOptions","window","enabled","transform"];function gx(n={},e){const t={};for(const[i,r]of Object.entries(e))switch(typeof r){case"function":t[i]=r.call(t,n[i],i,n);break;case"object":t[i]=gx(n[i],r);break;case"boolean":r&&(t[i]=n[i]);break}return t}function y6(n,e,t={}){const i=n,{target:r,eventOptions:a,window:o,enabled:c,transform:f}=i,p=m6(i,v6);if(t.shared=gx({target:r,eventOptions:a,window:o,enabled:c,transform:f},g6),e){const m=b1.get(e);t[e]=gx(xi({shared:t.shared},p),m)}else for(const m in p){const v=b1.get(m);v&&(t[m]=gx(xi({shared:t.shared},p[m]),v))}return t}class L3{constructor(e,t){Pa(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,i,r,a){const o=this._listeners,c=H8(t,i),f=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},p=xi(xi({},f),a);e.addEventListener(c,r,p);const m=()=>{e.removeEventListener(c,r,p),o.delete(m)};return o.add(m),m}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class x6{constructor(){Pa(this,"_timeouts",new Map)}add(e,t,i=140,...r){this.remove(e),this._timeouts.set(e,window.setTimeout(t,i,...r))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class _6{constructor(e){Pa(this,"gestures",new Set),Pa(this,"_targetEventStore",new L3(this)),Pa(this,"gestureEventStores",{}),Pa(this,"gestureTimeoutStores",{}),Pa(this,"handlers",{}),Pa(this,"config",{}),Pa(this,"pointerIds",new Set),Pa(this,"touchIds",new Set),Pa(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),b6(this,e)}setEventIds(e){if(hb(e))return this.touchIds=new Set(k8(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=y6(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,i={};let r;if(!(t.target&&(r=t.target(),!r))){if(t.enabled){for(const o of this.gestures){const c=this.config[o],f=ww(i,c.eventOptions,!!r);if(c.enabled){const p=U3.get(o);new p(this,e,o).bind(f)}}const a=ww(i,t.eventOptions,!!r);for(const o in this.nativeHandlers)a(o,"",c=>this.nativeHandlers[o](xi(xi({},this.state.shared),{},{event:c,args:e})),void 0,!0)}for(const a in i)i[a]=Y8(...i[a]);if(!r)return i;for(const a in i){const{device:o,capture:c,passive:f}=F8(a);this._targetEventStore.add(r,o,"",i[a],{capture:c,passive:f})}}}}function qd(n,e){n.gestures.add(e),n.gestureEventStores[e]=new L3(n,e),n.gestureTimeoutStores[e]=new x6}function b6(n,e){e.drag&&qd(n,"drag"),e.wheel&&qd(n,"wheel"),e.scroll&&qd(n,"scroll"),e.move&&qd(n,"move"),e.pinch&&qd(n,"pinch"),e.hover&&qd(n,"hover")}const ww=(n,e,t)=>(i,r,a,o={},c=!1)=>{var f,p;const m=(f=o.capture)!==null&&f!==void 0?f:e.capture,v=(p=o.passive)!==null&&p!==void 0?p:e.passive;let x=c?i:P8(i,r,m);t&&v&&(x+="Passive"),n[x]=n[x]||[],n[x].push(a)};function A6(n,e={},t,i){const r=re.useMemo(()=>new _6(n),[]);if(r.applyHandlers(n,i),r.applyConfig(e,t),re.useEffect(r.effect.bind(r)),re.useEffect(()=>r.clean.bind(r),[]),e.target===void 0)return r.bind.bind(r)}function S6(n,e){return h6(d6),A6({drag:n},e||{},"drag")}function Fg(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function A1(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function E6(n,e){if(n){if(typeof n=="string")return A1(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return A1(n,e)}}function M6(n){if(Array.isArray(n))return A1(n)}function T6(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function C6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w6(n){return M6(n)||T6(n)||E6(n)||C6()}new Ge;new Ge;function R6(n,e,t){return Math.max(e,Math.min(t,n))}function B6(n,e){return R6(n-Math.floor(n/e)*e,0,e)}function D6(n,e){var t=B6(e-n,Math.PI*2);return t>Math.PI&&(t-=Math.PI*2),t}function I3(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var ws=function n(e,t,i){var r=this;I3(this,n),Fg(this,"dot2",function(a,o){return r.x*a+r.y*o}),Fg(this,"dot3",function(a,o,c){return r.x*a+r.y*o+r.z*c}),this.x=e,this.y=t,this.z=i},O6=[new ws(1,1,0),new ws(-1,1,0),new ws(1,-1,0),new ws(-1,-1,0),new ws(1,0,1),new ws(-1,0,1),new ws(1,0,-1),new ws(-1,0,-1),new ws(0,1,1),new ws(0,-1,1),new ws(0,1,-1),new ws(0,-1,-1)],Rw=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],Bw=new Array(512),Dw=new Array(512),N6=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var i;t&1?i=Rw[t]^e&255:i=Rw[t]^e>>8&255,Bw[t]=Bw[t+256]=i,Dw[t]=Dw[t+256]=O6[i%12]}};N6(0);function U6(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function Ow(n){var e=U6(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var L6=function n(e){var t=this;I3(this,n),Fg(this,"seed",0),Fg(this,"init",function(i){t.seed=i,t.value=Ow(i)}),Fg(this,"value",Ow(this.seed)),this.init(e)};new L6(Math.random());var I6=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return i/Math.atan(1/t)*Math.atan(Math.sin(2*Math.PI*e*r)/t)},P3=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)},P6=function(e){return e},z6={in:function(e){return 1-Math.cos(e*Math.PI/2)},out:function(e){return Math.sin(e*Math.PI/2)},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},F6={in:function(e){return e*e*e},out:function(e){return 1-Math.pow(1-e,3)},inOut:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}},H6={in:function(e){return e*e*e*e*e},out:function(e){return 1-Math.pow(1-e,5)},inOut:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}},G6={in:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},out:function(e){return Math.sqrt(1-Math.pow(e-1,2))},inOut:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}},V6={in:function(e){return e*e*e*e},out:function(e){return 1- --e*e*e*e},inOut:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}},k6={in:function(e){return e===0?0:Math.pow(2,10*e-10)},out:function(e){return e===1?1:1-Math.pow(2,-10*e)},inOut:function(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};function rr(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:P3,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,f="velocity_"+e;if(n.__damp===void 0&&(n.__damp={}),n.__damp[f]===void 0&&(n.__damp[f]=0),Math.abs(n[e]-t)<=c)return n[e]=t,!1;i=Math.max(1e-4,i);var p=2/i,m=o(p*r),v=n[e]-t,x=t,_=a*i;v=Math.min(Math.max(v,-_),_),t=n[e]-v;var S=(n.__damp[f]+p*v)*r;n.__damp[f]=(n.__damp[f]-p*S)*m;var T=t+(v+S)*m;return x-n[e]>0==T>x&&(T=x,n.__damp[f]=(T-x)/r),n[e]=T,!0}var j6=function(e){return e&&e.isCamera},X6=function(e){return e&&e.isLight},mg=new K,Nw=new zi,Uw=new zi,gg=new Ot,_S=new K;function Y6(n,e,t,i,r,a,o){typeof e=="number"?mg.setScalar(e):Array.isArray(e)?mg.set(e[0],e[1],e[2]):mg.copy(e);var c=n.parent;n.updateWorldMatrix(!0,!1),_S.setFromMatrixPosition(n.matrixWorld),j6(n)||X6(n)?gg.lookAt(_S,mg,n.up):gg.lookAt(mg,_S,n.up),c_(n.quaternion,Uw.setFromRotationMatrix(gg),t,i,r,a,o),c&&(gg.extractRotation(c.matrixWorld),Nw.setFromRotationMatrix(gg),c_(n.quaternion,Uw.copy(n.quaternion).premultiply(Nw.invert()),t,i,r,a,o))}function ap(n,e,t,i,r,a,o,c){return rr(n,e,n[e]+D6(n[e],t),i,r,a,o,c)}var vg=new Ge,Lw,Iw;function q6(n,e,t,i,r,a,o){return typeof e=="number"?vg.setScalar(e):Array.isArray(e)?vg.set(e[0],e[1]):vg.copy(e),Lw=rr(n,"x",vg.x,t,i,r,a,o),Iw=rr(n,"y",vg.y,t,i,r,a,o),Lw||Iw}var Wd=new K,Pw,zw,Fw;function S1(n,e,t,i,r,a,o){return typeof e=="number"?Wd.setScalar(e):Array.isArray(e)?Wd.set(e[0],e[1],e[2]):Wd.copy(e),Pw=rr(n,"x",Wd.x,t,i,r,a,o),zw=rr(n,"y",Wd.y,t,i,r,a,o),Fw=rr(n,"z",Wd.z,t,i,r,a,o),Pw||zw||Fw}var kf=new mn,Hw,Gw,Vw,kw;function W6(n,e,t,i,r,a,o){return typeof e=="number"?kf.setScalar(e):Array.isArray(e)?kf.set(e[0],e[1],e[2],e[3]):kf.copy(e),Hw=rr(n,"x",kf.x,t,i,r,a,o),Gw=rr(n,"y",kf.y,t,i,r,a,o),Vw=rr(n,"z",kf.z,t,i,r,a,o),kw=rr(n,"w",kf.w,t,i,r,a,o),Hw||Gw||Vw||kw}var yg=new Va,jw,Xw,Yw;function J6(n,e,t,i,r,a,o){return Array.isArray(e)?yg.set(e[0],e[1],e[2],e[3]):yg.copy(e),jw=ap(n,"x",yg.x,t,i,r,a,o),Xw=ap(n,"y",yg.y,t,i,r,a,o),Yw=ap(n,"z",yg.z,t,i,r,a,o),jw||Xw||Yw}var Jd=new ot,qw,Ww,Jw;function K6(n,e,t,i,r,a,o){return e instanceof ot?Jd.copy(e):Array.isArray(e)?Jd.setRGB(e[0],e[1],e[2]):Jd.set(e),qw=rr(n,"r",Jd.r,t,i,r,a,o),Ww=rr(n,"g",Jd.g,t,i,r,a,o),Jw=rr(n,"b",Jd.b,t,i,r,a,o),qw||Ww||Jw}var ho=new zi,Wl=new mn,Kw=new mn,xg=new mn,$w,Qw,Zw,eR;function c_(n,e,t,i,r,a,o){var c=n;Array.isArray(e)?ho.set(e[0],e[1],e[2],e[3]):ho.copy(e);var f=n.dot(ho)>0?1:-1;return ho.x*=f,ho.y*=f,ho.z*=f,ho.w*=f,$w=rr(n,"x",ho.x,t,i,r,a,o),Qw=rr(n,"y",ho.y,t,i,r,a,o),Zw=rr(n,"z",ho.z,t,i,r,a,o),eR=rr(n,"w",ho.w,t,i,r,a,o),Wl.set(n.x,n.y,n.z,n.w).normalize(),Kw.set(c.__damp.velocity_x,c.__damp.velocity_y,c.__damp.velocity_z,c.__damp.velocity_w),xg.copy(Wl).multiplyScalar(Kw.dot(Wl)/Wl.dot(Wl)),c.__damp.velocity_x-=xg.x,c.__damp.velocity_y-=xg.y,c.__damp.velocity_z-=xg.z,c.__damp.velocity_w-=xg.w,n.set(Wl.x,Wl.y,Wl.z,Wl.w),$w||Qw||Zw||eR}var _g=new $D,tR,nR,iR;function $6(n,e,t,i,r,a,o){return Array.isArray(e)?_g.set(e[0],e[1],e[2]):_g.copy(e),tR=rr(n,"radius",_g.radius,t,i,r,a,o),nR=ap(n,"phi",_g.phi,t,i,r,a,o),iR=ap(n,"theta",_g.theta,t,i,r,a,o),tR||nR||iR}var ex=new Ot,rR=new K,aR=new zi,sR=new K,oR,lR,cR;function Q6(n,e,t,i,r,a,o){var c=n;return c.__damp===void 0&&(c.__damp={position:new K,rotation:new zi,scale:new K},n.decompose(c.__damp.position,c.__damp.rotation,c.__damp.scale)),Array.isArray(e)?ex.set.apply(ex,w6(e)):ex.copy(e),ex.decompose(rR,aR,sR),oR=S1(c.__damp.position,rR,t,i,r,a,o),lR=c_(c.__damp.rotation,aR,t,i,r,a,o),cR=S1(c.__damp.scale,sR,t,i,r,a,o),n.compose(c.__damp.position,c.__damp.rotation,c.__damp.scale),oR||lR||cR}var Z6=Object.freeze({__proto__:null,rsqw:I6,exp:P3,linear:P6,sine:z6,cubic:F6,quint:H6,circ:G6,quart:V6,expo:k6,damp:rr,dampLookAt:Y6,dampAngle:ap,damp2:q6,damp3:S1,damp4:W6,dampE:J6,dampC:K6,dampQ:c_,dampS:$6,dampM:Q6});const z3=parseInt(f0.replace(/\D+/g,""));function uR(n,e){if(e===kB)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===Zx||e===hE){let t=n.getIndex();if(t===null){const o=[],c=n.getAttribute("position");if(c!==void 0){for(let f=0;f<c.count;f++)o.push(f);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===Zx)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=n.clone();return a.setIndex(r),a.clearGroups(),a}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var eV=Object.defineProperty,tV=(n,e,t)=>e in n?eV(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,fR=(n,e,t)=>(tV(n,typeof e!="symbol"?e+"":e,t),t);const nV=(()=>{const n={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new K},up:{value:new K(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${z3>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `},e=new Us({name:"SkyShader",fragmentShader:n.fragmentShader,vertexShader:n.vertexShader,uniforms:xE.clone(n.uniforms),side:kr,depthWrite:!1});class t extends ri{constructor(){super(new mc(1,1,1),e)}}return fR(t,"SkyShader",n),fR(t,"material",e),t})();function u_(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,i=n.length;t<i;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const th="srgb",ac="srgb-linear",hR=3001,iV=3e3;class ZE extends Xr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new lV(t)}),this.register(function(t){return new cV(t)}),this.register(function(t){return new yV(t)}),this.register(function(t){return new xV(t)}),this.register(function(t){return new _V(t)}),this.register(function(t){return new fV(t)}),this.register(function(t){return new hV(t)}),this.register(function(t){return new dV(t)}),this.register(function(t){return new pV(t)}),this.register(function(t){return new oV(t)}),this.register(function(t){return new mV(t)}),this.register(function(t){return new uV(t)}),this.register(function(t){return new vV(t)}),this.register(function(t){return new gV(t)}),this.register(function(t){return new aV(t)}),this.register(function(t){return new bV(t)}),this.register(function(t){return new AV(t)})}load(e,t,i,r){const a=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const p=Eu.extractUrlBase(e);o=Eu.resolveURL(p,this.path)}else o=Eu.extractUrlBase(e);this.manager.itemStart(e);const c=function(p){r?r(p):console.error(p),a.manager.itemError(e),a.manager.itemEnd(e)},f=new os(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(this.withCredentials),f.load(e,function(p){try{a.parse(p,o,function(m){t(m),a.manager.itemEnd(e)},c)}catch(m){c(m)}},i,c)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let a;const o={},c={};if(typeof e=="string")a=JSON.parse(e);else if(e instanceof ArrayBuffer)if(u_(new Uint8Array(e.slice(0,4)))===F3){try{o[pn.KHR_BINARY_GLTF]=new SV(e)}catch(m){r&&r(m);return}a=JSON.parse(o[pn.KHR_BINARY_GLTF].content)}else a=JSON.parse(u_(new Uint8Array(e)));else a=e;if(a.asset===void 0||a.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const f=new IV(a,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});f.fileLoader.setRequestHeader(this.requestHeader);for(let p=0;p<this.pluginCallbacks.length;p++){const m=this.pluginCallbacks[p](f);m.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),c[m.name]=m,o[m.name]=!0}if(a.extensionsUsed)for(let p=0;p<a.extensionsUsed.length;++p){const m=a.extensionsUsed[p],v=a.extensionsRequired||[];switch(m){case pn.KHR_MATERIALS_UNLIT:o[m]=new sV;break;case pn.KHR_DRACO_MESH_COMPRESSION:o[m]=new EV(a,this.dracoLoader);break;case pn.KHR_TEXTURE_TRANSFORM:o[m]=new MV;break;case pn.KHR_MESH_QUANTIZATION:o[m]=new TV;break;default:v.indexOf(m)>=0&&c[m]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+m+'".')}}f.setExtensions(o),f.setPlugins(c),f.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,a){i.parse(e,t,r,a)})}}function rV(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const pn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class aV{constructor(e){this.parser=e,this.name=pn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const a=t[i];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const a=t.json,f=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let p;const m=new ot(16777215);f.color!==void 0&&m.setRGB(f.color[0],f.color[1],f.color[2],ac);const v=f.range!==void 0?f.range:0;switch(f.type){case"directional":p=new lb(m),p.target.position.set(0,0,-1),p.add(p.target);break;case"point":p=new HE(m),p.distance=v;break;case"spot":p=new FE(m),p.distance=v,f.spot=f.spot||{},f.spot.innerConeAngle=f.spot.innerConeAngle!==void 0?f.spot.innerConeAngle:0,f.spot.outerConeAngle=f.spot.outerConeAngle!==void 0?f.spot.outerConeAngle:Math.PI/4,p.angle=f.spot.outerConeAngle,p.penumbra=1-f.spot.innerConeAngle/f.spot.outerConeAngle,p.target.position.set(0,0,-1),p.add(p.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+f.type)}return p.position.set(0,0,0),p.decay=2,Kl(p,f),f.intensity!==void 0&&(p.intensity=f.intensity),p.name=t.createUniqueName(f.name||"light_"+e),r=Promise.resolve(p),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,a=i.json.nodes[e],c=(a.extensions&&a.extensions[this.name]||{}).light;return c===void 0?null:this._loadLight(c).then(function(f){return i._getNodeRef(t.cache,c,f)})}}class sV{constructor(){this.name=pn.KHR_MATERIALS_UNLIT}getMaterialType(){return Ha}extendParams(e,t,i){const r=[];e.color=new ot(1,1,1),e.opacity=1;const a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const o=a.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],ac),e.opacity=o[3]}a.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",a.baseColorTexture,th))}return Promise.all(r)}}class oV{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name].emissiveStrength;return a!==void 0&&(t.emissiveIntensity=a),Promise.resolve()}}class lV{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ls}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&a.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&a.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(a.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const c=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Ge(c,c)}return Promise.all(a)}}class cV{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ls}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name];return t.dispersion=a.dispersion!==void 0?a.dispersion:0,Promise.resolve()}}class uV{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ls}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&a.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&a.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(a)}}class fV{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ls}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[];t.sheenColor=new ot(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];if(o.sheenColorFactor!==void 0){const c=o.sheenColorFactor;t.sheenColor.setRGB(c[0],c[1],c[2],ac)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&a.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,th)),o.sheenRoughnessTexture!==void 0&&a.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(a)}}class hV{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ls}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&a.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(a)}}class dV{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ls}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&a.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const c=o.attenuationColor||[1,1,1];return t.attenuationColor=new ot().setRGB(c[0],c[1],c[2],ac),Promise.all(a)}}class pV{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ls}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name];return t.ior=a.ior!==void 0?a.ior:1.5,Promise.resolve()}}class mV{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ls}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&a.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const c=o.specularColorFactor||[1,1,1];return t.specularColor=new ot().setRGB(c[0],c[1],c[2],ac),o.specularColorTexture!==void 0&&a.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,th)),Promise.all(a)}}class gV{constructor(e){this.parser=e,this.name=pn.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ls}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&a.push(i.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(a)}}class vV{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ls}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&a.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(a)}}class yV{constructor(e){this.parser=e,this.name=pn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const a=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,a.source,o)}}class xV{constructor(e){this.parser=e,this.name=pn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,a=r.textures[e];if(!a.extensions||!a.extensions[t])return null;const o=a.extensions[t],c=r.images[o.source];let f=i.textureLoader;if(c.uri){const p=i.options.manager.getHandler(c.uri);p!==null&&(f=p)}return this.detectSupport().then(function(p){if(p)return i.loadTextureImage(e,o.source,f);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class _V{constructor(e){this.parser=e,this.name=pn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,a=r.textures[e];if(!a.extensions||!a.extensions[t])return null;const o=a.extensions[t],c=r.images[o.source];let f=i.textureLoader;if(c.uri){const p=i.options.manager.getHandler(c.uri);p!==null&&(f=p)}return this.detectSupport().then(function(p){if(p)return i.loadTextureImage(e,o.source,f);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class bV{constructor(e){this.name=pn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],a=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return a.then(function(c){const f=r.byteOffset||0,p=r.byteLength||0,m=r.count,v=r.byteStride,x=new Uint8Array(c,f,p);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(m,v,x,r.mode,r.filter).then(function(_){return _.buffer}):o.ready.then(function(){const _=new ArrayBuffer(m*v);return o.decodeGltfBuffer(new Uint8Array(_),m,v,x,r.mode,r.filter),_})})}else return null}}class AV{constructor(e){this.name=pn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const p of r.primitives)if(p.mode!==Rs.TRIANGLES&&p.mode!==Rs.TRIANGLE_STRIP&&p.mode!==Rs.TRIANGLE_FAN&&p.mode!==void 0)return null;const o=i.extensions[this.name].attributes,c=[],f={};for(const p in o)c.push(this.parser.getDependency("accessor",o[p]).then(m=>(f[p]=m,f[p])));return c.length<1?null:(c.push(this.parser.createNodeMesh(e)),Promise.all(c).then(p=>{const m=p.pop(),v=m.isGroup?m.children:[m],x=p[0].count,_=[];for(const S of v){const T=new Ot,M=new K,b=new zi,R=new K(1,1,1),B=new AE(S.geometry,S.material,x);for(let D=0;D<x;D++)f.TRANSLATION&&M.fromBufferAttribute(f.TRANSLATION,D),f.ROTATION&&b.fromBufferAttribute(f.ROTATION,D),f.SCALE&&R.fromBufferAttribute(f.SCALE,D),B.setMatrixAt(D,T.compose(M,b,R));for(const D in f)if(D==="_COLOR_0"){const I=f[D];B.instanceColor=new ch(I.array,I.itemSize,I.normalized)}else D!=="TRANSLATION"&&D!=="ROTATION"&&D!=="SCALE"&&S.geometry.setAttribute(D,f[D]);An.prototype.copy.call(B,S),this.parser.assignFinalMaterial(B),_.push(B)}return m.isGroup?(m.clear(),m.add(..._),m):_[0]}))}}const F3="glTF",bg=12,dR={JSON:1313821514,BIN:5130562};class SV{constructor(e){this.name=pn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,bg);if(this.header={magic:u_(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==F3)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-bg,r=new DataView(e,bg);let a=0;for(;a<i;){const o=r.getUint32(a,!0);a+=4;const c=r.getUint32(a,!0);if(a+=4,c===dR.JSON){const f=new Uint8Array(e,bg+a,o);this.content=u_(f)}else if(c===dR.BIN){const f=bg+a;this.body=e.slice(f,f+o)}a+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class EV{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=pn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,a=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,c={},f={},p={};for(const m in o){const v=E1[m]||m.toLowerCase();c[v]=o[m]}for(const m in e.attributes){const v=E1[m]||m.toLowerCase();if(o[m]!==void 0){const x=i.accessors[e.attributes[m]],_=sp[x.componentType];p[v]=_.name,f[v]=x.normalized===!0}}return t.getDependency("bufferView",a).then(function(m){return new Promise(function(v,x){r.decodeDracoFile(m,function(_){for(const S in _.attributes){const T=_.attributes[S],M=f[S];M!==void 0&&(T.normalized=M)}v(_)},c,p,ac,x)})})}}class MV{constructor(){this.name=pn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class TV{constructor(){this.name=pn.KHR_MESH_QUANTIZATION}}class H3 extends Dp{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[a+o];return t}interpolate_(e,t,i,r){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,f=c*2,p=c*3,m=r-t,v=(i-t)/m,x=v*v,_=x*v,S=e*p,T=S-p,M=-2*_+3*x,b=_-x,R=1-M,B=b-x+v;for(let D=0;D!==c;D++){const I=o[T+D+c],U=o[T+D+f]*m,F=o[S+D+c],V=o[S+D]*m;a[D]=R*I+B*U+M*F+b*V}return a}}const CV=new zi;class wV extends H3{interpolate_(e,t,i,r){const a=super.interpolate_(e,t,i,r);return CV.fromArray(a).normalize().toArray(a),a}}const Rs={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},sp={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},pR={9728:gr,9729:Pi,9984:D_,9985:np,9986:Kf,9987:Ds},mR={33071:rs,33648:lp,10497:Cu},bS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},E1={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...z3>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},yu={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},RV={CUBICSPLINE:void 0,LINEAR:pp,STEP:dp},AS={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function BV(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Bp({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:fl})),n.DefaultMaterial}function jf(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function Kl(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function DV(n,e,t){let i=!1,r=!1,a=!1;for(let p=0,m=e.length;p<m;p++){const v=e[p];if(v.POSITION!==void 0&&(i=!0),v.NORMAL!==void 0&&(r=!0),v.COLOR_0!==void 0&&(a=!0),i&&r&&a)break}if(!i&&!r&&!a)return Promise.resolve(n);const o=[],c=[],f=[];for(let p=0,m=e.length;p<m;p++){const v=e[p];if(i){const x=v.POSITION!==void 0?t.getDependency("accessor",v.POSITION):n.attributes.position;o.push(x)}if(r){const x=v.NORMAL!==void 0?t.getDependency("accessor",v.NORMAL):n.attributes.normal;c.push(x)}if(a){const x=v.COLOR_0!==void 0?t.getDependency("accessor",v.COLOR_0):n.attributes.color;f.push(x)}}return Promise.all([Promise.all(o),Promise.all(c),Promise.all(f)]).then(function(p){const m=p[0],v=p[1],x=p[2];return i&&(n.morphAttributes.position=m),r&&(n.morphAttributes.normal=v),a&&(n.morphAttributes.color=x),n.morphTargetsRelative=!0,n})}function OV(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function NV(n){let e;const t=n.extensions&&n.extensions[pn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+SS(t.attributes):e=n.indices+":"+SS(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+SS(n.targets[i]);return e}function SS(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function M1(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function UV(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const LV=new Ot;class IV{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new rV,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,a=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,a=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&a<98?this.textureLoader=new zD(this.options.manager):this.textureLoader=new XD(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new os(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,a=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const c={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};return jf(a,c,r),Kl(c,r),Promise.all(i._invokeAll(function(f){return f.afterRoot&&f.afterRoot(c)})).then(function(){for(const f of c.scenes)f.updateMatrixWorld();e(c)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,a=t.length;r<a;r++){const o=t[r].joints;for(let c=0,f=o.length;c<f;c++)e[o[c]].isBone=!0}for(let r=0,a=e.length;r<a;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),a=(o,c)=>{const f=this.associations.get(o);f!=null&&this.associations.set(c,f);for(const[p,m]of o.children.entries())a(m,c.children[p])};return a(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const a=e(t[r]);a&&i.push(a)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(a){return a.loadNode&&a.loadNode(t)});break;case"mesh":r=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(a){return a!=this&&a.getDependency&&a.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(a,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[pn.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(a,o){i.load(Eu.resolveURL(t.uri,r.path),a,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,a=t.byteOffset||0;return i.slice(a,a+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=bS[r.type],c=sp[r.componentType],f=r.normalized===!0,p=new c(r.count*o);return Promise.resolve(new Tn(p,o,f))}const a=[];return r.bufferView!==void 0?a.push(this.getDependency("bufferView",r.bufferView)):a.push(null),r.sparse!==void 0&&(a.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(a).then(function(o){const c=o[0],f=bS[r.type],p=sp[r.componentType],m=p.BYTES_PER_ELEMENT,v=m*f,x=r.byteOffset||0,_=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,S=r.normalized===!0;let T,M;if(_&&_!==v){const b=Math.floor(x/_),R="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+b+":"+r.count;let B=t.cache.get(R);B||(T=new p(c,b*_,r.count*_/m),B=new m0(T,_/m),t.cache.add(R,B)),M=new Ru(B,f,x%_/m,S)}else c===null?T=new p(r.count*f):T=new p(c,x,r.count*f),M=new Tn(T,f,S);if(r.sparse!==void 0){const b=bS.SCALAR,R=sp[r.sparse.indices.componentType],B=r.sparse.indices.byteOffset||0,D=r.sparse.values.byteOffset||0,I=new R(o[1],B,r.sparse.count*b),U=new p(o[2],D,r.sparse.count*f);c!==null&&(M=new Tn(M.array.slice(),M.itemSize,M.normalized));for(let F=0,V=I.length;F<V;F++){const P=I[F];if(M.setX(P,U[F*f]),f>=2&&M.setY(P,U[F*f+1]),f>=3&&M.setZ(P,U[F*f+2]),f>=4&&M.setW(P,U[F*f+3]),f>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return M})}loadTexture(e){const t=this.json,i=this.options,a=t.textures[e].source,o=t.images[a];let c=this.textureLoader;if(o.uri){const f=i.manager.getHandler(o.uri);f!==null&&(c=f)}return this.loadTextureImage(e,a,c)}loadTextureImage(e,t,i){const r=this,a=this.json,o=a.textures[e],c=a.images[t],f=(c.uri||c.bufferView)+":"+o.sampler;if(this.textureCache[f])return this.textureCache[f];const p=this.loadImageSource(t,i).then(function(m){m.flipY=!1,m.name=o.name||c.name||"",m.name===""&&typeof c.uri=="string"&&c.uri.startsWith("data:image/")===!1&&(m.name=c.uri);const x=(a.samplers||{})[o.sampler]||{};return m.magFilter=pR[x.magFilter]||Pi,m.minFilter=pR[x.minFilter]||Ds,m.wrapS=mR[x.wrapS]||Cu,m.wrapT=mR[x.wrapT]||Cu,r.associations.set(m,{textures:e}),m}).catch(function(){return null});return this.textureCache[f]=p,p}loadImageSource(e,t){const i=this,r=this.json,a=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(v=>v.clone());const o=r.images[e],c=self.URL||self.webkitURL;let f=o.uri||"",p=!1;if(o.bufferView!==void 0)f=i.getDependency("bufferView",o.bufferView).then(function(v){p=!0;const x=new Blob([v],{type:o.mimeType});return f=c.createObjectURL(x),f});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const m=Promise.resolve(f).then(function(v){return new Promise(function(x,_){let S=x;t.isImageBitmapLoader===!0&&(S=function(T){const M=new ui(T);M.needsUpdate=!0,x(M)}),t.load(Eu.resolveURL(v,a.path),S,void 0,_)})}).then(function(v){return p===!0&&c.revokeObjectURL(f),Kl(v,o),v.userData.mimeType=o.mimeType||UV(o.uri),v}).catch(function(v){throw console.error("THREE.GLTFLoader: Couldn't load texture",f),v});return this.sourceCache[e]=m,m}assignTexture(e,t,i,r){const a=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),a.extensions[pn.KHR_TEXTURE_TRANSFORM]){const c=i.extensions!==void 0?i.extensions[pn.KHR_TEXTURE_TRANSFORM]:void 0;if(c){const f=a.associations.get(o);o=a.extensions[pn.KHR_TEXTURE_TRANSFORM].extendTexture(o,c),a.associations.set(o,f)}}return r!==void 0&&(typeof r=="number"&&(r=r===hR?th:ac),"colorSpace"in o?o.colorSpace=r:o.encoding=r===th?hR:iV),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,a=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const c="PointsMaterial:"+i.uuid;let f=this.cache.get(c);f||(f=new q_,ar.prototype.copy.call(f,i),f.color.copy(i.color),f.map=i.map,f.sizeAttenuation=!1,this.cache.add(c,f)),i=f}else if(e.isLine){const c="LineBasicMaterial:"+i.uuid;let f=this.cache.get(c);f||(f=new jr,ar.prototype.copy.call(f,i),f.color.copy(i.color),f.map=i.map,this.cache.add(c,f)),i=f}if(r||a||o){let c="ClonedMaterial:"+i.uuid+":";r&&(c+="derivative-tangents:"),a&&(c+="vertex-colors:"),o&&(c+="flat-shading:");let f=this.cache.get(c);f||(f=i.clone(),a&&(f.vertexColors=!0),o&&(f.flatShading=!0),r&&(f.normalScale&&(f.normalScale.y*=-1),f.clearcoatNormalScale&&(f.clearcoatNormalScale.y*=-1)),this.cache.add(c,f),this.associations.set(f,this.associations.get(i))),i=f}e.material=i}getMaterialType(){return Bp}loadMaterial(e){const t=this,i=this.json,r=this.extensions,a=i.materials[e];let o;const c={},f=a.extensions||{},p=[];if(f[pn.KHR_MATERIALS_UNLIT]){const v=r[pn.KHR_MATERIALS_UNLIT];o=v.getMaterialType(),p.push(v.extendParams(c,a,t))}else{const v=a.pbrMetallicRoughness||{};if(c.color=new ot(1,1,1),c.opacity=1,Array.isArray(v.baseColorFactor)){const x=v.baseColorFactor;c.color.setRGB(x[0],x[1],x[2],ac),c.opacity=x[3]}v.baseColorTexture!==void 0&&p.push(t.assignTexture(c,"map",v.baseColorTexture,th)),c.metalness=v.metallicFactor!==void 0?v.metallicFactor:1,c.roughness=v.roughnessFactor!==void 0?v.roughnessFactor:1,v.metallicRoughnessTexture!==void 0&&(p.push(t.assignTexture(c,"metalnessMap",v.metallicRoughnessTexture)),p.push(t.assignTexture(c,"roughnessMap",v.metallicRoughnessTexture))),o=this._invokeOne(function(x){return x.getMaterialType&&x.getMaterialType(e)}),p.push(Promise.all(this._invokeAll(function(x){return x.extendMaterialParams&&x.extendMaterialParams(e,c)})))}a.doubleSided===!0&&(c.side=go);const m=a.alphaMode||AS.OPAQUE;if(m===AS.BLEND?(c.transparent=!0,c.depthWrite=!1):(c.transparent=!1,m===AS.MASK&&(c.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&o!==Ha&&(p.push(t.assignTexture(c,"normalMap",a.normalTexture)),c.normalScale=new Ge(1,1),a.normalTexture.scale!==void 0)){const v=a.normalTexture.scale;c.normalScale.set(v,v)}if(a.occlusionTexture!==void 0&&o!==Ha&&(p.push(t.assignTexture(c,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(c.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&o!==Ha){const v=a.emissiveFactor;c.emissive=new ot().setRGB(v[0],v[1],v[2],ac)}return a.emissiveTexture!==void 0&&o!==Ha&&p.push(t.assignTexture(c,"emissiveMap",a.emissiveTexture,th)),Promise.all(p).then(function(){const v=new o(c);return a.name&&(v.name=a.name),Kl(v,a),t.associations.set(v,{materials:e}),a.extensions&&jf(r,v,a),v})}createUniqueName(e){const t=Mn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function a(c){return i[pn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(c,t).then(function(f){return gR(f,c,t)})}const o=[];for(let c=0,f=e.length;c<f;c++){const p=e[c],m=NV(p),v=r[m];if(v)o.push(v.promise);else{let x;p.extensions&&p.extensions[pn.KHR_DRACO_MESH_COMPRESSION]?x=a(p):x=gR(new Qt,p,t),r[m]={primitive:p,promise:x},o.push(x)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,a=i.meshes[e],o=a.primitives,c=[];for(let f=0,p=o.length;f<p;f++){const m=o[f].material===void 0?BV(this.cache):this.getDependency("material",o[f].material);c.push(m)}return c.push(t.loadGeometries(o)),Promise.all(c).then(function(f){const p=f.slice(0,f.length-1),m=f[f.length-1],v=[];for(let _=0,S=m.length;_<S;_++){const T=m[_],M=o[_];let b;const R=p[_];if(M.mode===Rs.TRIANGLES||M.mode===Rs.TRIANGLE_STRIP||M.mode===Rs.TRIANGLE_FAN||M.mode===void 0)b=a.isSkinnedMesh===!0?new bE(T,R):new ri(T,R),b.isSkinnedMesh===!0&&b.normalizeSkinWeights(),M.mode===Rs.TRIANGLE_STRIP?b.geometry=uR(b.geometry,hE):M.mode===Rs.TRIANGLE_FAN&&(b.geometry=uR(b.geometry,Zx));else if(M.mode===Rs.LINES)b=new _o(T,R);else if(M.mode===Rs.LINE_STRIP)b=new hc(T,R);else if(M.mode===Rs.LINE_LOOP)b=new SE(T,R);else if(M.mode===Rs.POINTS)b=new EE(T,R);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+M.mode);Object.keys(b.geometry.morphAttributes).length>0&&OV(b,a),b.name=t.createUniqueName(a.name||"mesh_"+e),Kl(b,a),M.extensions&&jf(r,b,M),t.assignFinalMaterial(b),v.push(b)}for(let _=0,S=v.length;_<S;_++)t.associations.set(v[_],{meshes:e,primitives:_});if(v.length===1)return a.extensions&&jf(r,v[0],a),v[0];const x=new tc;a.extensions&&jf(r,x,a),t.associations.set(x,{meshes:e});for(let _=0,S=v.length;_<S;_++)x.add(v[_]);return x})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Xi(mE.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new Op(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Kl(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,a=t.joints.length;r<a;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const a=r.pop(),o=r,c=[],f=[];for(let p=0,m=o.length;p<m;p++){const v=o[p];if(v){c.push(v);const x=new Ot;a!==null&&x.fromArray(a.array,p*16),f.push(x)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[p])}return new g0(c,f)})}loadAnimation(e){const t=this.json,i=this,r=t.animations[e],a=r.name?r.name:"animation_"+e,o=[],c=[],f=[],p=[],m=[];for(let v=0,x=r.channels.length;v<x;v++){const _=r.channels[v],S=r.samplers[_.sampler],T=_.target,M=T.node,b=r.parameters!==void 0?r.parameters[S.input]:S.input,R=r.parameters!==void 0?r.parameters[S.output]:S.output;T.node!==void 0&&(o.push(this.getDependency("node",M)),c.push(this.getDependency("accessor",b)),f.push(this.getDependency("accessor",R)),p.push(S),m.push(T))}return Promise.all([Promise.all(o),Promise.all(c),Promise.all(f),Promise.all(p),Promise.all(m)]).then(function(v){const x=v[0],_=v[1],S=v[2],T=v[3],M=v[4],b=[];for(let R=0,B=x.length;R<B;R++){const D=x[R],I=_[R],U=S[R],F=T[R],V=M[R];if(D===void 0)continue;D.updateMatrix&&D.updateMatrix();const P=i._createAnimationTracks(D,I,U,F,V);if(P)for(let L=0;L<P.length;L++)b.push(P[L])}return new _p(a,void 0,b)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(a){const o=i._getNodeRef(i.meshCache,r.mesh,a);return r.weights!==void 0&&o.traverse(function(c){if(c.isMesh)for(let f=0,p=r.weights.length;f<p;f++)c.morphTargetInfluences[f]=r.weights[f]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],a=i._loadNodeShallow(e),o=[],c=r.children||[];for(let p=0,m=c.length;p<m;p++)o.push(i.getDependency("node",c[p]));const f=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([a,Promise.all(o),f]).then(function(p){const m=p[0],v=p[1],x=p[2];x!==null&&m.traverse(function(_){_.isSkinnedMesh&&_.bind(x,LV)});for(let _=0,S=v.length;_<S;_++)m.add(v[_]);return m})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const a=t.nodes[e],o=a.name?r.createUniqueName(a.name):"",c=[],f=r._invokeOne(function(p){return p.createNodeMesh&&p.createNodeMesh(e)});return f&&c.push(f),a.camera!==void 0&&c.push(r.getDependency("camera",a.camera).then(function(p){return r._getNodeRef(r.cameraCache,a.camera,p)})),r._invokeAll(function(p){return p.createNodeAttachment&&p.createNodeAttachment(e)}).forEach(function(p){c.push(p)}),this.nodeCache[e]=Promise.all(c).then(function(p){let m;if(a.isBone===!0?m=new X_:p.length>1?m=new tc:p.length===1?m=p[0]:m=new An,m!==p[0])for(let v=0,x=p.length;v<x;v++)m.add(p[v]);if(a.name&&(m.userData.name=a.name,m.name=o),Kl(m,a),a.extensions&&jf(i,m,a),a.matrix!==void 0){const v=new Ot;v.fromArray(a.matrix),m.applyMatrix4(v)}else a.translation!==void 0&&m.position.fromArray(a.translation),a.rotation!==void 0&&m.quaternion.fromArray(a.rotation),a.scale!==void 0&&m.scale.fromArray(a.scale);return r.associations.has(m)||r.associations.set(m,{}),r.associations.get(m).nodes=e,m}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,a=new tc;i.name&&(a.name=r.createUniqueName(i.name)),Kl(a,i),i.extensions&&jf(t,a,i);const o=i.nodes||[],c=[];for(let f=0,p=o.length;f<p;f++)c.push(r.getDependency("node",o[f]));return Promise.all(c).then(function(f){for(let m=0,v=f.length;m<v;m++)a.add(f[m]);const p=m=>{const v=new Map;for(const[x,_]of r.associations)(x instanceof ar||x instanceof ui)&&v.set(x,_);return m.traverse(x=>{const _=r.associations.get(x);_!=null&&v.set(x,_)}),v};return r.associations=p(a),a})}_createAnimationTracks(e,t,i,r,a){const o=[],c=e.name?e.name:e.uuid,f=[];yu[a.path]===yu.weights?e.traverse(function(x){x.morphTargetInfluences&&f.push(x.name?x.name:x.uuid)}):f.push(c);let p;switch(yu[a.path]){case yu.weights:p=fh;break;case yu.rotation:p=hh;break;case yu.position:case yu.scale:p=dh;break;default:switch(i.itemSize){case 1:p=fh;break;case 2:case 3:default:p=dh;break}break}const m=r.interpolation!==void 0?RV[r.interpolation]:pp,v=this._getArrayFromAccessor(i);for(let x=0,_=f.length;x<_;x++){const S=new p(f[x]+"."+yu[a.path],t.array,v,m);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(S),o.push(S)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=M1(t.constructor),r=new Float32Array(t.length);for(let a=0,o=t.length;a<o;a++)r[a]=t[a]*i;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof hh?wV:H3;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function PV(n,e,t){const i=e.attributes,r=new Cr;if(i.POSITION!==void 0){const c=t.json.accessors[i.POSITION],f=c.min,p=c.max;if(f!==void 0&&p!==void 0){if(r.set(new K(f[0],f[1],f[2]),new K(p[0],p[1],p[2])),c.normalized){const m=M1(sp[c.componentType]);r.min.multiplyScalar(m),r.max.multiplyScalar(m)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=e.targets;if(a!==void 0){const c=new K,f=new K;for(let p=0,m=a.length;p<m;p++){const v=a[p];if(v.POSITION!==void 0){const x=t.json.accessors[v.POSITION],_=x.min,S=x.max;if(_!==void 0&&S!==void 0){if(f.setX(Math.max(Math.abs(_[0]),Math.abs(S[0]))),f.setY(Math.max(Math.abs(_[1]),Math.abs(S[1]))),f.setZ(Math.max(Math.abs(_[2]),Math.abs(S[2]))),x.normalized){const T=M1(sp[x.componentType]);f.multiplyScalar(T)}c.max(f)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(c)}n.boundingBox=r;const o=new vr;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function gR(n,e,t){const i=e.attributes,r=[];function a(o,c){return t.getDependency("accessor",o).then(function(f){n.setAttribute(c,f)})}for(const o in i){const c=E1[o]||o.toLowerCase();c in n.attributes||r.push(a(i[o],c))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(c){n.setIndex(c)});r.push(o)}return Kl(n,e),PV(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?DV(n,e.targets,t):n})}const ES=new WeakMap;class zV extends Xr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const a=new os(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,o=>{const c={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,c).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const a={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,a).then(t)}decodeGeometry(e,t){for(const f in t.attributeTypes){const p=t.attributeTypes[f];p.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[f]=p.name)}const i=JSON.stringify(t);if(ES.has(e)){const f=ES.get(e);if(f.key===i)return f.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const a=this.workerNextTaskID++,o=e.byteLength,c=this._getWorker(a,o).then(f=>(r=f,new Promise((p,m)=>{r._callbacks[a]={resolve:p,reject:m},r.postMessage({type:"decode",id:a,taskConfig:t,buffer:e},[e])}))).then(f=>this._createGeometry(f.geometry));return c.catch(()=>!0).then(()=>{r&&a&&this._releaseTask(r,a)}),ES.set(e,{key:i,promise:c}),c}_createGeometry(e){const t=new Qt;e.index&&t.setIndex(new Tn(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],a=r.name,o=r.array,c=r.itemSize;t.setAttribute(a,new Tn(o,c))}return t}_loadLibrary(e,t){const i=new os(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,a)=>{i.load(e,r,void 0,a)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const a=FV.toString(),o=["/* draco decoder */",r,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(a){const o=a.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,a){return r._taskLoad>a._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function FV(){let n,e;onmessage=function(o){const c=o.data;switch(c.type){case"init":n=c.decoderConfig,e=new Promise(function(m){n.onModuleLoaded=function(v){m({draco:v})},DracoDecoderModule(n)});break;case"decode":const f=c.buffer,p=c.taskConfig;e.then(m=>{const v=m.draco,x=new v.Decoder,_=new v.DecoderBuffer;_.Init(new Int8Array(f),f.byteLength);try{const S=t(v,x,_,p),T=S.attributes.map(M=>M.array.buffer);S.index&&T.push(S.index.array.buffer),self.postMessage({type:"decode",id:c.id,geometry:S},T)}catch(S){console.error(S),self.postMessage({type:"error",id:c.id,error:S.message})}finally{v.destroy(_),v.destroy(x)}});break}};function t(o,c,f,p){const m=p.attributeIDs,v=p.attributeTypes;let x,_;const S=c.GetEncodedGeometryType(f);if(S===o.TRIANGULAR_MESH)x=new o.Mesh,_=c.DecodeBufferToMesh(f,x);else if(S===o.POINT_CLOUD)x=new o.PointCloud,_=c.DecodeBufferToPointCloud(f,x);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!_.ok()||x.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+_.error_msg());const T={index:null,attributes:[]};for(const M in m){const b=self[v[M]];let R,B;if(p.useUniqueIDs)B=m[M],R=c.GetAttributeByUniqueId(x,B);else{if(B=c.GetAttributeId(x,o[m[M]]),B===-1)continue;R=c.GetAttribute(x,B)}T.attributes.push(r(o,c,x,M,b,R))}return S===o.TRIANGULAR_MESH&&(T.index=i(o,c,x)),o.destroy(x),T}function i(o,c,f){const m=f.num_faces()*3,v=m*4,x=o._malloc(v);c.GetTrianglesUInt32Array(f,v,x);const _=new Uint32Array(o.HEAPF32.buffer,x,m).slice();return o._free(x),{array:_,itemSize:1}}function r(o,c,f,p,m,v){const x=v.num_components(),S=f.num_points()*x,T=S*m.BYTES_PER_ELEMENT,M=a(o,m),b=o._malloc(T);c.GetAttributeDataArrayForAllPoints(f,v,M,T,b);const R=new m(o.HEAPF32.buffer,b,S).slice();return o._free(b),{name:p,array:R,itemSize:x}}function a(o,c){switch(c){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let tx;const MS=()=>{if(tx)return tx;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let a;const o=WebAssembly.instantiate(c(r),{}).then(v=>{a=v.instance,a.exports.__wasm_call_ctors()});function c(v){const x=new Uint8Array(v.length);for(let S=0;S<v.length;++S){const T=v.charCodeAt(S);x[S]=T>96?T-71:T>64?T-65:T>47?T+4:T>46?63:62}let _=0;for(let S=0;S<v.length;++S)x[_++]=x[S]<60?i[x[S]]:(x[S]-60)*64+x[++S];return x.buffer.slice(0,_)}function f(v,x,_,S,T,M){const b=a.exports.sbrk,R=_+3&-4,B=b(R*S),D=b(T.length),I=new Uint8Array(a.exports.memory.buffer);I.set(T,D);const U=v(B,_,S,D,T.length);if(U===0&&M&&M(B,R,S),x.set(I.subarray(B,B+_*S)),b(B-b(0)),U!==0)throw new Error(`Malformed buffer data: ${U}`)}const p={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},m={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return tx={ready:o,supported:!0,decodeVertexBuffer(v,x,_,S,T){f(a.exports.meshopt_decodeVertexBuffer,v,x,_,S,a.exports[p[T]])},decodeIndexBuffer(v,x,_,S){f(a.exports.meshopt_decodeIndexBuffer,v,x,_,S)},decodeIndexSequence(v,x,_,S){f(a.exports.meshopt_decodeIndexSequence,v,x,_,S)},decodeGltfBuffer(v,x,_,S,T,M){f(a.exports[m[T]],v,x,_,S,a.exports[p[M]])}},tx};let nx=null,G3="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function V3(n=!0,e=!0,t){return i=>{t&&t(i),n&&(nx||(nx=new zV),nx.setDecoderPath(typeof n=="string"?n:G3),i.setDRACOLoader(nx)),e&&i.setMeshoptDecoder(typeof MS=="function"?MS():MS)}}const M0=(n,e,t,i)=>A0(ZE,n,V3(e,t,i));M0.preload=(n,e,t,i)=>A0.preload(ZE,n,V3(e,t,i));M0.clear=n=>A0.clear(ZE,n);M0.setDecoderPath=n=>{G3=n};const HV=({focus:n=0,size:e=25,samples:t=10}={})=>`
#define PENUMBRA_FILTER_SIZE float(${e})
#define RGB_NOISE_FUNCTION(uv) (randRGB(uv))
vec3 randRGB(vec2 uv) {
  return vec3(
    fract(sin(dot(uv, vec2(12.75613, 38.12123))) * 13234.76575),
    fract(sin(dot(uv, vec2(19.45531, 58.46547))) * 43678.23431),
    fract(sin(dot(uv, vec2(23.67817, 78.23121))) * 93567.23423)
  );
}

vec3 lowPassRandRGB(vec2 uv) {
  // 3x3 convolution (average)
  // can be implemented as separable with an extra buffer for a total of 6 samples instead of 9
  vec3 result = vec3(0);
  result += RGB_NOISE_FUNCTION(uv + vec2(-1.0, -1.0));
  result += RGB_NOISE_FUNCTION(uv + vec2(-1.0,  0.0));
  result += RGB_NOISE_FUNCTION(uv + vec2(-1.0, +1.0));
  result += RGB_NOISE_FUNCTION(uv + vec2( 0.0, -1.0));
  result += RGB_NOISE_FUNCTION(uv + vec2( 0.0,  0.0));
  result += RGB_NOISE_FUNCTION(uv + vec2( 0.0, +1.0));
  result += RGB_NOISE_FUNCTION(uv + vec2(+1.0, -1.0));
  result += RGB_NOISE_FUNCTION(uv + vec2(+1.0,  0.0));
  result += RGB_NOISE_FUNCTION(uv + vec2(+1.0, +1.0));
  result *= 0.111111111; // 1.0 / 9.0
  return result;
}
vec3 highPassRandRGB(vec2 uv) {
  // by subtracting the low-pass signal from the original signal, we're being left with the high-pass signal
  // hp(x) = x - lp(x)
  return RGB_NOISE_FUNCTION(uv) - lowPassRandRGB(uv) + 0.5;
}


vec2 vogelDiskSample(int sampleIndex, int sampleCount, float angle) {
  const float goldenAngle = 2.399963f; // radians
  float r = sqrt(float(sampleIndex) + 0.5f) / sqrt(float(sampleCount));
  float theta = float(sampleIndex) * goldenAngle + angle;
  float sine = sin(theta);
  float cosine = cos(theta);
  return vec2(cosine, sine) * r;
}
float penumbraSize( const in float zReceiver, const in float zBlocker ) { // Parallel plane estimation
  return (zReceiver - zBlocker) / zBlocker;
}
float findBlocker(sampler2D shadowMap, vec2 uv, float compare, float angle) {
  float texelSize = 1.0 / float(textureSize(shadowMap, 0).x);
  float blockerDepthSum = float(${n});
  float blockers = 0.0;

  int j = 0;
  vec2 offset = vec2(0.);
  float depth = 0.;

  #pragma unroll_loop_start
  for(int i = 0; i < ${t}; i ++) {
    offset = (vogelDiskSample(j, ${t}, angle) * texelSize) * 2.0 * PENUMBRA_FILTER_SIZE;
    depth = unpackRGBAToDepth( texture2D( shadowMap, uv + offset));
    if (depth < compare) {
      blockerDepthSum += depth;
      blockers++;
    }
    j++;
  }
  #pragma unroll_loop_end

  if (blockers > 0.0) {
    return blockerDepthSum / blockers;
  }
  return -1.0;
}

        
float vogelFilter(sampler2D shadowMap, vec2 uv, float zReceiver, float filterRadius, float angle) {
  float texelSize = 1.0 / float(textureSize(shadowMap, 0).x);
  float shadow = 0.0f;
  int j = 0;
  vec2 vogelSample = vec2(0.0);
  vec2 offset = vec2(0.0);
  #pragma unroll_loop_start
  for (int i = 0; i < ${t}; i++) {
    vogelSample = vogelDiskSample(j, ${t}, angle) * texelSize;
    offset = vogelSample * (1.0 + filterRadius * float(${e}));
    shadow += step( zReceiver, unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) ) );
    j++;
  }
  #pragma unroll_loop_end
  return shadow * 1.0 / ${t}.0;
}

float PCSS (sampler2D shadowMap, vec4 coords) {
  vec2 uv = coords.xy;
  float zReceiver = coords.z; // Assumed to be eye-space z in this code
  float angle = highPassRandRGB(gl_FragCoord.xy).r * PI2;
  float avgBlockerDepth = findBlocker(shadowMap, uv, zReceiver, angle);
  if (avgBlockerDepth == -1.0) {
    return 1.0;
  }
  float penumbraRatio = penumbraSize(zReceiver, avgBlockerDepth);
  return vogelFilter(shadowMap, uv, zReceiver, 1.25 * penumbraRatio, angle);
}`;function vR(n,e,t){e.traverse(i=>{i.material&&(n.properties.remove(i.material),i.material.dispose==null||i.material.dispose())}),n.info.programs.length=0,n.compile(e,t)}function GV({focus:n=0,samples:e=10,size:t=25}){const i=fS(o=>o.gl),r=fS(o=>o.scene),a=fS(o=>o.camera);return N.useEffect(()=>{const o=Wt.shadowmap_pars_fragment;return Wt.shadowmap_pars_fragment=Wt.shadowmap_pars_fragment.replace("#ifdef USE_SHADOWMAP",`#ifdef USE_SHADOWMAP
`+HV({size:t,samples:e,focus:n})).replace("#if defined( SHADOWMAP_TYPE_PCF )",`
return PCSS(shadowMap, shadowCoord);
#if defined( SHADOWMAP_TYPE_PCF )`),vR(i,r,a),()=>{Wt.shadowmap_pars_fragment=o,vR(i,r,a)}},[n,t,e]),null}const VV=N.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:i=1,floatIntensity:r=1,floatingRange:a=[-.1,.1],autoInvalidate:o=!1,...c},f)=>{const p=N.useRef(null);N.useImperativeHandle(f,()=>p.current,[]);const m=N.useRef(Math.random()*1e4);return x3(v=>{var x,_;if(!e||t===0)return;o&&v.invalidate();const S=m.current+v.clock.elapsedTime;p.current.rotation.x=Math.cos(S/4*t)/8*i,p.current.rotation.y=Math.sin(S/4*t)/8*i,p.current.rotation.z=Math.sin(S/4*t)/20*i;let T=Math.sin(S/4*t)/10;T=mE.mapLinear(T,-.1,.1,(x=a==null?void 0:a[0])!==null&&x!==void 0?x:-.1,(_=a==null?void 0:a[1])!==null&&_!==void 0?_:.1),p.current.position.y=T*r,p.current.updateMatrix()}),N.createElement("group",c,N.createElement("group",{ref:p,matrixAutoUpdate:!1},n))});function kV(n,e,t=new K){const i=Math.PI*(n-.5),r=2*Math.PI*(e-.5);return t.x=Math.cos(r),t.y=Math.sin(i),t.z=Math.sin(r),t}const jV=N.forwardRef(({inclination:n=.6,azimuth:e=.1,distance:t=1e3,mieCoefficient:i=.005,mieDirectionalG:r=.8,rayleigh:a=.5,turbidity:o=10,sunPosition:c=kV(n,e),...f},p)=>{const m=N.useMemo(()=>new K().setScalar(t),[t]),[v]=N.useState(()=>new nV);return N.createElement("primitive",wi({object:v,ref:p,"material-uniforms-mieCoefficient-value":i,"material-uniforms-mieDirectionalG-value":r,"material-uniforms-rayleigh-value":a,"material-uniforms-sunPosition-value":c,"material-uniforms-turbidity-value":o,scale:m},f))}),yR=({position:n,size:e,color:t})=>J.jsxs("mesh",{position:n,children:[J.jsx("sphereGeometry",{args:e}),J.jsx("meshStandardMaterial",{color:t})]}),XV=()=>J.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:J.jsx("div",{className:"w-full h-96",children:J.jsxs(w3,{children:[J.jsx("directionalLight",{position:[0,0,2],color:"white",intensity:1}),J.jsx("ambientLight",{intensity:.3}),J.jsx(yR,{position:[0,0,0],args:[1,30,30],color:"orange"}),J.jsx(yR,{position:[0,0,0],args:[1,30,30],color:"red"})]})})}),YV=()=>J.jsx("div",{className:"px-4 w-150",children:J.jsx("h2",{className:"text-3xl font-bold mb-8 bg-gradient-to-r from-blue-500 to-green-500 bg-clip-text text-transparent text-center",children:"Get In Touch!"})});function qV(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function WV(...n){return e=>n.forEach(t=>qV(t,e))}const k3=N.forwardRef((n,e)=>{const{children:t,...i}=n,r=N.Children.toArray(t),a=r.find(KV);if(a){const o=a.props.children,c=r.map(f=>f===a?N.Children.count(o)>1?N.Children.only(null):N.isValidElement(o)?o.props.children:null:f);return N.createElement(T1,wi({},i,{ref:e}),N.isValidElement(o)?N.cloneElement(o,void 0,c):null)}return N.createElement(T1,wi({},i,{ref:e}),t)});k3.displayName="Slot";const T1=N.forwardRef((n,e)=>{const{children:t,...i}=n;return N.isValidElement(t)?N.cloneElement(t,{...$V(i,t.props),ref:WV(e,t.ref)}):N.Children.count(t)>1?N.Children.only(null):null});T1.displayName="SlotClone";const JV=({children:n})=>N.createElement(N.Fragment,null,n);function KV(n){return N.isValidElement(n)&&n.type===JV}function $V(n,e){const t={...e};for(const i in e){const r=n[i],a=e[i];/^on[A-Z]/.test(i)?r&&a?t[i]=(...c)=>{a(...c),r(...c)}:r&&(t[i]=r):i==="style"?t[i]={...r,...a}:i==="className"&&(t[i]=[r,a].filter(Boolean).join(" "))}return{...n,...t}}const QV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ZV=QV.reduce((n,e)=>{const t=N.forwardRef((i,r)=>{const{asChild:a,...o}=i,c=a?k3:e;return N.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),N.createElement(c,wi({},o,{ref:r}))});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{}),ek=N.forwardRef((n,e)=>{var t;const{container:i=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...r}=n;return i?QL.createPortal(N.createElement(ZV.div,wi({},r,{ref:e})),i):null}),tk=ek;var xR=Object.prototype.hasOwnProperty;function i0(n,e){var t,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((i=n.length)===e.length)for(;i--&&i0(n[i],e[i]););return i===-1}if(!t||typeof n=="object"){i=0;for(t in n)if(xR.call(n,t)&&++i&&!xR.call(e,t)||!(t in e)||!i0(n[t],e[t]))return!1;return Object.keys(e).length===i}}return n!==n&&e!==e}function db(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!Object.is(n[t[i]],e[t[i]]))return!1;return!0}var pb=function(e,t,i,r){this.name=e,this.fn=t,this.args=i,this.modifiers=r};pb.prototype._test=function(e){var t=this.fn;try{op(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return op(this.modifiers.slice(),t,this)(e)}catch{return!1}};pb.prototype._check=function(e){try{op(this.modifiers.slice(),this.fn,this)(e)}catch{if(op(this.modifiers.slice(),function(i){return i},this)(!1))return}if(!op(this.modifiers.slice(),this.fn,this)(e))throw null};pb.prototype._testAsync=function(e){var t=this;return new Promise(function(i,r){X3(t.modifiers.slice(),t.fn,t)(e).then(function(a){a?i(e):r(null)}).catch(function(a){return r(a)})})};function j3(n,e){return e===void 0&&(e="simple"),typeof n=="object"?n[e]:n}function op(n,e,t){if(n.length){var i=n.shift(),r=op(n,e,t);return i.perform(r,t)}else return j3(e)}function X3(n,e,t){if(n.length){var i=n.shift(),r=X3(n,e,t);return i.performAsync(r,t)}else return function(a){return Promise.resolve(j3(e,"async")(a))}}var nk=function(e,t,i){this.name=e,this.perform=t,this.performAsync=i},eM=function(n){function e(t,i,r,a){for(var o=[],c=arguments.length-4;c-- >0;)o[c]=arguments[c+4];n.call(this,o),n.captureStackTrace&&n.captureStackTrace(this,e),this.rule=t,this.value=i,this.cause=r,this.target=a}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e}(Error),dl=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};dl.prototype._applyRule=function(e,t){var i=this;return function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return i.chain.push(new pb(t,e.apply(i,r),r,i.nextRuleModifiers)),i.nextRuleModifiers=[],i}};dl.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new nk(t,e.simple,e.async)),this};dl.prototype._clone=function(){return new dl(this.chain.slice(),this.nextRuleModifiers.slice())};dl.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})};dl.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(i){try{i._check(e)}catch(r){t.push(new eM(i,e,r))}}),t};dl.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(i){throw new eM(t,e,i)}})};dl.prototype.testAsync=function(e){var t=this;return new Promise(function(i,r){Y3(e,t.chain.slice(),i,r)})};function Y3(n,e,t,i){if(e.length){var r=e.shift();r._testAsync(n).then(function(){Y3(n,e,t,i)},function(a){i(new eM(r,n,a))})}else t(n)}var _R=function(n,e){return e&&typeof n=="string"&&n.trim().length===0?!0:n==null};function ik(n,e){return e===void 0&&(e=!1),{simple:function(t){return _R(t,e)||n.check(t)===void 0},async:function(t){return _R(t,e)||n.testAsync(t)}}}function Ga(){return typeof Proxy<"u"?q3(new dl):C1(new dl)}var r0={};Ga.extend=function(n){Object.assign(r0,n)};Ga.clearCustomRules=function(){r0={}};function q3(n){return new Proxy(n,{get:function(t,i){if(i in t)return t[i];var r=q3(n._clone());if(i in f_)return r._applyModifier(f_[i],i);if(i in r0)return r._applyRule(r0[i],i);if(i in w1)return r._applyRule(w1[i],i)}})}function C1(n){var e=function(r,a){return Object.keys(r).forEach(function(o){a[o]=function(){for(var c=[],f=arguments.length;f--;)c[f]=arguments[f];var p=C1(a._clone()),m=p._applyRule(r[o],o).apply(void 0,c);return m}}),a},t=e(w1,n),i=e(r0,t);return Object.keys(f_).forEach(function(r){Object.defineProperty(i,r,{get:function(){var a=C1(i._clone());return a._applyModifier(f_[r],r)}})}),i}var f_={not:{simple:function(n){return function(e){return!n(e)}},async:function(n){return function(e){return Promise.resolve(n(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(n){return function(e){return ix(e).some(function(t){try{return n(t)}catch{return!1}})}},async:function(n){return function(e){return Promise.all(ix(e).map(function(t){try{return n(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(n){return function(e){return e!==!1&&ix(e).every(n)}},async:function(n){return function(e){return Promise.all(ix(e).map(n)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(n,e){return function(t){return bR(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n(t):n(t)}},async:function(n,e){return function(t){return Promise.resolve(n(t)).then(function(i){return bR(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&i:i}).catch(function(){return!1})}}}};function bR(n){return n&&n.name==="schema"&&n.args.length>0&&typeof n.args[0]=="object"}function ix(n){return typeof n=="string"?n.split(""):n}var w1={equal:function(n){return function(e){return e==n}},exact:function(n){return function(e){return e===n}},number:function(n){return n===void 0&&(n=!0),function(e){return typeof e=="number"&&(n||isFinite(e))}},integer:function(){return function(n){var e=Number.isInteger||rk;return e(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return Kd("string")},boolean:function(){return Kd("boolean")},undefined:function(){return Kd("undefined")},null:function(){return Kd("null")},array:function(){return Kd("array")},object:function(){return Kd("object")},instanceOf:function(n){return function(e){return e instanceof n}},pattern:function(n){return function(e){return n.test(e)}},lowercase:function(){return function(n){return typeof n=="boolean"||n===n.toLowerCase()&&n.trim()!==""}},uppercase:function(){return function(n){return n===n.toUpperCase()&&n.trim()!==""}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(e){return e[0]==n}},last:function(n){return function(e){return e[e.length-1]==n}},empty:function(){return function(n){return n.length===0}},length:function(n,e){return function(t){return t.length>=n&&t.length<=(e||n)}},minLength:function(n){return function(e){return e.length>=n}},maxLength:function(n){return function(e){return e.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,e){return function(t){return t>=n&&t<=e}},range:function(n,e){return function(t){return t>=n&&t<=e}},lessThan:function(n){return function(e){return e<n}},lessThanOrEqual:function(n){return function(e){return e<=n}},greaterThan:function(n){return function(e){return e>n}},greaterThanOrEqual:function(n){return function(e){return e>=n}},even:function(){return function(n){return n%2===0}},odd:function(){return function(n){return n%2!==0}},includes:function(n){return function(e){return~e.indexOf(n)}},schema:function(n){return ak(n)},passesAnyOf:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(t){return n.some(function(i){return i.test(t)})}},optional:ik};function Kd(n){return function(e){return Array.isArray(e)&&n==="array"||e===null&&n==="null"||typeof e===n}}function rk(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function ak(n){return{simple:function(e){var t=[];if(Object.keys(n).forEach(function(i){var r=n[i];try{r.check((e||{})[i])}catch(a){a.target=i,t.push(a)}}),t.length>0)throw t;return!0},async:function(e){var t=[],i=Object.keys(n).map(function(r){var a=n[r];return a.testAsync((e||{})[r]).catch(function(o){o.target=r,t.push(o)})});return Promise.all(i).then(function(){if(t.length>0)throw t;return!0})}}}var Yn="colors",da="sizes",xt="space",sk={gap:xt,gridGap:xt,columnGap:xt,gridColumnGap:xt,rowGap:xt,gridRowGap:xt,inset:xt,insetBlock:xt,insetBlockEnd:xt,insetBlockStart:xt,insetInline:xt,insetInlineEnd:xt,insetInlineStart:xt,margin:xt,marginTop:xt,marginRight:xt,marginBottom:xt,marginLeft:xt,marginBlock:xt,marginBlockEnd:xt,marginBlockStart:xt,marginInline:xt,marginInlineEnd:xt,marginInlineStart:xt,padding:xt,paddingTop:xt,paddingRight:xt,paddingBottom:xt,paddingLeft:xt,paddingBlock:xt,paddingBlockEnd:xt,paddingBlockStart:xt,paddingInline:xt,paddingInlineEnd:xt,paddingInlineStart:xt,top:xt,right:xt,bottom:xt,left:xt,scrollMargin:xt,scrollMarginTop:xt,scrollMarginRight:xt,scrollMarginBottom:xt,scrollMarginLeft:xt,scrollMarginX:xt,scrollMarginY:xt,scrollMarginBlock:xt,scrollMarginBlockEnd:xt,scrollMarginBlockStart:xt,scrollMarginInline:xt,scrollMarginInlineEnd:xt,scrollMarginInlineStart:xt,scrollPadding:xt,scrollPaddingTop:xt,scrollPaddingRight:xt,scrollPaddingBottom:xt,scrollPaddingLeft:xt,scrollPaddingX:xt,scrollPaddingY:xt,scrollPaddingBlock:xt,scrollPaddingBlockEnd:xt,scrollPaddingBlockStart:xt,scrollPaddingInline:xt,scrollPaddingInlineEnd:xt,scrollPaddingInlineStart:xt,fontSize:"fontSizes",background:Yn,backgroundColor:Yn,backgroundImage:Yn,borderImage:Yn,border:Yn,borderBlock:Yn,borderBlockEnd:Yn,borderBlockStart:Yn,borderBottom:Yn,borderBottomColor:Yn,borderColor:Yn,borderInline:Yn,borderInlineEnd:Yn,borderInlineStart:Yn,borderLeft:Yn,borderLeftColor:Yn,borderRight:Yn,borderRightColor:Yn,borderTop:Yn,borderTopColor:Yn,caretColor:Yn,color:Yn,columnRuleColor:Yn,fill:Yn,outline:Yn,outlineColor:Yn,stroke:Yn,textDecorationColor:Yn,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:da,minBlockSize:da,maxBlockSize:da,inlineSize:da,minInlineSize:da,maxInlineSize:da,width:da,minWidth:da,maxWidth:da,height:da,minHeight:da,maxHeight:da,flexBasis:da,gridTemplateColumns:da,gridTemplateRows:da,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},ok=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,Lp=()=>{const n=Object.create(null);return(e,t,...i)=>{const r=(a=>JSON.stringify(a,ok))(e);return r in n?n[r]:n[r]=t(e,...i)}},sh=Symbol.for("sxs.internal"),tM=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),AR=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:lk}=Object.prototype,R1=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),ck=/\s+(?![^()]*\))/,$d=n=>e=>n(...typeof e=="string"?String(e).split(ck):[e]),SR={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:$d((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:$d((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:$d((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:$d((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:$d((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:$d((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},TS=/([\d.]+)([^]*)/,uk=(n,e)=>n.length?n.reduce((t,i)=>(t.push(...e.map(r=>r.includes("&")?r.replace(/&/g,/[ +>|~]/.test(i)&&/&.*&/.test(r)?`:is(${i})`:i):i+" "+r)),t),[]):e,fk=(n,e)=>n in hk&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,i,r,a)=>i+(r==="stretch"?`-moz-available${a};${R1(n)}:${i}-webkit-fill-available`:`-moz-fit-content${a};${R1(n)}:${i}fit-content`)+a):String(e),hk={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},dc=n=>n?n+"-":"",W3=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(i,r,a,o,c)=>o=="$"==!!a?i:(r||o=="--"?"calc(":"")+"var(--"+(o==="$"?dc(e)+(c.includes("$")?"":dc(t))+c.replace(/\$/g,"-"):c)+")"+(r||o=="--"?"*"+(r||"")+(a||"1")+")":"")),dk=/\s*,\s*(?![^()]*\))/,pk=Object.prototype.toString,ep=(n,e,t,i,r)=>{let a,o,c;const f=(p,m,v)=>{let x,_;const S=T=>{for(x in T){const R=x.charCodeAt(0)===64,B=R&&Array.isArray(T[x])?T[x]:[T[x]];for(_ of B){const D=/[A-Z]/.test(b=x)?b:b.replace(/-[^]/g,U=>U[1].toUpperCase()),I=typeof _=="object"&&_&&_.toString===pk&&(!i.utils[D]||!m.length);if(D in i.utils&&!I){const U=i.utils[D];if(U!==o){o=U,S(U(_)),o=null;continue}}else if(D in SR){const U=SR[D];if(U!==c){c=U,S(U(_)),c=null;continue}}if(R&&(M=x.slice(1)in i.media?"@media "+i.media[x.slice(1)]:x,x=M.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(U,F,V,P,L,k)=>{const ie=TS.test(F),te=.0625*(ie?-1:1),[ue,fe]=ie?[P,F]:[F,P];return"("+(V[0]==="="?"":V[0]===">"===ie?"max-":"min-")+ue+":"+(V[0]!=="="&&V.length===1?fe.replace(TS,(G,$,Q)=>Number($)+te*(V===">"?1:-1)+Q):fe)+(L?") and ("+(L[0]===">"?"min-":"max-")+ue+":"+(L.length===1?k.replace(TS,(G,$,Q)=>Number($)+te*(L===">"?-1:1)+Q):k):"")+")"})),I){const U=R?v.concat(x):[...v],F=R?[...m]:uk(m,x.split(dk));a!==void 0&&r(ER(...a)),a=void 0,f(_,F,U)}else a===void 0&&(a=[[],m,v]),x=R||x.charCodeAt(0)!==36?x:`--${dc(i.prefix)}${x.slice(1).replace(/\$/g,"-")}`,_=I?_:typeof _=="number"?_&&D in mk?String(_)+"px":String(_):W3(fk(D,_??""),i.prefix,i.themeMap[D]),a[0].push(`${R?`${x} `:`${R1(x)}:`}${_}`)}}var M,b};S(p),a!==void 0&&r(ER(...a)),a=void 0};f(n,e,t)},ER=(n,e,t)=>`${t.map(i=>`${i}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,mk={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},MR=n=>String.fromCharCode(n+(n>25?39:97)),oh=n=>(e=>{let t,i="";for(t=Math.abs(e);t>52;t=t/52|0)i=MR(t%52)+i;return MR(t%52)+i})(((e,t)=>{let i=t.length;for(;i;)e=33*e^t.charCodeAt(--i);return e})(5381,JSON.stringify(n))>>>0),wg=["themed","global","styled","onevar","resonevar","allvar","inline"],gk=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},vk=n=>{let e;const t=()=>{const{cssRules:r}=e.sheet;return[].map.call(r,(a,o)=>{const{cssText:c}=a;let f="";if(c.startsWith("--sxs"))return"";if(r[o-1]&&(f=r[o-1].cssText).startsWith("--sxs")){if(!a.cssRules.length)return"";for(const p in e.rules)if(e.rules[p].group===a)return`--sxs{--sxs:${[...e.rules[p].cache].join(" ")}}${c}`;return a.cssRules.length?`${f}${c}`:""}return c}).join("")},i=()=>{if(e){const{rules:c,sheet:f}=e;if(!f.deleteRule){for(;Object(Object(f.cssRules)[0]).type===3;)f.cssRules.splice(0,1);f.cssRules=[]}for(const p in c)delete c[p]}const r=Object(n).styleSheets||[];for(const c of r)if(gk(c)){for(let f=0,p=c.cssRules;p[f];++f){const m=Object(p[f]);if(m.type!==1)continue;const v=Object(p[f+1]);if(v.type!==4)continue;++f;const{cssText:x}=m;if(!x.startsWith("--sxs"))continue;const _=x.slice(14,-3).trim().split(/\s+/),S=wg[_[0]];S&&(e||(e={sheet:c,reset:i,rules:{},toString:t}),e.rules[S]={group:v,index:f,cache:new Set(_)})}if(e)break}if(!e){const c=(f,p)=>({type:p,cssRules:[],insertRule(m,v){this.cssRules.splice(v,0,c(m,{import:3,undefined:1}[(m.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return f==="@media{}"?`@media{${[].map.call(this.cssRules,m=>m.cssText).join("")}}`:f}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:c("","text/css"),rules:{},reset:i,toString:t}}const{sheet:a,rules:o}=e;for(let c=wg.length-1;c>=0;--c){const f=wg[c];if(!o[f]){const p=wg[c+1],m=o[p]?o[p].index:a.cssRules.length;a.insertRule("@media{}",m),a.insertRule(`--sxs{--sxs:${c}}`,m),o[f]={group:a.cssRules[m+1],index:m,cache:new Set([c])}}yk(o[f])}};return i(),e},yk=n=>{const e=n.group;let t=e.cssRules.length;n.apply=i=>{try{e.insertRule(i,t),++t}catch{}}},Ag=Symbol(),xk=Lp(),TR=(n,e)=>xk(n,()=>(...t)=>{let i={type:null,composers:new Set};for(const r of t)if(r!=null)if(r[sh]){i.type==null&&(i.type=r[sh].type);for(const a of r[sh].composers)i.composers.add(a)}else r.constructor!==Object||r.$$typeof?i.type==null&&(i.type=r):i.composers.add(_k(r,n));return i.type==null&&(i.type="span"),i.composers.size||i.composers.add(["PJLV",{},[],[],{},[]]),bk(n,i,e)}),_k=({variants:n,compoundVariants:e,defaultVariants:t,...i},r)=>{const a=`${dc(r.prefix)}c-${oh(i)}`,o=[],c=[],f=Object.create(null),p=[];for(const x in t)f[x]=String(t[x]);if(typeof n=="object"&&n)for(const x in n){m=f,v=x,lk.call(m,v)||(f[x]="undefined");const _=n[x];for(const S in _){const T={[x]:String(S)};String(S)==="undefined"&&p.push(x);const M=_[S],b=[T,M,!AR(M)];o.push(b)}}var m,v;if(typeof e=="object"&&e)for(const x of e){let{css:_,...S}=x;_=typeof _=="object"&&_||{};for(const M in S)S[M]=String(S[M]);const T=[S,_,!AR(_)];c.push(T)}return[a,i,o,c,f,p]},bk=(n,e,t)=>{const[i,r,a,o]=Ak(e.composers),c=typeof e.type=="function"||e.type.$$typeof?(v=>{function x(){for(let _=0;_<x[Ag].length;_++){const[S,T]=x[Ag][_];v.rules[S].apply(T)}return x[Ag]=[],null}return x[Ag]=[],x.rules={},wg.forEach(_=>x.rules[_]={apply:S=>x[Ag].push([_,S])}),x})(t):null,f=(c||t).rules,p=`.${i}${r.length>1?`:where(.${r.slice(1).join(".")})`:""}`,m=v=>{v=typeof v=="object"&&v||Sk;const{css:x,..._}=v,S={};for(const b in a)if(delete _[b],b in v){let R=v[b];typeof R=="object"&&R?S[b]={"@initial":a[b],...R}:(R=String(R),S[b]=R!=="undefined"||o.has(b)?R:a[b])}else S[b]=a[b];const T=new Set([...r]);for(const[b,R,B,D]of e.composers){t.rules.styled.cache.has(b)||(t.rules.styled.cache.add(b),ep(R,[`.${b}`],[],n,F=>{f.styled.apply(F)}));const I=CR(B,S,n.media),U=CR(D,S,n.media,!0);for(const F of I)if(F!==void 0)for(const[V,P,L]of F){const k=`${b}-${oh(P)}-${V}`;T.add(k);const ie=(L?t.rules.resonevar:t.rules.onevar).cache,te=L?f.resonevar:f.onevar;ie.has(k)||(ie.add(k),ep(P,[`.${k}`],[],n,ue=>{te.apply(ue)}))}for(const F of U)if(F!==void 0)for(const[V,P]of F){const L=`${b}-${oh(P)}-${V}`;T.add(L),t.rules.allvar.cache.has(L)||(t.rules.allvar.cache.add(L),ep(P,[`.${L}`],[],n,k=>{f.allvar.apply(k)}))}}if(typeof x=="object"&&x){const b=`${i}-i${oh(x)}-css`;T.add(b),t.rules.inline.cache.has(b)||(t.rules.inline.cache.add(b),ep(x,[`.${b}`],[],n,R=>{f.inline.apply(R)}))}for(const b of String(v.className||"").trim().split(/\s+/))b&&T.add(b);const M=_.className=[...T].join(" ");return{type:e.type,className:M,selector:p,props:_,toString:()=>M,deferredInjector:c}};return tM(m,{className:i,selector:p,[sh]:e,toString:()=>(t.rules.styled.cache.has(i)||m(),i)})},Ak=n=>{let e="";const t=[],i={},r=[];for(const[a,,,,o,c]of n){e===""&&(e=a),t.push(a),r.push(...c);for(const f in o){const p=o[f];(i[f]===void 0||p!=="undefined"||c.includes(p))&&(i[f]=p)}}return[e,t,i,new Set(r)]},CR=(n,e,t,i)=>{const r=[];e:for(let[a,o,c]of n){if(c)continue;let f,p=0,m=!1;for(f in a){const v=a[f];let x=e[f];if(x!==v){if(typeof x!="object"||!x)continue e;{let _,S,T=0;for(const M in x){if(v===String(x[M])){if(M!=="@initial"){const b=M.slice(1);(S=S||[]).push(b in t?t[b]:M.replace(/^@media ?/,"")),m=!0}p+=T,_=!0}++T}if(S&&S.length&&(o={["@media "+S.join(", ")]:o}),!_)continue e}}}(r[p]=r[p]||[]).push([i?"cv":`${f}-${a[f]}`,o,m])}return r},Sk={},Ek=Lp(),Mk=(n,e)=>Ek(n,()=>(...t)=>{const i=()=>{for(let r of t){r=typeof r=="object"&&r||{};let a=oh(r);if(!e.rules.global.cache.has(a)){if(e.rules.global.cache.add(a),"@import"in r){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let c of[].concat(r["@import"]))c=c.includes('"')||c.includes("'")?c:`"${c}"`,e.sheet.insertRule(`@import ${c};`,o++);delete r["@import"]}ep(r,[],[],n,o=>{e.rules.global.apply(o)})}}return""};return tM(i,{toString:i})}),Tk=Lp(),Ck=(n,e)=>Tk(n,()=>t=>{const i=`${dc(n.prefix)}k-${oh(t)}`,r=()=>{if(!e.rules.global.cache.has(i)){e.rules.global.cache.add(i);const a=[];ep(t,[],[],n,c=>a.push(c));const o=`@keyframes ${i}{${a.join("")}}`;e.rules.global.apply(o)}return i};return tM(r,{get name(){return r()},toString:r})}),wk=class{constructor(n,e,t,i){this.token=n==null?"":String(n),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=i==null?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+dc(this.prefix)+dc(this.scale)+this.token}toString(){return this.computedValue}},Rk=Lp(),Bk=(n,e)=>Rk(n,()=>(t,i)=>{i=typeof t=="object"&&t||Object(i);const r=`.${t=(t=typeof t=="string"?t:"")||`${dc(n.prefix)}t-${oh(i)}`}`,a={},o=[];for(const f in i){a[f]={};for(const p in i[f]){const m=`--${dc(n.prefix)}${f}-${p}`,v=W3(String(i[f][p]),n.prefix,f);a[f][p]=new wk(p,v,f,n.prefix),o.push(`${m}:${v}`)}}const c=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const f=`${i===n.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(f)}return t};return{...a,get className(){return c()},selector:r,toString:c}}),Dk=Lp(),Ok=Lp(),Nk=n=>{const e=(t=>{let i=!1;const r=Dk(t,a=>{i=!0;const o="prefix"in(a=typeof a=="object"&&a||{})?String(a.prefix):"",c=typeof a.media=="object"&&a.media||{},f=typeof a.root=="object"?a.root||null:globalThis.document||null,p=typeof a.theme=="object"&&a.theme||{},m={prefix:o,media:c,theme:p,themeMap:typeof a.themeMap=="object"&&a.themeMap||{...sk},utils:typeof a.utils=="object"&&a.utils||{}},v=vk(f),x={css:TR(m,v),globalCss:Mk(m,v),keyframes:Ck(m,v),createTheme:Bk(m,v),reset(){v.reset(),x.theme.toString()},theme:{},sheet:v,config:m,prefix:o,getCssText:v.toString,toString:v.toString};return String(x.theme=x.createTheme(p)),x});return i||r.reset(),r})(n);return e.styled=(({config:t,sheet:i})=>Ok(t,()=>{const r=TR(t,i);return(...a)=>{const o=r(...a),c=o[sh].type,f=re.forwardRef((p,m)=>{const v=p&&p.as||c,{props:x,deferredInjector:_}=o(p);return delete x.as,x.ref=m,_?re.createElement(re.Fragment,null,re.createElement(v,x),re.createElement(_,null)):re.createElement(v,x)});return f.className=o.className,f.displayName=`Styled.${c.displayName||c.name||c}`,f.selector=o.selector,f.toString=()=>o.selector,f[sh]=o[sh],f}}))(e),e};function $l(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function Uk(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function J3(...n){return e=>n.forEach(t=>Uk(t,e))}function Ip(...n){return N.useCallback(J3(...n),n)}function K3(n,e=[]){let t=[];function i(a,o){const c=N.createContext(o),f=t.length;t=[...t,o];function p(v){const{scope:x,children:_,...S}=v,T=(x==null?void 0:x[n][f])||c,M=N.useMemo(()=>S,Object.values(S));return N.createElement(T.Provider,{value:M},_)}function m(v,x){const _=(x==null?void 0:x[n][f])||c,S=N.useContext(_);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${v}\` must be used within \`${a}\``)}return p.displayName=a+"Provider",[p,m]}const r=()=>{const a=t.map(o=>N.createContext(o));return function(c){const f=(c==null?void 0:c[n])||a;return N.useMemo(()=>({[`__scope${n}`]:{...c,[n]:f}}),[c,f])}};return r.scopeName=n,[i,Lk(r,...e)]}function Lk(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const o=i.reduce((c,{useScope:f,scopeName:p})=>{const v=f(a)[`__scope${p}`];return{...c,...v}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}const $3=N.forwardRef((n,e)=>{const{children:t,...i}=n,r=N.Children.toArray(t),a=r.find(Ik);if(a){const o=a.props.children,c=r.map(f=>f===a?N.Children.count(o)>1?N.Children.only(null):N.isValidElement(o)?o.props.children:null:f);return N.createElement(B1,wi({},i,{ref:e}),N.isValidElement(o)?N.cloneElement(o,void 0,c):null)}return N.createElement(B1,wi({},i,{ref:e}),t)});$3.displayName="Slot";const B1=N.forwardRef((n,e)=>{const{children:t,...i}=n;return N.isValidElement(t)?N.cloneElement(t,{...Pk(i,t.props),ref:J3(e,t.ref)}):N.Children.count(t)>1?N.Children.only(null):null});B1.displayName="SlotClone";const Q3=({children:n})=>N.createElement(N.Fragment,null,n);function Ik(n){return N.isValidElement(n)&&n.type===Q3}function Pk(n,e){const t={...e};for(const i in e){const r=n[i],a=e[i];/^on[A-Z]/.test(i)?r&&a?t[i]=(...c)=>{a(...c),r(...c)}:r&&(t[i]=r):i==="style"?t[i]={...r,...a}:i==="className"&&(t[i]=[r,a].filter(Boolean).join(" "))}return{...n,...t}}const zk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],mh=zk.reduce((n,e)=>{const t=N.forwardRef((i,r)=>{const{asChild:a,...o}=i,c=a?$3:e;return N.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),N.createElement(c,wi({},o,{ref:r}))});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function Fk(n,e){n&&w_.flushSync(()=>n.dispatchEvent(e))}function nM(n){const e=N.useRef(n);return N.useEffect(()=>{e.current=n}),N.useMemo(()=>(...t)=>{var i;return(i=e.current)===null||i===void 0?void 0:i.call(e,...t)},[])}function Hk(n,e=globalThis==null?void 0:globalThis.document){const t=nM(n);N.useEffect(()=>{const i=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",i),()=>e.removeEventListener("keydown",i)},[t,e])}const D1="dismissableLayer.update",Gk="dismissableLayer.pointerDownOutside",Vk="dismissableLayer.focusOutside";let wR;const kk=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jk=N.forwardRef((n,e)=>{var t;const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:c,onDismiss:f,...p}=n,m=N.useContext(kk),[v,x]=N.useState(null),_=(t=v==null?void 0:v.ownerDocument)!==null&&t!==void 0?t:globalThis==null?void 0:globalThis.document,[,S]=N.useState({}),T=Ip(e,V=>x(V)),M=Array.from(m.layers),[b]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),R=M.indexOf(b),B=v?M.indexOf(v):-1,D=m.layersWithOutsidePointerEventsDisabled.size>0,I=B>=R,U=Xk(V=>{const P=V.target,L=[...m.branches].some(k=>k.contains(P));!I||L||(a==null||a(V),c==null||c(V),V.defaultPrevented||f==null||f())},_),F=Yk(V=>{const P=V.target;[...m.branches].some(k=>k.contains(P))||(o==null||o(V),c==null||c(V),V.defaultPrevented||f==null||f())},_);return Hk(V=>{B===m.layers.size-1&&(r==null||r(V),!V.defaultPrevented&&f&&(V.preventDefault(),f()))},_),N.useEffect(()=>{if(v)return i&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(wR=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),RR(),()=>{i&&m.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=wR)}},[v,_,i,m]),N.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),RR())},[v,m]),N.useEffect(()=>{const V=()=>S({});return document.addEventListener(D1,V),()=>document.removeEventListener(D1,V)},[]),N.createElement(mh.div,wi({},p,{ref:T,style:{pointerEvents:D?I?"auto":"none":void 0,...n.style},onFocusCapture:$l(n.onFocusCapture,F.onFocusCapture),onBlurCapture:$l(n.onBlurCapture,F.onBlurCapture),onPointerDownCapture:$l(n.onPointerDownCapture,U.onPointerDownCapture)}))});function Xk(n,e=globalThis==null?void 0:globalThis.document){const t=nM(n),i=N.useRef(!1),r=N.useRef(()=>{});return N.useEffect(()=>{const a=c=>{if(c.target&&!i.current){let m=function(){Z3(Gk,t,p,{discrete:!0})};var f=m;const p={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=m,e.addEventListener("click",r.current,{once:!0})):m()}i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function Yk(n,e=globalThis==null?void 0:globalThis.document){const t=nM(n),i=N.useRef(!1);return N.useEffect(()=>{const r=a=>{a.target&&!i.current&&Z3(Vk,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function RR(){const n=new CustomEvent(D1);document.dispatchEvent(n)}function Z3(n,e,t,{discrete:i}){const r=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?Fk(r,a):r.dispatchEvent(a)}const qk=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},Wk=fU.useId||(()=>{});let Jk=0;function Kk(n){const[e,t]=N.useState(Wk());return qk(()=>{t(i=>i??String(Jk++))},[n]),e?`radix-${e}`:""}function bh(n){return n.split("-")[0]}function T0(n){return n.split("-")[1]}function Pp(n){return["top","bottom"].includes(bh(n))?"x":"y"}function iM(n){return n==="y"?"height":"width"}function BR(n,e,t){let{reference:i,floating:r}=n;const a=i.x+i.width/2-r.width/2,o=i.y+i.height/2-r.height/2,c=Pp(e),f=iM(c),p=i[f]/2-r[f]/2,m=c==="x";let v;switch(bh(e)){case"top":v={x:a,y:i.y-r.height};break;case"bottom":v={x:a,y:i.y+i.height};break;case"right":v={x:i.x+i.width,y:o};break;case"left":v={x:i.x-r.width,y:o};break;default:v={x:i.x,y:i.y}}switch(T0(e)){case"start":v[c]-=p*(t&&m?-1:1);break;case"end":v[c]+=p*(t&&m?-1:1)}return v}const $k=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:a=[],platform:o}=t,c=await(o.isRTL==null?void 0:o.isRTL(e));let f=await o.getElementRects({reference:n,floating:e,strategy:r}),{x:p,y:m}=BR(f,i,c),v=i,x={},_=0;for(let S=0;S<a.length;S++){const{name:T,fn:M}=a[S],{x:b,y:R,data:B,reset:D}=await M({x:p,y:m,initialPlacement:i,placement:v,strategy:r,middlewareData:x,rects:f,platform:o,elements:{reference:n,floating:e}});p=b??p,m=R??m,x={...x,[T]:{...x[T],...B}},D&&_<=50&&(_++,typeof D=="object"&&(D.placement&&(v=D.placement),D.rects&&(f=D.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:r}):D.rects),{x:p,y:m}=BR(f,v,c)),S=-1)}return{x:p,y:m,placement:v,strategy:r,middlewareData:x}};function eO(n){return typeof n!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(n):{top:n,right:n,bottom:n,left:n}}function h_(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}async function a0(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:a,rects:o,elements:c,strategy:f}=n,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:x=!1,padding:_=0}=e,S=eO(_),T=c[x?v==="floating"?"reference":"floating":v],M=h_(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(T)))==null||t?T:T.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:p,rootBoundary:m,strategy:f})),b=h_(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:v==="floating"?{...o.floating,x:i,y:r}:o.reference,offsetParent:await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),strategy:f}):o[v]);return{top:M.top-b.top+S.top,bottom:b.bottom-M.bottom+S.bottom,left:M.left-b.left+S.left,right:b.right-M.right+S.right}}const Qk=Math.min,Wf=Math.max;function O1(n,e,t){return Wf(n,Qk(e,t))}const DR=n=>({name:"arrow",options:n,async fn(e){const{element:t,padding:i=0}=n??{},{x:r,y:a,placement:o,rects:c,platform:f}=e;if(t==null)return{};const p=eO(i),m={x:r,y:a},v=Pp(o),x=T0(o),_=iM(v),S=await f.getDimensions(t),T=v==="y"?"top":"left",M=v==="y"?"bottom":"right",b=c.reference[_]+c.reference[v]-m[v]-c.floating[_],R=m[v]-c.reference[v],B=await(f.getOffsetParent==null?void 0:f.getOffsetParent(t));let D=B?v==="y"?B.clientHeight||0:B.clientWidth||0:0;D===0&&(D=c.floating[_]);const I=b/2-R/2,U=p[T],F=D-S[_]-p[M],V=D/2-S[_]/2+I,P=O1(U,V,F),L=(x==="start"?p[T]:p[M])>0&&V!==P&&c.reference[_]<=c.floating[_];return{[v]:m[v]-(L?V<U?U-V:F-V:0),data:{[v]:P,centerOffset:V-P}}}}),Zk={left:"right",right:"left",bottom:"top",top:"bottom"};function d_(n){return n.replace(/left|right|bottom|top/g,e=>Zk[e])}function e7(n,e,t){t===void 0&&(t=!1);const i=T0(n),r=Pp(n),a=iM(r);let o=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=d_(o)),{main:o,cross:d_(o)}}const t7={start:"end",end:"start"};function OR(n){return n.replace(/start|end/g,e=>t7[e])}const tO=["top","right","bottom","left"];tO.reduce((n,e)=>n.concat(e,e+"-start",e+"-end"),[]);const n7=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t;const{placement:i,middlewareData:r,rects:a,initialPlacement:o,platform:c,elements:f}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:x="bestFit",flipAlignment:_=!0,...S}=n,T=bh(i),M=v||(T===o||!_?[d_(o)]:function(V){const P=d_(V);return[OR(V),P,OR(P)]}(o)),b=[o,...M],R=await a0(e,S),B=[];let D=((t=r.flip)==null?void 0:t.overflows)||[];if(p&&B.push(R[T]),m){const{main:V,cross:P}=e7(i,a,await(c.isRTL==null?void 0:c.isRTL(f.floating)));B.push(R[V],R[P])}if(D=[...D,{placement:i,overflows:B}],!B.every(V=>V<=0)){var I,U;const V=((I=(U=r.flip)==null?void 0:U.index)!=null?I:0)+1,P=b[V];if(P)return{data:{index:V,overflows:D},reset:{placement:P}};let L="bottom";switch(x){case"bestFit":{var F;const k=(F=D.map(ie=>[ie,ie.overflows.filter(te=>te>0).reduce((te,ue)=>te+ue,0)]).sort((ie,te)=>ie[1]-te[1])[0])==null?void 0:F[0].placement;k&&(L=k);break}case"initialPlacement":L=o}if(i!==L)return{reset:{placement:L}}}return{}}}};function NR(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function UR(n){return tO.some(e=>n[e]>=0)}const i7=function(n){let{strategy:e="referenceHidden",...t}=n===void 0?{}:n;return{name:"hide",async fn(i){const{rects:r}=i;switch(e){case"referenceHidden":{const a=NR(await a0(i,{...t,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:UR(a)}}}case"escaped":{const a=NR(await a0(i,{...t,altBoundary:!0}),r.floating);return{data:{escapedOffsets:a,escaped:UR(a)}}}default:return{}}}}},r7=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){const{x:t,y:i}=e,r=await async function(a,o){const{placement:c,platform:f,elements:p}=a,m=await(f.isRTL==null?void 0:f.isRTL(p.floating)),v=bh(c),x=T0(c),_=Pp(c)==="x",S=["left","top"].includes(v)?-1:1,T=m&&_?-1:1,M=typeof o=="function"?o(a):o;let{mainAxis:b,crossAxis:R,alignmentAxis:B}=typeof M=="number"?{mainAxis:M,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...M};return x&&typeof B=="number"&&(R=x==="end"?-1*B:B),_?{x:R*T,y:b*S}:{x:b*S,y:R*T}}(e,n);return{x:t+r.x,y:i+r.y,data:r}}}};function nO(n){return n==="x"?"y":"x"}const a7=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:c={fn:M=>{let{x:b,y:R}=M;return{x:b,y:R}}},...f}=n,p={x:t,y:i},m=await a0(e,f),v=Pp(bh(r)),x=nO(v);let _=p[v],S=p[x];if(a){const M=v==="y"?"bottom":"right";_=O1(_+m[v==="y"?"top":"left"],_,_-m[M])}if(o){const M=x==="y"?"bottom":"right";S=O1(S+m[x==="y"?"top":"left"],S,S-m[M])}const T=c.fn({...e,[v]:_,[x]:S});return{...T,data:{x:T.x-t,y:T.y-i}}}}},s7=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:r,rects:a,middlewareData:o}=e,{offset:c=0,mainAxis:f=!0,crossAxis:p=!0}=n,m={x:t,y:i},v=Pp(r),x=nO(v);let _=m[v],S=m[x];const T=typeof c=="function"?c({...a,placement:r}):c,M=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(f){const I=v==="y"?"height":"width",U=a.reference[v]-a.floating[I]+M.mainAxis,F=a.reference[v]+a.reference[I]-M.mainAxis;_<U?_=U:_>F&&(_=F)}if(p){var b,R,B,D;const I=v==="y"?"width":"height",U=["top","left"].includes(bh(r)),F=a.reference[x]-a.floating[I]+(U&&(b=(R=o.offset)==null?void 0:R[x])!=null?b:0)+(U?0:M.crossAxis),V=a.reference[x]+a.reference[I]+(U?0:(B=(D=o.offset)==null?void 0:D[x])!=null?B:0)-(U?M.crossAxis:0);S<F?S=F:S>V&&(S=V)}return{[v]:_,[x]:S}}}},o7=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){const{placement:t,rects:i,platform:r,elements:a}=e,{apply:o,...c}=n,f=await a0(e,c),p=bh(t),m=T0(t);let v,x;p==="top"||p==="bottom"?(v=p,x=m===(await(r.isRTL==null?void 0:r.isRTL(a.floating))?"start":"end")?"left":"right"):(x=p,v=m==="end"?"top":"bottom");const _=Wf(f.left,0),S=Wf(f.right,0),T=Wf(f.top,0),M=Wf(f.bottom,0),b={availableHeight:i.floating.height-(["left","right"].includes(t)?2*(T!==0||M!==0?T+M:Wf(f.top,f.bottom)):f[v]),availableWidth:i.floating.width-(["top","bottom"].includes(t)?2*(_!==0||S!==0?_+S:Wf(f.left,f.right)):f[x])},R=await r.getDimensions(a.floating);o==null||o({...e,...b});const B=await r.getDimensions(a.floating);return R.width!==B.width||R.height!==B.height?{reset:{rects:!0}}:{}}}};function iO(n){return n&&n.document&&n.location&&n.alert&&n.setInterval}function gc(n){if(n==null)return window;if(!iO(n)){const e=n.ownerDocument;return e&&e.defaultView||window}return n}function C0(n){return gc(n).getComputedStyle(n)}function sc(n){return iO(n)?"":n?(n.nodeName||"").toLowerCase():""}function rO(){const n=navigator.userAgentData;return n!=null&&n.brands?n.brands.map(e=>e.brand+"/"+e.version).join(" "):navigator.userAgent}function pl(n){return n instanceof gc(n).HTMLElement}function Bu(n){return n instanceof gc(n).Element}function rM(n){return typeof ShadowRoot>"u"?!1:n instanceof gc(n).ShadowRoot||n instanceof ShadowRoot}function mb(n){const{overflow:e,overflowX:t,overflowY:i}=C0(n);return/auto|scroll|overlay|hidden/.test(e+i+t)}function l7(n){return["table","td","th"].includes(sc(n))}function LR(n){const e=/firefox/i.test(rO()),t=C0(n);return t.transform!=="none"||t.perspective!=="none"||t.contain==="paint"||["transform","perspective"].includes(t.willChange)||e&&t.willChange==="filter"||e&&!!t.filter&&t.filter!=="none"}function aO(){return!/^((?!chrome|android).)*safari/i.test(rO())}const IR=Math.min,Hg=Math.max,p_=Math.round;function oc(n,e,t){var i,r,a,o;e===void 0&&(e=!1),t===void 0&&(t=!1);const c=n.getBoundingClientRect();let f=1,p=1;e&&pl(n)&&(f=n.offsetWidth>0&&p_(c.width)/n.offsetWidth||1,p=n.offsetHeight>0&&p_(c.height)/n.offsetHeight||1);const m=Bu(n)?gc(n):window,v=!aO()&&t,x=(c.left+(v&&(i=(r=m.visualViewport)==null?void 0:r.offsetLeft)!=null?i:0))/f,_=(c.top+(v&&(a=(o=m.visualViewport)==null?void 0:o.offsetTop)!=null?a:0))/p,S=c.width/f,T=c.height/p;return{width:S,height:T,top:_,right:x+S,bottom:_+T,left:x,x,y:_}}function Mu(n){return(e=n,(e instanceof gc(e).Node?n.ownerDocument:n.document)||window.document).documentElement;var e}function gb(n){return Bu(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function sO(n){return oc(Mu(n)).left+gb(n).scrollLeft}function c7(n,e,t){const i=pl(e),r=Mu(e),a=oc(n,i&&function(f){const p=oc(f);return p_(p.width)!==f.offsetWidth||p_(p.height)!==f.offsetHeight}(e),t==="fixed");let o={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if(i||!i&&t!=="fixed")if((sc(e)!=="body"||mb(r))&&(o=gb(e)),pl(e)){const f=oc(e,!0);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else r&&(c.x=sO(r));return{x:a.left+o.scrollLeft-c.x,y:a.top+o.scrollTop-c.y,width:a.width,height:a.height}}function oO(n){return sc(n)==="html"?n:n.assignedSlot||n.parentNode||(rM(n)?n.host:null)||Mu(n)}function PR(n){return pl(n)&&getComputedStyle(n).position!=="fixed"?n.offsetParent:null}function N1(n){const e=gc(n);let t=PR(n);for(;t&&l7(t)&&getComputedStyle(t).position==="static";)t=PR(t);return t&&(sc(t)==="html"||sc(t)==="body"&&getComputedStyle(t).position==="static"&&!LR(t))?e:t||function(i){let r=oO(i);for(rM(r)&&(r=r.host);pl(r)&&!["html","body"].includes(sc(r));){if(LR(r))return r;r=r.parentNode}return null}(n)||e}function zR(n){if(pl(n))return{width:n.offsetWidth,height:n.offsetHeight};const e=oc(n);return{width:e.width,height:e.height}}function lO(n){const e=oO(n);return["html","body","#document"].includes(sc(e))?n.ownerDocument.body:pl(e)&&mb(e)?e:lO(e)}function m_(n,e){var t;e===void 0&&(e=[]);const i=lO(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),a=gc(i),o=r?[a].concat(a.visualViewport||[],mb(i)?i:[]):i,c=e.concat(o);return r?c:c.concat(m_(o))}function FR(n,e,t){return e==="viewport"?h_(function(i,r){const a=gc(i),o=Mu(i),c=a.visualViewport;let f=o.clientWidth,p=o.clientHeight,m=0,v=0;if(c){f=c.width,p=c.height;const x=aO();(x||!x&&r==="fixed")&&(m=c.offsetLeft,v=c.offsetTop)}return{width:f,height:p,x:m,y:v}}(n,t)):Bu(e)?function(i,r){const a=oc(i,!1,r==="fixed"),o=a.top+i.clientTop,c=a.left+i.clientLeft;return{top:o,left:c,x:c,y:o,right:c+i.clientWidth,bottom:o+i.clientHeight,width:i.clientWidth,height:i.clientHeight}}(e,t):h_(function(i){var r;const a=Mu(i),o=gb(i),c=(r=i.ownerDocument)==null?void 0:r.body,f=Hg(a.scrollWidth,a.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),p=Hg(a.scrollHeight,a.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0);let m=-o.scrollLeft+sO(i);const v=-o.scrollTop;return C0(c||a).direction==="rtl"&&(m+=Hg(a.clientWidth,c?c.clientWidth:0)-f),{width:f,height:p,x:m,y:v}}(Mu(n)))}function u7(n){const e=m_(n),t=["absolute","fixed"].includes(C0(n).position)&&pl(n)?N1(n):n;return Bu(t)?e.filter(i=>Bu(i)&&function(r,a){const o=a.getRootNode==null?void 0:a.getRootNode();if(r.contains(a))return!0;if(o&&rM(o)){let c=a;do{if(c&&r===c)return!0;c=c.parentNode||c.host}while(c)}return!1}(i,t)&&sc(i)!=="body"):[]}const f7={getClippingRect:function(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const a=[...t==="clippingAncestors"?u7(e):[].concat(t),i],o=a[0],c=a.reduce((f,p)=>{const m=FR(e,p,r);return f.top=Hg(m.top,f.top),f.right=IR(m.right,f.right),f.bottom=IR(m.bottom,f.bottom),f.left=Hg(m.left,f.left),f},FR(e,o,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(n){let{rect:e,offsetParent:t,strategy:i}=n;const r=pl(t),a=Mu(t);if(t===a)return e;let o={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if((r||!r&&i!=="fixed")&&((sc(t)!=="body"||mb(a))&&(o=gb(t)),pl(t))){const f=oc(t,!0);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}return{...e,x:e.x-o.scrollLeft+c.x,y:e.y-o.scrollTop+c.y}},isElement:Bu,getDimensions:zR,getOffsetParent:N1,getDocumentElement:Mu,getElementRects:n=>{let{reference:e,floating:t,strategy:i}=n;return{reference:c7(e,N1(t),i),floating:{...zR(t),x:0,y:0}}},getClientRects:n=>Array.from(n.getClientRects()),isRTL:n=>C0(n).direction==="rtl"};function h7(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:o=!0,animationFrame:c=!1}=i,f=r&&!c,p=a&&!c,m=f||p?[...Bu(n)?m_(n):[],...m_(e)]:[];m.forEach(S=>{f&&S.addEventListener("scroll",t,{passive:!0}),p&&S.addEventListener("resize",t)});let v,x=null;if(o){let S=!0;x=new ResizeObserver(()=>{S||t(),S=!1}),Bu(n)&&!c&&x.observe(n),x.observe(e)}let _=c?oc(n):null;return c&&function S(){const T=oc(n);!_||T.x===_.x&&T.y===_.y&&T.width===_.width&&T.height===_.height||t(),_=T,v=requestAnimationFrame(S)}(),t(),()=>{var S;m.forEach(T=>{f&&T.removeEventListener("scroll",t),p&&T.removeEventListener("resize",t)}),(S=x)==null||S.disconnect(),x=null,c&&cancelAnimationFrame(v)}}const d7=(n,e,t)=>$k(n,e,{platform:f7,...t});var U1=typeof document<"u"?N.useLayoutEffect:N.useEffect;function L1(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(i=t;i--!==0;)if(!L1(n[i],e[i]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){const a=r[i];if(!(a==="_owner"&&n.$$typeof)&&!L1(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function p7(n){const e=N.useRef(n);return U1(()=>{e.current=n}),e}function m7(n){let{middleware:e,placement:t="bottom",strategy:i="absolute",whileElementsMounted:r}=n===void 0?{}:n;const a=N.useRef(null),o=N.useRef(null),c=p7(r),f=N.useRef(null),[p,m]=N.useState({x:null,y:null,strategy:i,placement:t,middlewareData:{}}),[v,x]=N.useState(e);L1(v==null?void 0:v.map(B=>{let{options:D}=B;return D}),e==null?void 0:e.map(B=>{let{options:D}=B;return D}))||x(e);const _=N.useCallback(()=>{!a.current||!o.current||d7(a.current,o.current,{middleware:v,placement:t,strategy:i}).then(B=>{S.current&&w_.flushSync(()=>{m(B)})})},[v,t,i]);U1(()=>{S.current&&_()},[_]);const S=N.useRef(!1);U1(()=>(S.current=!0,()=>{S.current=!1}),[]);const T=N.useCallback(()=>{if(typeof f.current=="function"&&(f.current(),f.current=null),a.current&&o.current)if(c.current){const B=c.current(a.current,o.current,_);f.current=B}else _()},[_,c]),M=N.useCallback(B=>{a.current=B,T()},[T]),b=N.useCallback(B=>{o.current=B,T()},[T]),R=N.useMemo(()=>({reference:a,floating:o}),[]);return N.useMemo(()=>({...p,update:_,refs:R,reference:M,floating:b}),[p,_,R,M,b])}const g7=n=>{const{element:e,padding:t}=n;function i(r){return Object.prototype.hasOwnProperty.call(r,"current")}return{name:"arrow",options:n,fn(r){return i(e)?e.current!=null?DR({element:e.current,padding:t}).fn(r):{}:e?DR({element:e,padding:t}).fn(r):{}}}},v7=N.forwardRef((n,e)=>{const{children:t,width:i=10,height:r=5,...a}=n;return N.createElement(mh.svg,wi({},a,{ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),n.asChild?t:N.createElement("polygon",{points:"0,0 30,0 15,10"}))}),y7=v7;function x7(n){const e=N.useRef(n);return N.useEffect(()=>{e.current=n}),N.useMemo(()=>(...t)=>{var i;return(i=e.current)===null||i===void 0?void 0:i.call(e,...t)},[])}const Rg=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{};function _7(n){const[e,t]=N.useState(void 0);return Rg(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const a=r[0];let o,c;if("borderBoxSize"in a){const f=a.borderBoxSize,p=Array.isArray(f)?f[0]:f;o=p.inlineSize,c=p.blockSize}else o=n.offsetWidth,c=n.offsetHeight;t({width:o,height:c})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}const cO="Popper",[aM,uO]=K3(cO),[b7,fO]=aM(cO),A7=n=>{const{__scopePopper:e,children:t}=n,[i,r]=N.useState(null);return N.createElement(b7,{scope:e,anchor:i,onAnchorChange:r},t)},S7="PopperAnchor",E7=N.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...r}=n,a=fO(S7,t),o=N.useRef(null),c=Ip(e,o);return N.useEffect(()=>{a.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:N.createElement(mh.div,wi({},r,{ref:c}))}),g_="PopperContent",[M7,T7]=aM(g_),[C7,w7]=aM(g_,{hasParent:!1,positionUpdateFns:new Set}),R7=N.forwardRef((n,e)=>{var t,i,r,a,o,c,f,p;const{__scopePopper:m,side:v="bottom",sideOffset:x=0,align:_="center",alignOffset:S=0,arrowPadding:T=0,collisionBoundary:M=[],collisionPadding:b=0,sticky:R="partial",hideWhenDetached:B=!1,avoidCollisions:D=!0,onPlaced:I,...U}=n,F=fO(g_,m),[V,P]=N.useState(null),L=Ip(e,Tt=>P(Tt)),[k,ie]=N.useState(null),te=_7(k),ue=(t=te==null?void 0:te.width)!==null&&t!==void 0?t:0,fe=(i=te==null?void 0:te.height)!==null&&i!==void 0?i:0,G=v+(_!=="center"?"-"+_:""),$=typeof b=="number"?b:{top:0,right:0,bottom:0,left:0,...b},Q=Array.isArray(M)?M:[M],he=Q.length>0,Y={padding:$,boundary:Q.filter(U7),altBoundary:he},{reference:ae,floating:Se,strategy:Re,x:Ue,y:pe,placement:Be,middlewareData:Fe,update:We}=m7({strategy:"fixed",placement:G,whileElementsMounted:h7,middleware:[L7(),r7({mainAxis:x+fe,alignmentAxis:S}),D?a7({mainAxis:!0,crossAxis:!1,limiter:R==="partial"?s7():void 0,...Y}):void 0,k?g7({element:k,padding:T}):void 0,D?n7({...Y}):void 0,o7({...Y,apply:({elements:Tt,availableWidth:j,availableHeight:H})=>{Tt.floating.style.setProperty("--radix-popper-available-width",`${j}px`),Tt.floating.style.setProperty("--radix-popper-available-height",`${H}px`)}}),I7({arrowWidth:ue,arrowHeight:fe}),B?i7({strategy:"referenceHidden"}):void 0].filter(N7)});Rg(()=>{ae(F.anchor)},[ae,F.anchor]);const st=Ue!==null&&pe!==null,[St,ln]=hO(Be),Et=x7(I);Rg(()=>{st&&(Et==null||Et())},[st,Et]);const Z=(r=Fe.arrow)===null||r===void 0?void 0:r.x,Pe=(a=Fe.arrow)===null||a===void 0?void 0:a.y,Oe=((o=Fe.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[Xe,De]=N.useState();Rg(()=>{V&&De(window.getComputedStyle(V).zIndex)},[V]);const{hasParent:et,positionUpdateFns:Ve}=w7(g_,m),Ye=!et;N.useLayoutEffect(()=>{if(!Ye)return Ve.add(We),()=>{Ve.delete(We)}},[Ye,Ve,We]),Rg(()=>{Ye&&st&&Array.from(Ve).reverse().forEach(Tt=>requestAnimationFrame(Tt))},[Ye,st,Ve]);const Mt={"data-side":St,"data-align":ln,...U,ref:L,style:{...U.style,animation:st?void 0:"none",opacity:(c=Fe.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}};return N.createElement("div",{ref:Se,"data-radix-popper-content-wrapper":"",style:{position:Re,left:0,top:0,transform:st?`translate3d(${Math.round(Ue)}px, ${Math.round(pe)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:Xe,"--radix-popper-transform-origin":[(f=Fe.transformOrigin)===null||f===void 0?void 0:f.x,(p=Fe.transformOrigin)===null||p===void 0?void 0:p.y].join(" ")},dir:n.dir},N.createElement(M7,{scope:m,placedSide:St,onArrowChange:ie,arrowX:Z,arrowY:Pe,shouldHideArrow:Oe},Ye?N.createElement(C7,{scope:m,hasParent:!0,positionUpdateFns:Ve},N.createElement(mh.div,Mt)):N.createElement(mh.div,Mt)))}),B7="PopperArrow",D7={top:"bottom",right:"left",bottom:"top",left:"right"},O7=N.forwardRef(function(e,t){const{__scopePopper:i,...r}=e,a=T7(B7,i),o=D7[a.placedSide];return N.createElement("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0}},N.createElement(y7,wi({},r,{ref:t,style:{...r.style,display:"block"}})))});function N7(n){return n!==void 0}function U7(n){return n!==null}const L7=()=>({name:"anchorCssProperties",fn(n){const{rects:e,elements:t}=n,{width:i,height:r}=e.reference;return t.floating.style.setProperty("--radix-popper-anchor-width",`${i}px`),t.floating.style.setProperty("--radix-popper-anchor-height",`${r}px`),{}}}),I7=n=>({name:"transformOrigin",options:n,fn(e){var t,i,r,a,o;const{placement:c,rects:f,middlewareData:p}=e,v=((t=p.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,x=v?0:n.arrowWidth,_=v?0:n.arrowHeight,[S,T]=hO(c),M={start:"0%",center:"50%",end:"100%"}[T],b=((i=(r=p.arrow)===null||r===void 0?void 0:r.x)!==null&&i!==void 0?i:0)+x/2,R=((a=(o=p.arrow)===null||o===void 0?void 0:o.y)!==null&&a!==void 0?a:0)+_/2;let B="",D="";return S==="bottom"?(B=v?M:`${b}px`,D=`${-_}px`):S==="top"?(B=v?M:`${b}px`,D=`${f.floating.height+_}px`):S==="right"?(B=`${-_}px`,D=v?M:`${R}px`):S==="left"&&(B=`${f.floating.width+_}px`,D=v?M:`${R}px`),{data:{x:B,y:D}}}});function hO(n){const[e,t="center"]=n.split("-");return[e,t]}const P7=A7,z7=E7,F7=R7,H7=O7,HR=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{};function G7(n,e){return N.useReducer((t,i)=>{const r=e[t][i];return r??t},n)}const dO=n=>{const{present:e,children:t}=n,i=V7(e),r=typeof t=="function"?t({present:i.isPresent}):N.Children.only(t),a=Ip(i.ref,r.ref);return typeof t=="function"||i.isPresent?N.cloneElement(r,{ref:a}):null};dO.displayName="Presence";function V7(n){const[e,t]=N.useState(),i=N.useRef({}),r=N.useRef(n),a=N.useRef("none"),o=n?"mounted":"unmounted",[c,f]=G7(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const p=rx(i.current);a.current=c==="mounted"?p:"none"},[c]),HR(()=>{const p=i.current,m=r.current;if(m!==n){const x=a.current,_=rx(p);n?f("MOUNT"):_==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(m&&x!==_?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,f]),HR(()=>{if(e){const p=v=>{const _=rx(i.current).includes(v.animationName);v.target===e&&_&&w_.flushSync(()=>f("ANIMATION_END"))},m=v=>{v.target===e&&(a.current=rx(i.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:N.useCallback(p=>{p&&(i.current=getComputedStyle(p)),t(p)},[])}}function rx(n){return(n==null?void 0:n.animationName)||"none"}function pO(n){const e=N.useRef(n);return N.useEffect(()=>{e.current=n}),N.useMemo(()=>(...t)=>{var i;return(i=e.current)===null||i===void 0?void 0:i.call(e,...t)},[])}function k7({prop:n,defaultProp:e,onChange:t=()=>{}}){const[i,r]=j7({defaultProp:e,onChange:t}),a=n!==void 0,o=a?n:i,c=pO(t),f=N.useCallback(p=>{if(a){const v=typeof p=="function"?p(n):p;v!==n&&c(v)}else r(p)},[a,n,r,c]);return[o,f]}function j7({defaultProp:n,onChange:e}){const t=N.useState(n),[i]=t,r=N.useRef(i),a=pO(e);return N.useEffect(()=>{r.current!==i&&(a(i),r.current=i)},[i,r,a]),t}const X7=N.forwardRef((n,e)=>N.createElement(mh.span,wi({},n,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}))),Y7=X7,[vb,EJ]=K3("Tooltip",[uO]),yb=uO(),q7="TooltipProvider",I1="tooltip.open",[MJ,sM]=vb(q7),oM="Tooltip",[W7,xb]=vb(oM),J7=n=>{const{__scopeTooltip:e,children:t,open:i,defaultOpen:r=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:c}=n,f=sM(oM,n.__scopeTooltip),p=yb(e),[m,v]=N.useState(null),x=Kk(),_=N.useRef(0),S=o??f.disableHoverableContent,T=c??f.delayDuration,M=N.useRef(!1),[b=!1,R]=k7({prop:i,defaultProp:r,onChange:F=>{F?(f.onOpen(),document.dispatchEvent(new CustomEvent(I1))):f.onClose(),a==null||a(F)}}),B=N.useMemo(()=>b?M.current?"delayed-open":"instant-open":"closed",[b]),D=N.useCallback(()=>{window.clearTimeout(_.current),M.current=!1,R(!0)},[R]),I=N.useCallback(()=>{window.clearTimeout(_.current),R(!1)},[R]),U=N.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>{M.current=!0,R(!0)},T)},[T,R]);return N.useEffect(()=>()=>window.clearTimeout(_.current),[]),N.createElement(P7,p,N.createElement(W7,{scope:e,contentId:x,open:b,stateAttribute:B,trigger:m,onTriggerChange:v,onTriggerEnter:N.useCallback(()=>{f.isOpenDelayed?U():D()},[f.isOpenDelayed,U,D]),onTriggerLeave:N.useCallback(()=>{S?I():window.clearTimeout(_.current)},[I,S]),onOpen:D,onClose:I,disableHoverableContent:S},t))},GR="TooltipTrigger",K7=N.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=xb(GR,t),a=sM(GR,t),o=yb(t),c=N.useRef(null),f=Ip(e,c,r.onTriggerChange),p=N.useRef(!1),m=N.useRef(!1),v=N.useCallback(()=>p.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),N.createElement(z7,wi({asChild:!0},o),N.createElement(mh.button,wi({"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute},i,{ref:f,onPointerMove:$l(n.onPointerMove,x=>{x.pointerType!=="touch"&&!m.current&&!a.isPointerInTransitRef.current&&(r.onTriggerEnter(),m.current=!0)}),onPointerLeave:$l(n.onPointerLeave,()=>{r.onTriggerLeave(),m.current=!1}),onPointerDown:$l(n.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:$l(n.onFocus,()=>{p.current||r.onOpen()}),onBlur:$l(n.onBlur,r.onClose),onClick:$l(n.onClick,r.onClose)})))}),$7="TooltipPortal",[TJ,Q7]=vb($7,{forceMount:void 0}),s0="TooltipContent",Z7=N.forwardRef((n,e)=>{const t=Q7(s0,n.__scopeTooltip),{forceMount:i=t.forceMount,side:r="top",...a}=n,o=xb(s0,n.__scopeTooltip);return N.createElement(dO,{present:i||o.open},o.disableHoverableContent?N.createElement(mO,wi({side:r},a,{ref:e})):N.createElement(ej,wi({side:r},a,{ref:e})))}),ej=N.forwardRef((n,e)=>{const t=xb(s0,n.__scopeTooltip),i=sM(s0,n.__scopeTooltip),r=N.useRef(null),a=Ip(e,r),[o,c]=N.useState(null),{trigger:f,onClose:p}=t,m=r.current,{onPointerInTransitChange:v}=i,x=N.useCallback(()=>{c(null),v(!1)},[v]),_=N.useCallback((S,T)=>{const M=S.currentTarget,b={x:S.clientX,y:S.clientY},R=aj(b,M.getBoundingClientRect()),B=R==="right"||R==="bottom"?-5:5,I=R==="right"||R==="left"?{x:S.clientX+B,y:S.clientY}:{x:S.clientX,y:S.clientY+B},U=sj(T.getBoundingClientRect()),F=lj([I,...U]);c(F),v(!0)},[v]);return N.useEffect(()=>()=>x(),[x]),N.useEffect(()=>{if(f&&m){const S=M=>_(M,m),T=M=>_(M,f);return f.addEventListener("pointerleave",S),m.addEventListener("pointerleave",T),()=>{f.removeEventListener("pointerleave",S),m.removeEventListener("pointerleave",T)}}},[f,m,_,x]),N.useEffect(()=>{if(o){const S=T=>{const M=T.target,b={x:T.clientX,y:T.clientY},R=(f==null?void 0:f.contains(M))||(m==null?void 0:m.contains(M)),B=!oj(b,o);R?x():B&&(x(),p())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[f,m,o,p,x]),N.createElement(mO,wi({},n,{ref:a}))}),[tj,nj]=vb(oM,{isInside:!1}),mO=N.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":r,onEscapeKeyDown:a,onPointerDownOutside:o,...c}=n,f=xb(s0,t),p=yb(t),{onClose:m}=f;return N.useEffect(()=>(document.addEventListener(I1,m),()=>document.removeEventListener(I1,m)),[m]),N.useEffect(()=>{if(f.trigger){const v=x=>{const _=x.target;_!=null&&_.contains(f.trigger)&&m()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[f.trigger,m]),N.createElement(jk,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:v=>v.preventDefault(),onDismiss:m},N.createElement(F7,wi({"data-state":f.stateAttribute},p,c,{ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),N.createElement(Q3,null,i),N.createElement(tj,{scope:t,isInside:!0},N.createElement(Y7,{id:f.contentId,role:"tooltip"},r||i))))}),ij="TooltipArrow",rj=N.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=yb(t);return nj(ij,t).isInside?null:N.createElement(H7,wi({},r,i,{ref:e}))});function aj(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),a=Math.abs(e.left-n.x);switch(Math.min(t,i,r,a)){case a:return"left";case r:return"right";case t:return"top";case i:return"bottom";default:return null}}function sj(n){const{top:e,right:t,bottom:i,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:i},{x:r,y:i}]}function oj(n,e){const{x:t,y:i}=n;let r=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const c=e[a].x,f=e[a].y,p=e[o].x,m=e[o].y;f>i!=m>i&&t<(p-c)*(i-f)/(m-f)+c&&(r=!r)}return r}function lj(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),cj(e)}function cj(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const r=n[i];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(r.y-o.y)>=(a.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const r=n[i];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(r.y-o.y)>=(a.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}const uj=J7,fj=K7,hj=Z7,dj=rj;function pj(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function qn(n,e){if(n==null)return{};var t=pj(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}let vi;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(vi||(vi={}));const mj={[vi.UNSUPPORTED_INPUT]:(n,e)=>[`An input with type \`${n}\` input was found at path \`${e}\` but it's not supported yet.`],[vi.NO_COMPONENT_FOR_TYPE]:(n,e)=>[`Type \`${n}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[vi.UNKNOWN_INPUT]:(n,e)=>[`input at path \`${n}\` is not recognized.`,e],[vi.DUPLICATE_KEYS]:(n,e,t)=>[`Key \`${n}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[vi.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[vi.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[vi.THEME_ERROR]:(n,e)=>[`Error accessing the theme \`${n}.${e}\` value.`],[vi.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[vi.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[vi.INPUT_TYPE_OVERRIDE]:(n,e,t)=>[`Input at path \`${n}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[vi.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function gO(n,e,...t){const[i,...r]=mj[e](...t);console[n]("LEVA: "+i,...r)}const ec=gO.bind(null,"warn"),gj=gO.bind(null,"log"),vj=["value"],yj=["schema"],xj=["value"],vO=[],gh={};function VR(n){let{value:e}=n,t=qn(n,vj);for(let i of vO){const r=i(e,t);if(r)return r}}function vc(n,e){let{schema:t}=e,i=qn(e,yj);if(n in gh){ec(vi.ALREADY_REGISTERED_TYPE,n);return}vO.push((r,a)=>t(r,a)&&n),gh[n]=i}function CS(n,e,t,i){const{normalize:r}=gh[n];if(r)return r(e,t,i);if(typeof e!="object"||!("value"in e))return{value:e};const{value:a}=e,o=qn(e,xj);return{value:a,settings:o}}function _j(n,e,t,i,r,a){const{sanitize:o}=gh[n];return o?o(e,t,i,r,a):e}function kR(n,e,t){const{format:i}=gh[n];return i?i(e,t):e}function bj(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function kt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(t),!0).forEach(function(i){bj(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jR(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const Du=(n,e,t)=>n>t?t:n<e?e:n,Aj=n=>{if(n===""||typeof n=="number")return n;try{const e=xu(n);if(!isNaN(e))return e}catch{}return parseFloat(n)},Sj=Math.log(10);function XR(n){let e=Math.abs(+String(n).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/Sj)+1,i=Math.floor(Math.log10(Math.abs(n))),r=Math.pow(10,i-t);return Math.max(r,.001)}const v_=(n,e,t)=>t===e?0:(Du(n,e,t)-e)/(t-e),y_=(n,e,t)=>n*(t-e)+e,Ej=()=>"_"+Math.random().toString(36).substr(2,9),YR=/\(([0-9+\-*/^ .]+)\)/,qR=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,WR=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,JR=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,KR=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,$R=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function xu(n){if(isNaN(Number(n)))if(YR.test(n)){const e=n.replace(YR,(t,i)=>String(xu(i)));return xu(e)}else if(qR.test(n)){const e=n.replace(qR,(t,i,r)=>String(Math.pow(Number(i),Number(r))));return xu(e)}else if(WR.test(n)){const e=n.replace(WR,(t,i,r)=>String(Number(i)*Number(r)));return xu(e)}else if(JR.test(n)){const e=n.replace(JR,(t,i,r)=>{if(r!=0)return String(Number(i)/Number(r));throw new Error("Division by zero")});return xu(e)}else if(KR.test(n)){const e=n.replace(KR,(t,i,r)=>String(Number(i)+Number(r)));return xu(e)}else if($R.test(n)){const e=n.replace($R,(t,i,r)=>String(Number(i)-Number(r)));return xu(e)}else return Number(n);return Number(n)}function Mj(n,e){return e.reduce((t,i)=>(n&&n.hasOwnProperty(i)&&(t[i]=n[i]),t),{})}function Tj(n,e){const t=kt({},n);return e.forEach(i=>i in n&&delete t[i]),t}function Cj(n,e){return n.reduce((t,i,r)=>Object.assign(t,{[e[r]]:i}),{})}function yO(n){return Object.prototype.toString.call(n)==="[object Object]"}const wj=n=>yO(n)&&Object.keys(n).length===0;let yo;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(yo||(yo={}));let xo;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})(xo||(xo={}));const Rj=["type","__customInput"],Bj=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],Dj=["type"];function xO(n,e,t={},i){var r,a;if(typeof n!="object"||Array.isArray(n))return{type:i,input:n,options:kt({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in n){const{type:I,__customInput:U}=n,F=qn(n,Rj);return xO(U,e,F,I)}const{render:o,label:c,optional:f,order:p=0,disabled:m,hint:v,onChange:x,onEditStart:_,onEditEnd:S,transient:T}=n,M=qn(n,Bj),b=kt({render:o,key:e,label:c??e,hint:v,transient:T??!!x,onEditStart:_,onEditEnd:S,disabled:m,optional:f,order:p},t);let{type:R}=M,B=qn(M,Dj);if(R=i??R,R in yo)return{type:R,input:B,options:b};let D;return i&&yO(B)&&"value"in B?D=B.value:D=wj(B)?void 0:B,{type:R,input:D,options:kt(kt({},b),{},{onChange:x,optional:(r=b.optional)!==null&&r!==void 0?r:!1,disabled:(a=b.disabled)!==null&&a!==void 0?a:!1})}}function Oj(n,e,t,i){const r=xO(n,e),{type:a,input:o,options:c}=r;if(a)return a in yo?r:{type:a,input:CS(a,o,t,i),options:c};let f=VR(o);return f?{type:f,input:CS(f,o,t,i),options:c}:(f=VR({value:o}),f?{type:f,input:CS(f,{value:o},t,i),options:c}:!1)}function QR(n,e,t,i,r){const{value:a,type:o,settings:c}=n;n.value=_O({type:o,value:a,settings:c},e,t,i),n.fromPanel=r}const Nj=function(e,t,i){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=i};function _O({type:n,value:e,settings:t},i,r,a){const o=n!=="SELECT"&&typeof i=="function"?i(e):i;let c;try{c=_j(n,o,t,e,r,a)}catch(f){throw new Nj(`The value \`${i}\` did not result in a correct value.`,e,f)}return i0(c,e)?e:c}const bO=(n,e,t=!1)=>{let i=0;return function(){const r=arguments,a=t&&!i,o=()=>n.apply(this,r);window.clearTimeout(i),i=window.setTimeout(o,e),a&&o()}},AO=n=>n.shiftKey?5:n.altKey?1/5:1,Uj=["value"],Lj=["min","max"],Ij=n=>{if(typeof n=="number")return!0;if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?!1:n.substring((""+e).length).trim().length<4}return!1},SO=(n,{min:e=-1/0,max:t=1/0,suffix:i})=>{const r=parseFloat(n);if(n===""||isNaN(r))throw Error("Invalid number");const a=Du(r,e,t);return i?a+i:a},Pj=(n,{pad:e=0,suffix:t})=>{const i=parseFloat(n).toFixed(e);return t?i+t:i},EO=n=>{let{value:e}=n,t=qn(n,Uj);const{min:i=-1/0,max:r=1/0}=t,a=qn(t,Lj);let o=parseFloat(e);const c=typeof e=="string"?e.substring((""+o).length):void 0;o=Du(o,i,r);let f=t.step;f||(Number.isFinite(i)?Number.isFinite(r)?f=+(Math.abs(r-i)/100).toPrecision(1):f=+(Math.abs(o-i)/100).toPrecision(1):Number.isFinite(r)&&(f=+(Math.abs(r-o)/100).toPrecision(1)));const p=f?XR(f)*10:XR(o);f=f||p/10;const m=Math.round(Du(Math.log10(1/p),0,2));return{value:c?o+c:o,settings:kt({initialValue:o,step:f,pad:m,min:i,max:r,suffix:c},a)}},MO=(n,{step:e,initialValue:t})=>{const i=Math.round((n-t)/e);return t+i*e};var TO=Object.freeze({__proto__:null,schema:Ij,sanitize:SO,format:Pj,normalize:EO,sanitizeStep:MO});function Ri(){return Ri=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ri.apply(this,arguments)}const CO=N.createContext({});function Yr(){return N.useContext(CO)}const lM=N.createContext(null),wO=N.createContext(null),RO=N.createContext(null);function w0(){return N.useContext(wO)}function zj(){return N.useContext(RO)}const BO=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function ax(n,e){const[t,i]=n.split(" "),r={};return t!=="none"&&(r.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),i&&(r.backgroundColor=i),r}const Sg={$inputStyle:()=>n=>ax(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>ax(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>ax(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>ax(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:Pt,css:CJ,createTheme:Fj,globalCss:Hj,keyframes:wJ}=Nk({prefix:"leva",theme:BO(),utils:kt(kt({},Sg),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":Sg.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":Sg.$focusStyle()(n)}),$hover:n=>({"&:hover":Sg.$hoverStyle()(n)}),$active:n=>({"&:active":Sg.$activeStyle()(n)})})}),Gj=Hj({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function Vj(n){const e=BO();if(!n)return{theme:e,className:""};Object.keys(n).forEach(i=>{Object.assign(e[i],n[i])});const t=Fj(e);return{theme:e,className:t.className}}function lc(n,e){const{theme:t}=N.useContext(lM);if(!(n in t)||!(e in t[n]))return ec(vi.THEME_ERROR,n,e),"";let i=e;for(;;){let r=t[n][i];if(typeof r=="string"&&r.charAt(0)==="$")i=r.substr(1);else return r}}const DO=Pt("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),OO=Pt("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${DO}`]:{paddingLeft:0}}),kj=Pt(OO,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),jj=Pt("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),Xj=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],Yj=["onUpdate"];function cM(n){let{innerLabel:e,value:t,onUpdate:i,onChange:r,onKeyDown:a,type:o,id:c,inputType:f="text",rows:p=0}=n,m=qn(n,Xj);const{id:v,emitOnEditStart:x,emitOnEditEnd:_,disabled:S}=Yr(),T=c||v,M=N.useRef(null),b=p>0,R=b?"textarea":"input",B=N.useCallback(U=>F=>{const V=F.currentTarget.value;U(V)},[]);re.useEffect(()=>{const U=M.current,F=B(V=>{i(V),_()});return U==null||U.addEventListener("blur",F),()=>U==null?void 0:U.removeEventListener("blur",F)},[B,i,_]);const D=N.useCallback(U=>{U.key==="Enter"&&B(i)(U)},[B,i]),I=Object.assign({as:R},b?{rows:p}:{},m);return re.createElement(jj,{textArea:b},e&&typeof e=="string"?re.createElement(OO,null,e):e,re.createElement(DO,Ri({levaType:o,ref:M,id:T,type:f,autoComplete:"off",spellCheck:"false",value:t,onChange:B(r),onFocus:()=>x(),onKeyPress:D,onKeyDown:a,disabled:S},I)))}function qj(n){let{onUpdate:e}=n,t=qn(n,Yj);const i=N.useCallback(a=>e(Aj(a)),[e]),r=N.useCallback(a=>{const o=a.key==="ArrowUp"?1:a.key==="ArrowDown"?-1:0;if(o){a.preventDefault();const c=a.altKey?.1:a.shiftKey?10:1;e(f=>parseFloat(f)+o*c)}},[e]);return re.createElement(cM,Ri({},t,{onUpdate:i,onKeyDown:r,type:"number"}))}const x_=Pt("div",{}),P1=Pt("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),Wj=Pt("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${P1}::after`]:{opacity:.6},[`${x_}:hover > & + ${P1}::after`]:{opacity:.6},[`${x_}:hover > & > svg`]:{opacity:1}}),NO=Pt("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${x_}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),UO=Pt("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${NO} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),LO=Pt(UO,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),Jj=Pt("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),Kj=Pt("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),z1=Pt("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),$j=Pt("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${z1}`]:{pointerEvents:"auto"}}}}}),IO=Pt("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),Qj=Pt("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),Zj=Pt(dj,{fill:"$toolTipBackground"});function uM({children:n}){const{className:e}=N.useContext(lM);return re.createElement(tk,{className:e},n)}const eX=["align"];function tX(){const{id:n,disable:e,disabled:t}=Yr();return re.createElement(re.Fragment,null,re.createElement(Kj,{id:n+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),re.createElement("label",{htmlFor:n+"__disable"}))}function nX(n){const{id:e,optional:t,hint:i}=Yr(),r=n.htmlFor||(e?{htmlFor:e}:null),a=!i&&typeof n.children=="string"?{title:n.children}:null;return re.createElement(re.Fragment,null,t&&re.createElement(tX,null),i!==void 0?re.createElement(uj,null,re.createElement(fj,{asChild:!0},re.createElement(z1,Ri({},r,n))),re.createElement(hj,{side:"top",sideOffset:2},re.createElement(Qj,null,i,re.createElement(Zj,null)))):re.createElement(z1,Ri({},r,a,n)))}function Ao(n){let{align:e}=n,t=qn(n,eX);const{value:i,label:r,key:a,disabled:o}=Yr(),{hideCopyButton:c}=zj(),f=!c&&a!==void 0,[p,m]=N.useState(!1),v=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[a]:i??""})),m(!0)}catch{ec(vi.CLIPBOARD_ERROR,{[a]:i})}};return re.createElement(Jj,{align:e,onPointerLeave:()=>m(!1)},re.createElement(nX,t),f&&!o&&re.createElement("div",{title:`Click to copy ${typeof r=="string"?r:a} value`},p?re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},re.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),re.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):re.createElement("svg",{onClick:v,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},re.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),re.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const iX=["toggled"],rX=Pt("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function fM(n){let{toggled:e}=n,t=qn(n,iX);return re.createElement(rX,Ri({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),re.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const aX=["input"];function Ps(n){let{input:e}=n,t=qn(n,aX);return e?re.createElement(LO,t):re.createElement(UO,t)}function PO({value:n,type:e,settings:t,setValue:i}){const[r,a]=N.useState(kR(e,n,t)),o=N.useRef(n),c=N.useRef(t);c.current=t;const f=N.useCallback(m=>a(kR(e,m,c.current)),[e]),p=N.useCallback(m=>{try{i(m)}catch(v){const{type:x,previousValue:_}=v;if(x!=="LEVA_ERROR")throw v;f(_)}},[f,i]);return N.useEffect(()=>{i0(n,o.current)||f(n),o.current=n},[n,f]),{displayValue:r,onChange:a,onUpdate:p}}function R0(n,e){const{emitOnEditStart:t,emitOnEditEnd:i}=Yr();return S6(r=>{r.first&&(document.body.classList.add("leva__panel__dragged"),t==null||t());const a=n(r);return r.last&&(document.body.classList.remove("leva__panel__dragged"),i==null||i()),a},e)}function sX(n){const e=N.useRef(null),t=N.useRef(null),i=N.useRef(!1);return N.useEffect(()=>{const r=bO(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,n(e.current,t.current)},250);return window.addEventListener("resize",r),i.current||(r(),i.current=!0),()=>window.removeEventListener("resize",r)},[n]),N.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function zO(){const n=N.useRef(null),e=N.useRef({x:0,y:0}),t=N.useCallback(i=>{Object.assign(e.current,i),n.current&&(n.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[n,t]}const oX=["__refCount"],wS=(n,e)=>{if(!n[e])return null;const t=n[e];return qn(t,oX)};function lX(n){const e=w0(),[t,i]=N.useState(wS(e.getData(),n)),r=N.useCallback(p=>e.setValueAtPath(n,p,!0),[n,e]),a=N.useCallback(p=>e.setSettingsAtPath(n,p),[n,e]),o=N.useCallback(p=>e.disableInputAtPath(n,p),[n,e]),c=N.useCallback(()=>e.emitOnEditStart(n),[n,e]),f=N.useCallback(()=>e.emitOnEditEnd(n),[n,e]);return N.useEffect(()=>{i(wS(e.getData(),n));const p=e.useStore.subscribe(m=>wS(m.data,n),i,{equalityFn:db});return()=>p()},[e,n]),[t,{set:r,setSettings:a,disable:o,storeId:e.storeId,emitOnEditStart:c,emitOnEditEnd:f}]}const cX=Pt("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),FO=Pt("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),F1=Pt("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),HO=Pt("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),GO=Pt("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function uX({value:n,min:e,max:t,onDrag:i,step:r,initialValue:a}){const o=N.useRef(null),c=N.useRef(null),f=N.useRef(0),p=lc("sizes","scrubberWidth"),m=R0(({event:x,first:_,xy:[S],movement:[T],memo:M})=>{if(_){const{width:R,left:B}=o.current.getBoundingClientRect();f.current=R-parseFloat(p),M=(x==null?void 0:x.target)===c.current?n:y_((S-B)/R,e,t)}const b=M+y_(T/f.current,0,t-e);return i(MO(b,{step:r,initialValue:a})),M}),v=v_(n,e,t);return re.createElement(HO,Ri({ref:o},m()),re.createElement(FO,null,re.createElement(GO,{style:{left:0,right:`${(1-v)*100}%`}})),re.createElement(F1,{ref:c,style:{left:`calc(${v} * (100% - ${p}))`}}))}const fX=re.memo(({label:n,onUpdate:e,step:t,innerLabelTrim:i})=>{const[r,a]=N.useState(!1),o=R0(({active:c,delta:[f],event:p,memo:m=0,first:v,last:x,target:_})=>(v&&_.requestPointerLock(),x&&document.exitPointerLock(),a(c),m+=f/2,Math.abs(m)>=1&&(e(S=>parseFloat(S)+Math.floor(m)*t*AO(p)),m=0),m));return re.createElement(kj,Ri({dragging:r,title:n.length>1?n:""},o()),n.slice(0,i))});function VO({label:n,id:e,displayValue:t,onUpdate:i,onChange:r,settings:a,innerLabelTrim:o=1}){const c=o>0&&re.createElement(fX,{label:n,step:a.step,onUpdate:i,innerLabelTrim:o});return re.createElement(qj,{id:e,value:String(t),onUpdate:i,onChange:r,innerLabel:c})}function hX(){const n=Yr(),{label:e,value:t,onUpdate:i,settings:r,id:a}=n,{min:o,max:c}=r,f=c!==1/0&&o!==-1/0;return re.createElement(Ps,{input:!0},re.createElement(Ao,null,e),re.createElement(cX,{hasRange:f},f&&re.createElement(uX,Ri({value:parseFloat(t),onDrag:i},r)),re.createElement(VO,Ri({},n,{id:a,label:"value",innerLabelTrim:f?0:1}))))}const{sanitizeStep:dX}=TO,pX=qn(TO,["sanitizeStep"]);var mX=kt({component:hX},pX);const gX=(n,e)=>Ga().schema({options:Ga().passesAnyOf(Ga().object(),Ga().array())}).test(e),vX=(n,{values:e})=>{if(e.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},yX=(n,{values:e})=>e.indexOf(n),xX=n=>{let{value:e,options:t}=n,i,r;return Array.isArray(t)?(r=t,i=t.map(a=>String(a))):(r=Object.values(t),i=Object.keys(t)),"value"in n?r.includes(e)||(i.unshift(String(e)),r.unshift(e)):e=r[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:i,values:r}}};var _X=Object.freeze({__proto__:null,schema:gX,sanitize:vX,format:yX,normalize:xX});const bX=Pt("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),H1=Pt("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),AX=Pt("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${H1}:focus + &`]:{$focusStyle:""},[`${H1}:hover + &`]:{$hoverStyle:""}});function SX({displayValue:n,value:e,onUpdate:t,id:i,settings:r,disabled:a}){const{keys:o,values:c}=r,f=N.useRef();return e===c[n]&&(f.current=o[n]),re.createElement(bX,null,re.createElement(H1,{id:i,value:n,onChange:p=>t(c[Number(p.currentTarget.value)]),disabled:a},o.map((p,m)=>re.createElement("option",{key:p,value:m},p))),re.createElement(AX,null,f.current),re.createElement(fM,{toggled:!0}))}function EX(){const{label:n,value:e,displayValue:t,onUpdate:i,id:r,disabled:a,settings:o}=Yr();return re.createElement(Ps,{input:!0},re.createElement(Ao,null,n),re.createElement(SX,{id:r,value:e,displayValue:t,onUpdate:i,settings:o,disabled:a}))}var MX=kt({component:EX},_X);const TX=n=>Ga().string().test(n),CX=n=>{if(typeof n!="string")throw Error("Invalid string");return n},wX=({value:n,editable:e=!0,rows:t=!1})=>({value:n,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var RX=Object.freeze({__proto__:null,schema:TX,sanitize:CX,normalize:wX});const BX=["displayValue","onUpdate","onChange","editable"],DX=Pt("div",{whiteSpace:"pre-wrap"});function OX(n){let{displayValue:e,onUpdate:t,onChange:i,editable:r=!0}=n,a=qn(n,BX);return r?re.createElement(cM,Ri({value:e,onUpdate:t,onChange:i},a)):re.createElement(DX,null,e)}function NX(){const{label:n,settings:e,displayValue:t,onUpdate:i,onChange:r}=Yr();return re.createElement(Ps,{input:!0},re.createElement(Ao,null,n),re.createElement(OX,Ri({displayValue:t,onUpdate:i,onChange:r},e)))}var UX=kt({component:NX},RX);const LX=n=>Ga().boolean().test(n),IX=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var PX=Object.freeze({__proto__:null,schema:LX,sanitize:IX});const zX=Pt("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function FX({value:n,onUpdate:e,id:t,disabled:i}){return re.createElement(zX,null,re.createElement("input",{id:t,type:"checkbox",checked:n,onChange:r=>e(r.currentTarget.checked),disabled:i}),re.createElement("label",{htmlFor:t},re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},re.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function HX(){const{label:n,value:e,onUpdate:t,disabled:i,id:r}=Yr();return re.createElement(Ps,{input:!0},re.createElement(Ao,null,n),re.createElement(FX,{value:e,onUpdate:t,id:r,disabled:i}))}var GX=kt({component:HX},PX);const VX=["locked"];function kX({value:n,id:e,valueKey:t,settings:i,onUpdate:r,innerLabelTrim:a}){const o=N.useRef(n[t]);o.current=n[t];const c=N.useCallback(p=>r({[t]:_O({type:"NUMBER",value:o.current,settings:i},p)}),[r,i,t]),f=PO({type:"NUMBER",value:n[t],settings:i,setValue:c});return re.createElement(VO,{id:e,label:t,value:n[t],displayValue:f.displayValue,onUpdate:f.onUpdate,onChange:f.onChange,settings:i,innerLabelTrim:a})}const jX=Pt("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function XX(n){let{locked:e}=n,t=qn(n,VX);return re.createElement("svg",Ri({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?re.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):re.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function hM({value:n,onUpdate:e,settings:t,innerLabelTrim:i}){const{id:r,setSettings:a}=Yr(),{lock:o,locked:c}=t;return re.createElement(jX,{withLock:o},o&&re.createElement(XX,{locked:c,onClick:()=>a({locked:!c})}),Object.keys(n).map((f,p)=>re.createElement(kX,{id:p===0?r:`${r}.${f}`,key:f,valueKey:f,value:n,settings:t[f],onUpdate:e,innerLabelTrim:i})))}const kO=(n,e)=>{const t={};let i=0,r=1/0;Object.entries(n).forEach(([a,o])=>{t[a]=EO(kt({value:o},e[a])).settings,i=Math.max(i,t[a].step),r=Math.min(r,t[a].pad)});for(let a in t){const{step:o,min:c,max:f}=e[a]||{};!isFinite(o)&&(!isFinite(c)||!isFinite(f))&&(t[a].step=i,t[a].pad=r)}return t},YX=["lock"],qX=["value"];function WX(n){const e=Ga().array().length(n).every.number(),t=i=>{if(!i||typeof i!="object")return!1;const r=Object.values(i);return r.length===n&&r.every(a=>isFinite(a))};return i=>e.test(i)||t(i)}function JX(n){return Array.isArray(n)?"array":"object"}function Gg(n,e,t){return JX(n)===e?n:e==="array"?Object.values(n):Cj(n,t)}const KX=(n,e,t)=>{const i=Gg(n,"object",e.keys);for(let o in i)i[o]=SO(i[o],e[o]);const r=Object.keys(i);let a={};if(r.length===e.keys.length)a=i;else{const o=Gg(t,"object",e.keys);if(r.length===1&&e.locked){const c=r[0],f=i[c],p=o[c],m=p!==0?f/p:1;for(let v in o)v===c?a[c]=f:a[v]=o[v]*m}else a=kt(kt({},o),i)}return Gg(a,e.format,e.keys)},$X=(n,e)=>Gg(n,"object",e.keys),QX=n=>!!n&&("step"in n||"min"in n||"max"in n);function ZX(n,e,t=[]){const{lock:i=!1}=e,r=qn(e,YX),a=Array.isArray(n)?"array":"object",o=a==="object"?Object.keys(n):t,c=Gg(n,"object",o),f=QX(r)?o.reduce((m,v)=>Object.assign(m,{[v]:r}),{}):r,p=kO(c,f);return{value:a==="array"?n:c,settings:kt(kt({},p),{},{format:a,keys:o,lock:i,locked:!1})}}function jO(n){return{schema:WX(n.length),normalize:e=>{let{value:t}=e,i=qn(e,qX);return ZX(t,i,n)},format:(e,t)=>$X(e,t),sanitize:(e,t,i)=>KX(e,t,i)}}var eY={grad:.9,turn:360,rad:360/(2*Math.PI)},Jl=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},mr=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},Os=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},XO=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},ZR=function(n){return{r:Os(n.r,0,255),g:Os(n.g,0,255),b:Os(n.b,0,255),a:Os(n.a)}},RS=function(n){return{r:mr(n.r),g:mr(n.g),b:mr(n.b),a:mr(n.a,3)}},tY=/^#([0-9a-f]{3,8})$/i,sx=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},YO=function(n){var e=n.r,t=n.g,i=n.b,r=n.a,a=Math.max(e,t,i),o=a-Math.min(e,t,i),c=o?a===e?(t-i)/o:a===t?2+(i-e)/o:4+(e-t)/o:0;return{h:60*(c<0?c+6:c),s:a?o/a*100:0,v:a/255*100,a:r}},qO=function(n){var e=n.h,t=n.s,i=n.v,r=n.a;e=e/360*6,t/=100,i/=100;var a=Math.floor(e),o=i*(1-t),c=i*(1-(e-a)*t),f=i*(1-(1-e+a)*t),p=a%6;return{r:255*[i,c,o,o,f,i][p],g:255*[f,i,i,c,o,o][p],b:255*[o,o,f,i,i,c][p],a:r}},e2=function(n){return{h:XO(n.h),s:Os(n.s,0,100),l:Os(n.l,0,100),a:Os(n.a)}},t2=function(n){return{h:mr(n.h),s:mr(n.s),l:mr(n.l),a:mr(n.a,3)}},n2=function(n){return qO((t=(e=n).s,{h:e.h,s:(t*=((i=e.l)<50?i:100-i)/100)>0?2*t/(i+t)*100:0,v:i+t,a:e.a}));var e,t,i},Vg=function(n){return{h:(e=YO(n)).h,s:(r=(200-(t=e.s))*(i=e.v)/100)>0&&r<200?t*i/100/(r<=100?r:200-r)*100:0,l:r/2,a:e.a};var e,t,i,r},nY=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,iY=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,rY=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,aY=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,G1={string:[[function(n){var e=tY.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?mr(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?mr(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=rY.exec(n)||aY.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:ZR({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=nY.exec(n)||iY.exec(n);if(!e)return null;var t,i,r=e2({h:(t=e[1],i=e[2],i===void 0&&(i="deg"),Number(t)*(eY[i]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return n2(r)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,i=n.b,r=n.a,a=r===void 0?1:r;return Jl(e)&&Jl(t)&&Jl(i)?ZR({r:Number(e),g:Number(t),b:Number(i),a:Number(a)}):null},"rgb"],[function(n){var e=n.h,t=n.s,i=n.l,r=n.a,a=r===void 0?1:r;if(!Jl(e)||!Jl(t)||!Jl(i))return null;var o=e2({h:Number(e),s:Number(t),l:Number(i),a:Number(a)});return n2(o)},"hsl"],[function(n){var e=n.h,t=n.s,i=n.v,r=n.a,a=r===void 0?1:r;if(!Jl(e)||!Jl(t)||!Jl(i))return null;var o=function(c){return{h:XO(c.h),s:Os(c.s,0,100),v:Os(c.v,0,100),a:Os(c.a)}}({h:Number(e),s:Number(t),v:Number(i),a:Number(a)});return qO(o)},"hsv"]]},i2=function(n,e){for(var t=0;t<e.length;t++){var i=e[t][0](n);if(i)return[i,e[t][1]]}return[null,void 0]},WO=function(n){return typeof n=="string"?i2(n.trim(),G1.string):typeof n=="object"&&n!==null?i2(n,G1.object):[null,void 0]},sY=function(n){return WO(n)[1]},BS=function(n,e){var t=Vg(n);return{h:t.h,s:Os(t.s+100*e,0,100),l:t.l,a:t.a}},DS=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},r2=function(n,e){var t=Vg(n);return{h:t.h,s:t.s,l:Os(t.l+100*e,0,100),a:t.a}},V1=function(){function n(e){this.parsed=WO(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return mr(DS(this.rgba),2)},n.prototype.isDark=function(){return DS(this.rgba)<.5},n.prototype.isLight=function(){return DS(this.rgba)>=.5},n.prototype.toHex=function(){return e=RS(this.rgba),t=e.r,i=e.g,r=e.b,o=(a=e.a)<1?sx(mr(255*a)):"","#"+sx(t)+sx(i)+sx(r)+o;var e,t,i,r,a,o},n.prototype.toRgb=function(){return RS(this.rgba)},n.prototype.toRgbString=function(){return e=RS(this.rgba),t=e.r,i=e.g,r=e.b,(a=e.a)<1?"rgba("+t+", "+i+", "+r+", "+a+")":"rgb("+t+", "+i+", "+r+")";var e,t,i,r,a},n.prototype.toHsl=function(){return t2(Vg(this.rgba))},n.prototype.toHslString=function(){return e=t2(Vg(this.rgba)),t=e.h,i=e.s,r=e.l,(a=e.a)<1?"hsla("+t+", "+i+"%, "+r+"%, "+a+")":"hsl("+t+", "+i+"%, "+r+"%)";var e,t,i,r,a},n.prototype.toHsv=function(){return e=YO(this.rgba),{h:mr(e.h),s:mr(e.s),v:mr(e.v),a:mr(e.a,3)};var e},n.prototype.invert=function(){return ma({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),ma(BS(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),ma(BS(this.rgba,-e))},n.prototype.grayscale=function(){return ma(BS(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),ma(r2(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),ma(r2(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?ma({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):mr(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=Vg(this.rgba);return typeof e=="number"?ma({h:e,s:t.s,l:t.l,a:t.a}):mr(t.h)},n.prototype.isEqual=function(e){return this.toHex()===ma(e).toHex()},n}(),ma=function(n){return n instanceof V1?n:new V1(n)},a2=[],oY=function(n){n.forEach(function(e){a2.indexOf(e)<0&&(e(V1,G1),a2.push(e))})};function lY(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var r in t)i[t[r]]=r;var a={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var c,f,p=i[this.toHex()];if(p)return p;if(o!=null&&o.closest){var m=this.toRgb(),v=1/0,x="black";if(!a.length)for(var _ in t)a[_]=new n(t[_]).toRgb();for(var S in t){var T=(c=m,f=a[S],Math.pow(c.r-f.r,2)+Math.pow(c.g-f.g,2)+Math.pow(c.b-f.b,2));T<v&&(v=T,x=S)}return x}},e.string.push([function(o){var c=o.toLowerCase(),f=c==="transparent"?"#0000":t[c];return f?new n(f).toRgb():null},"name"])}function zp(){return(zp=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}).apply(this,arguments)}function dM(n,e){if(n==null)return{};var t,i,r={},a=Object.keys(n);for(i=0;i<a.length;i++)e.indexOf(t=a[i])>=0||(r[t]=n[t]);return r}function k1(n){var e=N.useRef(n),t=N.useRef(function(i){e.current&&e.current(i)});return e.current=n,t.current}var Ap=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},kg=function(n){return"touches"in n},j1=function(n){return n&&n.ownerDocument.defaultView||self},s2=function(n,e,t){var i=n.getBoundingClientRect(),r=kg(e)?function(a,o){for(var c=0;c<a.length;c++)if(a[c].identifier===o)return a[c];return a[0]}(e.touches,t):e;return{left:Ap((r.pageX-(i.left+j1(n).pageXOffset))/i.width),top:Ap((r.pageY-(i.top+j1(n).pageYOffset))/i.height)}},o2=function(n){!kg(n)&&n.preventDefault()},pM=re.memo(function(n){var e=n.onMove,t=n.onKey,i=dM(n,["onMove","onKey"]),r=N.useRef(null),a=k1(e),o=k1(t),c=N.useRef(null),f=N.useRef(!1),p=N.useMemo(function(){var _=function(M){o2(M),(kg(M)?M.touches.length>0:M.buttons>0)&&r.current?a(s2(r.current,M,c.current)):T(!1)},S=function(){return T(!1)};function T(M){var b=f.current,R=j1(r.current),B=M?R.addEventListener:R.removeEventListener;B(b?"touchmove":"mousemove",_),B(b?"touchend":"mouseup",S)}return[function(M){var b=M.nativeEvent,R=r.current;if(R&&(o2(b),!function(D,I){return I&&!kg(D)}(b,f.current)&&R)){if(kg(b)){f.current=!0;var B=b.changedTouches||[];B.length&&(c.current=B[0].identifier)}R.focus(),a(s2(R,b,c.current)),T(!0)}},function(M){var b=M.which||M.keyCode;b<37||b>40||(M.preventDefault(),o({left:b===39?.05:b===37?-.05:0,top:b===40?.05:b===38?-.05:0}))},T]},[o,a]),m=p[0],v=p[1],x=p[2];return N.useEffect(function(){return x},[x]),re.createElement("div",zp({},i,{onTouchStart:m,onMouseDown:m,className:"react-colorful__interactive",ref:r,onKeyDown:v,tabIndex:0,role:"slider"}))}),B0=function(n){return n.filter(Boolean).join(" ")},mM=function(n){var e=n.color,t=n.left,i=n.top,r=i===void 0?.5:i,a=B0(["react-colorful__pointer",n.className]);return re.createElement("div",{className:a,style:{top:100*r+"%",left:100*t+"%"}},re.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},ya=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},JO=function(n){var e=n.s,t=n.v,i=n.a,r=(200-e)*t/100;return{h:ya(n.h),s:ya(r>0&&r<200?e*t/100/(r<=100?r:200-r)*100:0),l:ya(r/2),a:ya(i,2)}},X1=function(n){var e=JO(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},OS=function(n){var e=JO(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},KO=function(n){var e=n.h,t=n.s,i=n.v,r=n.a;e=e/360*6,t/=100,i/=100;var a=Math.floor(e),o=i*(1-t),c=i*(1-(e-a)*t),f=i*(1-(1-e+a)*t),p=a%6;return{r:ya(255*[i,c,o,o,f,i][p]),g:ya(255*[f,i,i,c,o,o][p]),b:ya(255*[o,o,f,i,i,c][p]),a:ya(r,2)}},$O=function(n){var e=n.r,t=n.g,i=n.b,r=n.a,a=Math.max(e,t,i),o=a-Math.min(e,t,i),c=o?a===e?(t-i)/o:a===t?2+(i-e)/o:4+(e-t)/o:0;return{h:ya(60*(c<0?c+6:c)),s:ya(a?o/a*100:0),v:ya(a/255*100),a:r}},QO=re.memo(function(n){var e=n.hue,t=n.onChange,i=B0(["react-colorful__hue",n.className]);return re.createElement("div",{className:i},re.createElement(pM,{onMove:function(r){t({h:360*r.left})},onKey:function(r){t({h:Ap(e+360*r.left,0,360)})},"aria-label":"Hue","aria-valuenow":ya(e),"aria-valuemax":"360","aria-valuemin":"0"},re.createElement(mM,{className:"react-colorful__hue-pointer",left:e/360,color:X1({h:e,s:100,v:100,a:1})})))}),ZO=re.memo(function(n){var e=n.hsva,t=n.onChange,i={backgroundColor:X1({h:e.h,s:100,v:100,a:1})};return re.createElement("div",{className:"react-colorful__saturation",style:i},re.createElement(pM,{onMove:function(r){t({s:100*r.left,v:100-100*r.top})},onKey:function(r){t({s:Ap(e.s+100*r.left,0,100),v:Ap(e.v-100*r.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+ya(e.s)+"%, Brightness "+ya(e.v)+"%"},re.createElement(mM,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:X1(e)})))}),gM=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0};function eN(n,e,t){var i=k1(t),r=N.useState(function(){return n.toHsva(e)}),a=r[0],o=r[1],c=N.useRef({color:e,hsva:a});N.useEffect(function(){if(!n.equal(e,c.current.color)){var p=n.toHsva(e);c.current={hsva:p,color:e},o(p)}},[e,n]),N.useEffect(function(){var p;gM(a,c.current.hsva)||n.equal(p=n.fromHsva(a),c.current.color)||(c.current={hsva:a,color:p},i(p))},[a,n,i]);var f=N.useCallback(function(p){o(function(m){return Object.assign({},m,p)})},[]);return[a,f]}var cY=typeof window<"u"?N.useLayoutEffect:N.useEffect,uY=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},l2=new Map,tN=function(n){cY(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!l2.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,l2.set(e,t);var i=uY();i&&t.setAttribute("nonce",i),e.head.appendChild(t)}},[])},fY=function(n){var e=n.className,t=n.colorModel,i=n.color,r=i===void 0?t.defaultColor:i,a=n.onChange,o=dM(n,["className","colorModel","color","onChange"]),c=N.useRef(null);tN(c);var f=eN(t,r,a),p=f[0],m=f[1],v=B0(["react-colorful",e]);return re.createElement("div",zp({},o,{ref:c,className:v}),re.createElement(ZO,{hsva:p,onChange:m}),re.createElement(QO,{hue:p.h,onChange:m,className:"react-colorful__last-control"}))},hY=function(n){var e=n.className,t=n.hsva,i=n.onChange,r={backgroundImage:"linear-gradient(90deg, "+OS(Object.assign({},t,{a:0}))+", "+OS(Object.assign({},t,{a:1}))+")"},a=B0(["react-colorful__alpha",e]),o=ya(100*t.a);return re.createElement("div",{className:a},re.createElement("div",{className:"react-colorful__alpha-gradient",style:r}),re.createElement(pM,{onMove:function(c){i({a:c.left})},onKey:function(c){i({a:Ap(t.a+c.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},re.createElement(mM,{className:"react-colorful__alpha-pointer",left:t.a,color:OS(t)})))},dY=function(n){var e=n.className,t=n.colorModel,i=n.color,r=i===void 0?t.defaultColor:i,a=n.onChange,o=dM(n,["className","colorModel","color","onChange"]),c=N.useRef(null);tN(c);var f=eN(t,r,a),p=f[0],m=f[1],v=B0(["react-colorful",e]);return re.createElement("div",zp({},o,{ref:c,className:v}),re.createElement(ZO,{hsva:p,onChange:m}),re.createElement(QO,{hue:p.h,onChange:m}),re.createElement(hY,{hsva:p,onChange:m,className:"react-colorful__last-control"}))},pY={defaultColor:{r:0,g:0,b:0,a:1},toHsva:$O,fromHsva:KO,equal:gM},mY=function(n){return re.createElement(dY,zp({},n,{colorModel:pY}))},gY={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return $O({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(e=KO(n)).r,g:e.g,b:e.b};var e},equal:gM},vY=function(n){return re.createElement(fY,zp({},n,{colorModel:gY}))},NS={exports:{}},US,c2;function yY(){if(c2)return US;c2=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return US=n,US}var LS,u2;function xY(){if(u2)return LS;u2=1;var n=yY();function e(){}function t(){}return t.resetWarningCache=e,LS=function(){function i(o,c,f,p,m,v){if(v!==n){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}i.isRequired=i;function r(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},LS}var f2;function _Y(){return f2||(f2=1,NS.exports=xY()()),NS.exports}var bY=_Y();const ei=vh(bY);function Fp(n,e,t,i){function r(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function c(m){try{p(i.next(m))}catch(v){o(v)}}function f(m){try{p(i.throw(m))}catch(v){o(v)}}function p(m){m.done?a(m.value):r(m.value).then(c,f)}p((i=i.apply(n,e||[])).next())})}function Hp(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(p){return function(m){return f([p,m])}}function f(p){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,p[0]&&(t=0)),t;)try{if(i=1,r&&(a=p[0]&2?r.return:p[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,p[1])).done)return a;switch(r=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,r=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){t.label=p[1];break}if(p[0]===6&&t.label<a[1]){t.label=a[1],a=p;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(p);break}a[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(m){p=[6,m],r=0}finally{i=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function AY(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,a=[],o;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a}function SY(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(AY(arguments[e]));return n}var EY=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function D0(n,e){var t=MY(n);if(typeof t.path!="string"){var i=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof i=="string"&&i.length>0?i:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function MY(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var i=e.split(".").pop().toLowerCase(),r=EY.get(i);r&&Object.defineProperty(n,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return n}var TY=[".DS_Store","Thumbs.db"];function CY(n){return Fp(this,void 0,void 0,function(){return Hp(this,function(e){return __(n)&&wY(n)?[2,OY(n.dataTransfer,n.type)]:RY(n)?[2,BY(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,DY(n)]:[2,[]]})})}function wY(n){return __(n.dataTransfer)}function RY(n){return __(n)&&__(n.target)}function __(n){return typeof n=="object"&&n!==null}function BY(n){return Y1(n.target.files).map(function(e){return D0(e)})}function DY(n){return Fp(this,void 0,void 0,function(){var e;return Hp(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(i){return i.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(i){return D0(i)})]}})})}function OY(n,e){return Fp(this,void 0,void 0,function(){var t,i;return Hp(this,function(r){switch(r.label){case 0:return n===null?[2,[]]:n.items?(t=Y1(n.items).filter(function(a){return a.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(NY))]):[3,2];case 1:return i=r.sent(),[2,h2(nN(i))];case 2:return[2,h2(Y1(n.files).map(function(a){return D0(a)}))]}})})}function h2(n){return n.filter(function(e){return TY.indexOf(e.name)===-1})}function Y1(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var i=n[t];e.push(i)}return e}function NY(n){if(typeof n.webkitGetAsEntry!="function")return d2(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?iN(e):d2(n)}function nN(n){return n.reduce(function(e,t){return SY(e,Array.isArray(t)?nN(t):[t])},[])}function d2(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=D0(e);return Promise.resolve(t)}function UY(n){return Fp(this,void 0,void 0,function(){return Hp(this,function(e){return[2,n.isDirectory?iN(n):LY(n)]})})}function iN(n){var e=n.createReader();return new Promise(function(t,i){var r=[];function a(){var o=this;e.readEntries(function(c){return Fp(o,void 0,void 0,function(){var f,p,m;return Hp(this,function(v){switch(v.label){case 0:if(c.length)return[3,5];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return f=v.sent(),t(f),[3,4];case 3:return p=v.sent(),i(p),[3,4];case 4:return[3,6];case 5:m=Promise.all(c.map(UY)),r.push(m),a(),v.label=6;case 6:return[2]}})})},function(c){i(c)})}a()})}function LY(n){return Fp(this,void 0,void 0,function(){return Hp(this,function(e){return[2,new Promise(function(t,i){n.file(function(r){var a=D0(r,n.fullPath);t(a)},function(r){i(r)})})]})})}var ox={},p2;function IY(){return p2||(p2=1,ox.__esModule=!0,ox.default=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var i=n.name||"",r=(n.type||"").toLowerCase(),a=r.replace(/\/.*$/,"");return t.some(function(o){var c=o.trim().toLowerCase();return c.charAt(0)==="."?i.toLowerCase().endsWith(c):c.endsWith("/*")?a===c.replace(/\/.*$/,""):r===c})}return!0}),ox}var PY=IY();const zY=vh(PY);function m2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function g2(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?m2(Object(t),!0).forEach(function(i){rN(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):m2(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function rN(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function v2(n,e){return VY(n)||GY(n,e)||HY(n,e)||FY()}function FY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HY(n,e){if(n){if(typeof n=="string")return y2(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y2(n,e)}}function y2(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function GY(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,a=!1,o,c;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(f){a=!0,c=f}finally{try{!r&&t.return!=null&&t.return()}finally{if(a)throw c}}return i}}function VY(n){if(Array.isArray(n))return n}var kY="file-invalid-type",jY="file-too-large",XY="file-too-small",YY="too-many-files",qY=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:kY,message:"File type must be ".concat(t)}},x2=function(e){return{code:jY,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},_2=function(e){return{code:XY,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},WY={code:YY,message:"Too many files"};function aN(n,e){var t=n.type==="application/x-moz-file"||zY(n,e);return[t,t?null:qY(e)]}function sN(n,e,t){if(Eg(n.size))if(Eg(e)&&Eg(t)){if(n.size>t)return[!1,x2(t)];if(n.size<e)return[!1,_2(e)]}else{if(Eg(e)&&n.size<e)return[!1,_2(e)];if(Eg(t)&&n.size>t)return[!1,x2(t)]}return[!0,null]}function Eg(n){return n!=null}function JY(n){var e=n.files,t=n.accept,i=n.minSize,r=n.maxSize,a=n.multiple,o=n.maxFiles;return!a&&e.length>1||a&&o>=1&&e.length>o?!1:e.every(function(c){var f=aN(c,t),p=v2(f,1),m=p[0],v=sN(c,i,r),x=v2(v,1),_=x[0];return m&&_})}function b_(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function lx(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function b2(n){n.preventDefault()}function KY(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function $Y(n){return n.indexOf("Edge/")!==-1}function QY(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return KY(n)||$Y(n)}function sl(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return e.some(function(c){return!b_(i)&&c&&c.apply(void 0,[i].concat(a)),b_(i)})}}function ZY(){return"showOpenFilePicker"in window}function eq(n){return n=typeof n=="string"?n.split(","):n,[{description:"everything",accept:Array.isArray(n)?n.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return g2(g2({},e),{},rN({},t,[]))},{}):{}}]}function tq(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function nq(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}var iq=["children"],rq=["open"],aq=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],sq=["refKey","onChange","onClick"];function oq(n){return uq(n)||cq(n)||oN(n)||lq()}function lq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cq(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function uq(n){if(Array.isArray(n))return q1(n)}function IS(n,e){return dq(n)||hq(n,e)||oN(n,e)||fq()}function fq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oN(n,e){if(n){if(typeof n=="string")return q1(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return q1(n,e)}}function q1(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function hq(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,a=!1,o,c;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(f){a=!0,c=f}finally{try{!r&&t.return!=null&&t.return()}finally{if(a)throw c}}return i}}function dq(n){if(Array.isArray(n))return n}function A2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function gi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?A2(Object(t),!0).forEach(function(i){W1(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):A2(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function W1(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function A_(n,e){if(n==null)return{};var t=pq(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function pq(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var vM=N.forwardRef(function(n,e){var t=n.children,i=A_(n,iq),r=cN(i),a=r.open,o=A_(r,rq);return N.useImperativeHandle(e,function(){return{open:a}},[a]),re.createElement(N.Fragment,null,t(gi(gi({},o),{},{open:a})))});vM.displayName="Dropzone";var lN={disabled:!1,getFilesFromEvent:CY,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};vM.defaultProps=lN;vM.propTypes={children:ei.func,accept:ei.oneOfType([ei.string,ei.arrayOf(ei.string)]),multiple:ei.bool,preventDropOnDocument:ei.bool,noClick:ei.bool,noKeyboard:ei.bool,noDrag:ei.bool,noDragEventsBubbling:ei.bool,minSize:ei.number,maxSize:ei.number,maxFiles:ei.number,disabled:ei.bool,getFilesFromEvent:ei.func,onFileDialogCancel:ei.func,onFileDialogOpen:ei.func,useFsAccessApi:ei.bool,onDragEnter:ei.func,onDragLeave:ei.func,onDragOver:ei.func,onDrop:ei.func,onDropAccepted:ei.func,onDropRejected:ei.func,validator:ei.func};var J1={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function cN(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=gi(gi({},lN),n),t=e.accept,i=e.disabled,r=e.getFilesFromEvent,a=e.maxSize,o=e.minSize,c=e.multiple,f=e.maxFiles,p=e.onDragEnter,m=e.onDragLeave,v=e.onDragOver,x=e.onDrop,_=e.onDropAccepted,S=e.onDropRejected,T=e.onFileDialogCancel,M=e.onFileDialogOpen,b=e.useFsAccessApi,R=e.preventDropOnDocument,B=e.noClick,D=e.noKeyboard,I=e.noDrag,U=e.noDragEventsBubbling,F=e.validator,V=N.useMemo(function(){return typeof M=="function"?M:S2},[M]),P=N.useMemo(function(){return typeof T=="function"?T:S2},[T]),L=N.useRef(null),k=N.useRef(null),ie=N.useReducer(mq,J1),te=IS(ie,2),ue=te[0],fe=te[1],G=ue.isFocused,$=ue.isFileDialogActive,Q=ue.draggedFiles,he=N.useRef(typeof window<"u"&&window.isSecureContext&&b&&ZY()),Y=function(){!he.current&&$&&setTimeout(function(){if(k.current){var H=k.current.files;H.length||(fe({type:"closeDialog"}),P())}},300)};N.useEffect(function(){return window.addEventListener("focus",Y,!1),function(){window.removeEventListener("focus",Y,!1)}},[k,$,P,he]);var ae=N.useRef([]),Se=function(H){L.current&&L.current.contains(H.target)||(H.preventDefault(),ae.current=[])};N.useEffect(function(){return R&&(document.addEventListener("dragover",b2,!1),document.addEventListener("drop",Se,!1)),function(){R&&(document.removeEventListener("dragover",b2),document.removeEventListener("drop",Se))}},[L,R]);var Re=N.useCallback(function(j){j.preventDefault(),j.persist(),Xe(j),ae.current=[].concat(oq(ae.current),[j.target]),lx(j)&&Promise.resolve(r(j)).then(function(H){b_(j)&&!U||(fe({draggedFiles:H,isDragActive:!0,type:"setDraggedFiles"}),p&&p(j))})},[r,p,U]),Ue=N.useCallback(function(j){j.preventDefault(),j.persist(),Xe(j);var H=lx(j);if(H&&j.dataTransfer)try{j.dataTransfer.dropEffect="copy"}catch{}return H&&v&&v(j),!1},[v,U]),pe=N.useCallback(function(j){j.preventDefault(),j.persist(),Xe(j);var H=ae.current.filter(function(be){return L.current&&L.current.contains(be)}),de=H.indexOf(j.target);de!==-1&&H.splice(de,1),ae.current=H,!(H.length>0)&&(fe({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),lx(j)&&m&&m(j))},[L,m,U]),Be=N.useCallback(function(j,H){var de=[],be=[];j.forEach(function(Ne){var we=aN(Ne,t),at=IS(we,2),Qe=at[0],pt=at[1],mt=sN(Ne,o,a),je=IS(mt,2),tt=je[0],vt=je[1],gt=F?F(Ne):null;if(Qe&&tt&&!gt)de.push(Ne);else{var nt=[pt,vt];gt&&(nt=nt.concat(gt)),be.push({file:Ne,errors:nt.filter(function(zt){return zt})})}}),(!c&&de.length>1||c&&f>=1&&de.length>f)&&(de.forEach(function(Ne){be.push({file:Ne,errors:[WY]})}),de.splice(0)),fe({acceptedFiles:de,fileRejections:be,type:"setFiles"}),x&&x(de,be,H),be.length>0&&S&&S(be,H),de.length>0&&_&&_(de,H)},[fe,c,t,o,a,f,x,_,S,F]),Fe=N.useCallback(function(j){j.preventDefault(),j.persist(),Xe(j),ae.current=[],lx(j)&&Promise.resolve(r(j)).then(function(H){b_(j)&&!U||Be(H,j)}),fe({type:"reset"})},[r,Be,U]),We=N.useCallback(function(){if(he.current){fe({type:"openDialog"}),V();var j={multiple:c,types:eq(t)};window.showOpenFilePicker(j).then(function(H){return r(H)}).then(function(H){Be(H,null),fe({type:"closeDialog"})}).catch(function(H){tq(H)?(P(H),fe({type:"closeDialog"})):nq(H)&&(he.current=!1,k.current&&(k.current.value=null,k.current.click()))});return}k.current&&(fe({type:"openDialog"}),V(),k.current.value=null,k.current.click())},[fe,V,P,b,Be,t,c]),st=N.useCallback(function(j){!L.current||!L.current.isEqualNode(j.target)||(j.key===" "||j.key==="Enter"||j.keyCode===32||j.keyCode===13)&&(j.preventDefault(),We())},[L,We]),St=N.useCallback(function(){fe({type:"focus"})},[]),ln=N.useCallback(function(){fe({type:"blur"})},[]),Et=N.useCallback(function(){B||(QY()?setTimeout(We,0):We())},[B,We]),Z=function(H){return i?null:H},Pe=function(H){return D?null:Z(H)},Oe=function(H){return I?null:Z(H)},Xe=function(H){U&&H.stopPropagation()},De=N.useMemo(function(){return function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=j.refKey,de=H===void 0?"ref":H,be=j.role,Ne=j.onKeyDown,we=j.onFocus,at=j.onBlur,Qe=j.onClick,pt=j.onDragEnter,mt=j.onDragOver,je=j.onDragLeave,tt=j.onDrop,vt=A_(j,aq);return gi(gi(W1({onKeyDown:Pe(sl(Ne,st)),onFocus:Pe(sl(we,St)),onBlur:Pe(sl(at,ln)),onClick:Z(sl(Qe,Et)),onDragEnter:Oe(sl(pt,Re)),onDragOver:Oe(sl(mt,Ue)),onDragLeave:Oe(sl(je,pe)),onDrop:Oe(sl(tt,Fe)),role:typeof be=="string"&&be!==""?be:"button"},de,L),!i&&!D?{tabIndex:0}:{}),vt)}},[L,st,St,ln,Et,Re,Ue,pe,Fe,D,I,i]),et=N.useCallback(function(j){j.stopPropagation()},[]),Ve=N.useMemo(function(){return function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=j.refKey,de=H===void 0?"ref":H,be=j.onChange,Ne=j.onClick,we=A_(j,sq),at=W1({accept:t,multiple:c,type:"file",style:{display:"none"},onChange:Z(sl(be,Fe)),onClick:Z(sl(Ne,et)),tabIndex:-1},de,k);return gi(gi({},at),we)}},[k,t,c,Fe,i]),Ye=Q.length,Mt=Ye>0&&JY({files:Q,accept:t,minSize:o,maxSize:a,multiple:c,maxFiles:f}),Tt=Ye>0&&!Mt;return gi(gi({},ue),{},{isDragAccept:Mt,isDragReject:Tt,isFocused:G&&!i,getRootProps:De,getInputProps:Ve,rootRef:L,inputRef:k,open:Z(We)})}function mq(n,e){switch(e.type){case"focus":return gi(gi({},n),{},{isFocused:!0});case"blur":return gi(gi({},n),{},{isFocused:!1});case"openDialog":return gi(gi({},J1),{},{isFileDialogActive:!0});case"closeDialog":return gi(gi({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,i=e.draggedFiles;return gi(gi({},n),{},{draggedFiles:i,isDragActive:t});case"setFiles":return gi(gi({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return gi({},J1);default:return n}}function S2(){}function gq(n){let e;const t=new Set,i=(p,m)=>{const v=typeof p=="function"?p(e):p;if(v!==e){const x=e;e=m?v:Object.assign({},e,v),t.forEach(_=>_(e,x))}},r=()=>e,a=(p,m=r,v=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let x=m(e);function _(){const S=m(e);if(!v(x,S)){const T=x;p(x=S,T)}}return t.add(_),()=>t.delete(_)},f={setState:i,getState:r,subscribe:(p,m,v)=>m||v?a(p,m,v):(t.add(p),()=>t.delete(p)),destroy:()=>t.clear()};return e=n(i,r,f),f}const vq=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),E2=vq?N.useEffect:N.useLayoutEffect;function yq(n){const e=typeof n=="function"?gq(n):n,t=(i=e.getState,r=Object.is)=>{const[,a]=N.useReducer(M=>M+1,0),o=e.getState(),c=N.useRef(o),f=N.useRef(i),p=N.useRef(r),m=N.useRef(!1),v=N.useRef();v.current===void 0&&(v.current=i(o));let x,_=!1;(c.current!==o||f.current!==i||p.current!==r||m.current)&&(x=i(o),_=!r(v.current,x)),E2(()=>{_&&(v.current=x),c.current=o,f.current=i,p.current=r,m.current=!1});const S=N.useRef(o);E2(()=>{const M=()=>{try{const R=e.getState(),B=f.current(R);p.current(v.current,B)||(c.current=R,v.current=B,a())}catch{m.current=!0,a()}},b=e.subscribe(M);return e.getState()!==S.current&&M(),b},[]);const T=_?x:v.current;return N.useDebugValue(T),T};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}const xq=n=>(e,t,i)=>{const r=i.subscribe;return i.subscribe=(o,c,f)=>{let p=o;if(c){const m=(f==null?void 0:f.equalityFn)||Object.is;let v=o(i.getState());p=x=>{const _=o(x);if(!m(v,_)){const S=v;c(v=_,S)}},f!=null&&f.fireImmediately&&c(v,v)}return r(p)},n(e,t,i)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var PS,M2;function _q(){return M2||(M2=1,PS=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1}),PS}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var zS,T2;function uN(){if(T2)return zS;T2=1;var n=_q();function e(t){return n(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}return zS=function(i){var r,a;return!(e(i)===!1||(r=i.constructor,typeof r!="function")||(a=r.prototype,e(a)===!1)||a.hasOwnProperty("isPrototypeOf")===!1)},zS}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var FS,C2;function yM(){if(C2)return FS;C2=1;var n=uN();return FS=function(t){return n(t)||typeof t=="function"||Array.isArray(t)},FS}/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var HS,w2;function bq(){return w2||(w2=1,HS=function(e,t,i){for(var r in e)if(t.call(i,e[r],r,e)===!1)break}),HS}var GS,R2;function Aq(){if(R2)return GS;R2=1;var n=yM(),e=bq();function t(o,c){for(var f=arguments.length,p=0;++p<f;){var m=arguments[p];r(m)&&e(m,i,o)}return o}function i(o,c){if(a(c)){var f=this[c];r(o)&&r(f)?t(f,o):this[c]=o}}function r(o){return n(o)&&!Array.isArray(o)}function a(o){return o!=="__proto__"&&o!=="constructor"&&o!=="prototype"}return GS=t,GS}/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var VS,B2;function Sq(){if(B2)return VS;B2=1,VS=function(t,i,r,a,o){if(!n(t)||!i)return t;if(i=e(i),r&&(i+="."+e(r)),a&&(i+="."+e(a)),o&&(i+="."+e(o)),i in t)return t[i];for(var c=i.split("."),f=c.length,p=-1;t&&++p<f;){for(var m=c[p];m[m.length-1]==="\\";)m=m.slice(0,-1)+"."+c[++p];t=t[m]}return t};function n(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function e(t){return t?Array.isArray(t)?t.join("."):t:""}return VS}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var kS,D2;function Eq(){return D2||(D2=1,kS=function(n,e){if(n===null||typeof n>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return n;for(var t=Object.prototype.propertyIsEnumerable,i=Object(n),r=arguments.length,a=0;++a<r;)for(var o=Object(arguments[a]),c=Object.getOwnPropertySymbols(o),f=0;f<c.length;f++){var p=c[f];t.call(o,p)&&(i[p]=o[p])}return i}),kS}var jS,O2;function Mq(){if(O2)return jS;O2=1;var n=yM(),e=Eq();jS=Object.assign||function(c){if(c===null||typeof c>"u")throw new TypeError("Cannot convert undefined or null to object");a(c)||(c={});for(var f=1;f<arguments.length;f++){var p=arguments[f];i(p)&&(p=r(p)),a(p)&&(t(c,p),e(c,p))}return c};function t(c,f){for(var p in f)o(f,p)&&(c[p]=f[p])}function i(c){return c&&typeof c=="string"}function r(c){var f={};for(var p in c)f[p]=c[p];return f}function a(c){return c&&typeof c=="object"||n(c)}function o(c,f){return Object.prototype.hasOwnProperty.call(c,f)}return jS}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var XS,N2;function Tq(){if(N2)return XS;N2=1;var n=Mq();XS=function(r,a,o){if(typeof r!="string")throw new TypeError("expected a string");typeof a=="function"&&(o=a,a=null),typeof a=="string"&&(a={sep:a});var c=n({sep:"."},a),f=c.quotes||['"',"'","`"],p;c.brackets===!0?p={"<":">","(":")","[":"]","{":"}"}:c.brackets&&(p=c.brackets);var m=[],v=[],x=[""],_=c.sep,S=r.length,T=-1,M;function b(){if(p&&v.length)return p[v[v.length-1]]}for(;++T<S;){var R=r[T],B=r[T+1],D={val:R,idx:T,arr:x,str:r};if(m.push(D),R==="\\"){D.val=i(c,r,T)===!0?R+B:B,D.escaped=!0,typeof o=="function"&&o(D),x[x.length-1]+=D.val,T++;continue}if(p&&p[R]){v.push(R);var I=b(),U=T+1;if(r.indexOf(I,U+1)!==-1)for(;v.length&&U<S;){var F=r[++U];if(F==="\\"){F++;continue}if(f.indexOf(F)!==-1){U=e(r,F,U+1);continue}if(I=b(),v.length&&r.indexOf(I,U+1)===-1)break;if(p[F]){v.push(F);continue}I===F&&v.pop()}if(M=U,M===-1){x[x.length-1]+=R;continue}R=r.slice(T,M+1),D.val=R,D.idx=T=M}if(f.indexOf(R)!==-1){if(M=e(r,R,T+1),M===-1){x[x.length-1]+=R;continue}t(R,c)===!0?R=r.slice(T,M+1):R=r.slice(T+1,M),D.val=R,D.idx=T=M}if(typeof o=="function"&&(o(D,m),R=D.val,T=D.idx),D.val===_&&D.split!==!1){x.push("");continue}x[x.length-1]+=D.val}return x};function e(r,a,o,c){var f=r.indexOf(a,o);return r.charAt(f-1)==="\\"?e(r,a,f+1):f}function t(r,a){return a.keepDoubleQuotes===!0&&r==='"'||a.keepSingleQuotes===!0&&r==="'"?!0:a.keepQuotes}function i(r,a,o){return typeof r.keepEscaping=="function"?r.keepEscaping(a,o):r.keepEscaping===!0||a[o+1]==="\\"}return XS}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var YS,U2;function Cq(){return U2||(U2=1,YS=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")}),YS}var qS,L2;function wq(){if(L2)return qS;L2=1;var n=Cq();qS=function(r){n(r)||(r={});for(var a=arguments.length,o=1;o<a;o++){var c=arguments[o];n(c)&&e(r,c)}return r};function e(i,r){for(var a in r)t(r,a)&&(i[a]=r[a])}function t(i,r){return Object.prototype.hasOwnProperty.call(i,r)}return qS}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var WS,I2;function Rq(){return I2||(I2=1,WS=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")}),WS}/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var JS,P2;function Bq(){if(P2)return JS;P2=1;var n=Tq(),e=wq(),t=uN(),i=Rq();JS=function(a,o,c){if(!i(a)||(Array.isArray(o)&&(o=[].concat.apply([],o).join(".")),typeof o!="string"))return a;for(var f=n(o,{sep:".",brackets:!0}).filter(r),p=f.length,m=-1,v=a;++m<p;){var x=f[m];if(m!==p-1){i(v[x])||(v[x]={}),v=v[x];continue}t(v[x])&&t(c)?v[x]=e({},v[x],c):v[x]=c}return a};function r(a){return a!=="__proto__"&&a!=="constructor"&&a!=="prototype"}return JS}var KS,z2;function Dq(){if(z2)return KS;z2=1;var n=yM(),e=Aq(),t=Sq(),i=Bq();return KS=function(a,o,c){if(!n(a))throw new TypeError("expected an object");if(typeof o!="string"||c==null)return e.apply(null,arguments);if(typeof c=="string")return i(a,o,c),a;var f=t(a,o);return n(c)&&n(f)&&(c=e({},f,c)),i(a,o,c),a},KS}var Oq=Dq();const Nq=vh(Oq),xM=(...n)=>n.filter(Boolean).join(".");function Uq(n){const e=n.split(".");return[e.pop(),e.join(".")||void 0]}function Lq(n,e){return Object.entries(Mj(n,e)).reduce((t,[,{value:i,disabled:r,key:a}])=>(t[a]=r?void 0:i,t),{})}function Iq(n,e){const t=N.useRef();return i0(n,t.current)||(t.current=n),t.current}function fN(n,e){return N.useMemo(n,Iq(e))}function Pq(n){const e=N.useRef(null),t=N.useRef(null),i=N.useRef(!0);return N.useLayoutEffect(()=>{n||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),N.useEffect(()=>{if(i.current){i.current=!1;return}let r;const a=e.current,o=()=>{n&&(a.style.removeProperty("height"),a.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};a.addEventListener("transitionend",o,{once:!0});const{height:c}=t.current.getBoundingClientRect();return a.style.height=c+"px",n||(a.style.overflow="hidden",r=window.setTimeout(()=>a.style.height="0px",50)),()=>{a.removeEventListener("transitionend",o),clearTimeout(r)}},[n]),{wrapperRef:e,contentRef:t}}const zq=n=>{const[e,t]=N.useState(n.getVisiblePaths());return N.useEffect(()=>{t(n.getVisiblePaths());const i=n.useStore.subscribe(n.getVisiblePaths,t,{equalityFn:db});return()=>i()},[n]),e};function Fq(n,e,t){return n.useStore(r=>{const a=kt(kt({},t),r.data);return Lq(a,e)},db)}function hN(n=3){const e=N.useRef(null),t=N.useRef(null),[i,r]=N.useState(!1),a=N.useCallback(()=>r(!0),[]),o=N.useCallback(()=>r(!1),[]);return N.useLayoutEffect(()=>{if(i){const{bottom:c,top:f,left:p}=e.current.getBoundingClientRect(),{height:m}=t.current.getBoundingClientRect(),v=c+m>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=p+"px",v==="down"?t.current.style.top=c+n+"px":t.current.style.bottom=window.innerHeight-f+n+"px"}},[n,i]),{popinRef:e,wrapperRef:t,shown:i,show:a,hide:o}}oY([lY]);const Hq={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};Ga.extend({color:()=>n=>ma(n).isValid()});const Gq=n=>Ga().color().test(n);function dN(n,{format:e,hasAlpha:t,isString:i}){const r=Hq[e]+(i&&e!=="hex"?"String":""),a=n[r]();return typeof a=="object"&&!t?Tj(a,["a"]):a}const pN=(n,e)=>{const t=ma(n);if(!t.isValid())throw Error("Invalid color");return dN(t,e)},Vq=(n,e)=>dN(ma(n),kt(kt({},e),{},{isString:!0,format:"hex"})),kq=({value:n})=>{const e=sY(n),t=e==="name"?"hex":e,i=typeof n=="object"?"a"in n:e==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),r={format:t,hasAlpha:i,isString:typeof n=="string"};return{value:pN(n,r),settings:r}};var jq=Object.freeze({__proto__:null,schema:Gq,sanitize:pN,format:Vq,normalize:kq});const Xq=Pt("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),Yq=Pt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),qq=Pt("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function F2(n,e){return e!=="rgb"?ma(n).toRgb():n}function Wq({value:n,displayValue:e,settings:t,onUpdate:i}){const{emitOnEditStart:r,emitOnEditEnd:a}=Yr(),{format:o,hasAlpha:c}=t,{popinRef:f,wrapperRef:p,shown:m,show:v,hide:x}=hN(),_=N.useRef(0),[S,T]=N.useState(()=>F2(n,o)),M=c?mY:vY,b=()=>{T(F2(n,o)),v(),r()},R=()=>{x(),a(),window.clearTimeout(_.current)},B=()=>{_.current=window.setTimeout(R,500)};return N.useEffect(()=>()=>window.clearTimeout(_.current),[]),re.createElement(re.Fragment,null,re.createElement(Xq,{ref:f,active:m,onClick:()=>b(),style:{color:e}}),m&&re.createElement(uM,null,re.createElement(IO,{onPointerUp:R}),re.createElement(qq,{ref:p,onMouseEnter:()=>window.clearTimeout(_.current),onMouseLeave:D=>D.buttons===0&&B()},re.createElement(M,{color:S,onChange:i}))))}function Jq(){const{value:n,displayValue:e,label:t,onChange:i,onUpdate:r,settings:a}=Yr();return re.createElement(Ps,{input:!0},re.createElement(Ao,null,t),re.createElement(Yq,null,re.createElement(Wq,{value:n,displayValue:e,onChange:i,onUpdate:r,settings:a}),re.createElement(cM,{value:e,onChange:i,onUpdate:r})))}var Kq=kt({component:Jq},jq);function $q(){const{label:n,displayValue:e,onUpdate:t,settings:i}=Yr();return re.createElement(Ps,{input:!0},re.createElement(Ao,null,n),re.createElement(hM,{value:e,settings:i,onUpdate:t}))}var Qq=kt({component:$q},jO(["x","y","z"]));const Zq=Pt("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),eW=Pt("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function tW({value:n,settings:e,onUpdate:t}){const i=N.useRef(),r=N.useRef(0),a=N.useRef(0),o=N.useRef(1),[c,f]=N.useState(!1),[p,m]=N.useState(!1),[v,x]=zO(),_=N.useRef(null),S=N.useRef(null);N.useLayoutEffect(()=>{if(c){const{top:ie,left:te,width:ue,height:fe}=_.current.getBoundingClientRect();S.current.style.left=te+ue/2+"px",S.current.style.top=ie+fe/2+"px"}},[c]);const{keys:[T,M],joystick:b}=e,R=b==="invertY"?1:-1,{[T]:{step:B},[M]:{step:D}}=e,I=lc("sizes","joystickWidth"),U=lc("sizes","joystickHeight"),F=parseFloat(I)*.8/2,V=parseFloat(U)*.8/2,P=N.useCallback(()=>{i.current||(m(!0),r.current&&x({x:r.current*F}),a.current&&x({y:a.current*-V}),i.current=window.setInterval(()=>{t(ie=>{const te=B*r.current*o.current,ue=R*D*a.current*o.current;return Array.isArray(ie)?{[T]:ie[0]+te,[M]:ie[1]+ue}:{[T]:ie[T]+te,[M]:ie[M]+ue}})},16))},[F,V,t,x,B,D,T,M,R]),L=N.useCallback(()=>{window.clearTimeout(i.current),i.current=void 0,m(!1)},[]);N.useEffect(()=>{function ie(te){o.current=AO(te)}return window.addEventListener("keydown",ie),window.addEventListener("keyup",ie),()=>{window.clearTimeout(i.current),window.removeEventListener("keydown",ie),window.removeEventListener("keyup",ie)}},[]);const k=R0(({first:ie,active:te,delta:[ue,fe],movement:[G,$]})=>{ie&&f(!0);const Q=Du(G,-F,F),he=Du($,-V,V);r.current=Math.abs(G)>Math.abs(Q)?Math.sign(G-Q):0,a.current=Math.abs($)>Math.abs(he)?Math.sign(he-$):0;let Y=n[T],ae=n[M];te?(r.current||(Y+=ue*B*o.current,x({x:Q})),a.current||(ae-=R*fe*D*o.current,x({y:he})),r.current||a.current?P():L(),t({[T]:Y,[M]:ae})):(f(!1),r.current=0,a.current=0,x({x:0,y:0}),L())});return re.createElement(Zq,Ri({ref:_},k()),c&&re.createElement(uM,null,re.createElement(eW,{ref:S,isOutOfBounds:p},re.createElement("div",null),re.createElement("span",{ref:v}))))}const nW=Pt("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function iW(){const{label:n,displayValue:e,onUpdate:t,settings:i}=Yr();return re.createElement(Ps,{input:!0},re.createElement(Ao,null,n),re.createElement(nW,{withJoystick:!!i.joystick},i.joystick&&re.createElement(tW,{value:e,settings:i,onUpdate:t}),re.createElement(hM,{value:e,settings:i,onUpdate:t})))}const rW=["joystick"],mN=jO(["x","y"]),aW=n=>{let{joystick:e=!0}=n,t=qn(n,rW);const{value:i,settings:r}=mN.normalize(t);return{value:i,settings:kt(kt({},r),{},{joystick:e})}};var sW=kt(kt({component:iW},mN),{},{normalize:aW});const oW=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob |File].")}},lW=(n,e)=>typeof e=="object"&&"image"in e,cW=({image:n})=>({value:n});var uW=Object.freeze({__proto__:null,sanitize:oW,schema:lW,normalize:cW});const fW=Pt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),hW=Pt("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),dW=Pt("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),pW=Pt("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),mW=Pt("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),gW=Pt("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function vW(){const{label:n,value:e,onUpdate:t,disabled:i}=Yr(),{popinRef:r,wrapperRef:a,shown:o,show:c,hide:f}=hN(),p=N.useCallback(S=>{S.length&&t(S[0])},[t]),m=N.useCallback(S=>{S.stopPropagation(),t(void 0)},[t]),{getRootProps:v,getInputProps:x,isDragAccept:_}=cN({maxFiles:1,accept:"image/*",onDrop:p,disabled:i});return re.createElement(Ps,{input:!0},re.createElement(Ao,null,n),re.createElement(fW,null,re.createElement(dW,{ref:r,hasImage:!!e,onPointerDown:()=>!!e&&c(),onPointerUp:f,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&re.createElement(uM,null,re.createElement(IO,{onPointerUp:f,style:{cursor:"pointer"}}),re.createElement(pW,{ref:a,style:{backgroundImage:`url(${e})`}})),re.createElement(hW,v({isDragAccept:_}),re.createElement("input",x()),re.createElement(mW,null,_?"drop image":"click or drop")),re.createElement(gW,{onClick:m,disabled:!e})))}var yW=kt({component:vW},uW);const H2=Ga().number(),xW=(n,e)=>Ga().array().length(2).every.number().test(n)&&Ga().schema({min:H2,max:H2}).test(e),S_=n=>({min:n[0],max:n[1]}),gN=(n,{bounds:[e,t]},i)=>{const r=Array.isArray(n)?S_(n):n,a={min:i[0],max:i[1]},{min:o,max:c}=kt(kt({},a),r);return[Du(Number(o),e,Math.max(e,c)),Du(Number(c),Math.min(t,o),t)]},_W=({value:n,min:e,max:t})=>{const i={min:e,max:t},r=kO(S_(n),{min:i,max:i}),a=[e,t],o=kt(kt({},r),{},{bounds:a});return{value:gN(S_(n),o,n),settings:o}};var bW=Object.freeze({__proto__:null,schema:xW,format:S_,sanitize:gN,normalize:_W});const AW=["value","bounds","onDrag"],SW=["bounds"],EW=Pt("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function MW(n){let{value:e,bounds:[t,i],onDrag:r}=n,a=qn(n,AW);const o=N.useRef(null),c=N.useRef(null),f=N.useRef(null),p=N.useRef(0),m=lc("sizes","scrubberWidth"),v=R0(({event:S,first:T,xy:[M],movement:[b],memo:R={}})=>{if(T){const{width:D,left:I}=o.current.getBoundingClientRect();p.current=D-parseFloat(m);const U=(S==null?void 0:S.target)===c.current||(S==null?void 0:S.target)===f.current;R.pos=y_((M-I)/D,t,i);const F=Math.abs(R.pos-e.min)-Math.abs(R.pos-e.max);R.key=F<0||F===0&&R.pos<=e.min?"min":"max",U&&(R.pos=e[R.key])}const B=R.pos+y_(b/p.current,0,i-t);return r({[R.key]:dX(B,a[R.key])}),R}),x=`calc(${v_(e.min,t,i)} * (100% - ${m} - 8px) + 4px)`,_=`calc(${1-v_(e.max,t,i)} * (100% - ${m} - 8px) + 4px)`;return re.createElement(HO,Ri({ref:o},v()),re.createElement(FO,null,re.createElement(GO,{style:{left:x,right:_}})),re.createElement(F1,{position:"left",ref:c,style:{left:x}}),re.createElement(F1,{position:"right",ref:f,style:{right:_}}))}function TW(){const{label:n,displayValue:e,onUpdate:t,settings:i}=Yr(),r=qn(i,SW);return re.createElement(re.Fragment,null,re.createElement(Ps,{input:!0},re.createElement(Ao,null,n),re.createElement(EW,null,re.createElement(MW,Ri({value:e},i,{onDrag:t})),re.createElement(hM,{value:e,settings:r,onUpdate:t,innerLabelTrim:0}))))}var CW=kt({component:TW},bW);const wW=()=>{const n=new Map;return{on:(e,t)=>{let i=n.get(e);i===void 0&&(i=new Set,n.set(e,i)),i.add(t)},off:(e,t)=>{const i=n.get(e);i!==void 0&&(i.delete(t),i.size===0&&n.delete(e))},emit:(e,...t)=>{const i=n.get(e);if(i!==void 0)for(const r of i)r(...t)}}},RW=["type","value"],BW=["onChange","transient","onEditStart","onEditEnd"],DW=function(){const e=yq(xq(()=>({data:{}}))),t=wW();this.storeId=Ej(),this.useStore=e;const i={},r=new Set;this.getVisiblePaths=()=>{const o=this.getData(),c=Object.keys(o),f=[];Object.entries(i).forEach(([m,v])=>{v.render&&c.some(x=>x.indexOf(m)===0)&&!v.render(this.get)&&f.push(m+".")});const p=[];return r.forEach(m=>{m in o&&o[m].__refCount>0&&f.every(v=>m.indexOf(v)===-1)&&(!o[m].render||o[m].render(this.get))&&p.push(m)}),p},this.setOrderedPaths=o=>{o.forEach(c=>r.add(c))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(c=>{const f=c.data;return o.forEach(p=>{if(p in f){const m=f[p];m.__refCount--,m.__refCount===0&&m.type in yo&&delete f[p]}}),{data:f}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>i[o]||{},this.getData=()=>e.getState().data,this.addData=(o,c)=>{e.setState(f=>{const p=f.data;return Object.entries(o).forEach(([m,v])=>{let x=p[m];if(x){const{type:_,value:S}=v,T=qn(v,RW);_!==x.type?ec(vi.INPUT_TYPE_OVERRIDE,_):((x.__refCount===0||c)&&Object.assign(x,T),x.__refCount++)}else p[m]=kt(kt({},v),{},{__refCount:1})}),{data:p}})},this.setValueAtPath=(o,c,f)=>{e.setState(p=>{const m=p.data;return QR(m[o],c,o,this,f),{data:m}})},this.setSettingsAtPath=(o,c)=>{e.setState(f=>{const p=f.data;return p[o].settings=kt(kt({},p[o].settings),c),{data:p}})},this.disableInputAtPath=(o,c)=>{e.setState(f=>{const p=f.data;return p[o].disabled=c,{data:p}})},this.set=(o,c)=>{e.setState(f=>{const p=f.data;return Object.entries(o).forEach(([m,v])=>{try{QR(p[m],v,void 0,void 0,c)}catch{}}),{data:p}})},this.getInput=o=>{try{return this.getData()[o]}catch{ec(vi.PATH_DOESNT_EXIST,o)}},this.get=o=>{var c;return(c=this.getInput(o))===null||c===void 0?void 0:c.value},this.emitOnEditStart=o=>{t.emit(`onEditStart:${o}`,this.get(o),o,kt(kt({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{t.emit(`onEditEnd:${o}`,this.get(o),o,kt(kt({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,c)=>{const f=`onEditStart:${o}`;return t.on(f,c),()=>t.off(f,c)},this.subscribeToEditEnd=(o,c)=>{const f=`onEditEnd:${o}`;return t.on(f,c),()=>t.off(f,c)};const a=(o,c,f)=>{const p={};return Object.entries(o).forEach(([m,v])=>{if(m==="")return ec(vi.EMPTY_KEY);let x=xM(c,m);if(v.type===yo.FOLDER){const _=a(v.schema,x,f);Object.assign(p,_),x in i||(i[x]=v.settings)}else if(m in f)ec(vi.DUPLICATE_KEYS,m,x,f[m].path);else{const _=Oj(v,m,x,p);if(_){const{type:S,options:T,input:M}=_,{onChange:b,transient:R,onEditStart:B,onEditEnd:D}=T,I=qn(T,BW);p[x]=kt(kt(kt({type:S},I),M),{},{fromPanel:!0}),f[m]={path:x,onChange:b,transient:R,onEditStart:B,onEditEnd:D}}else ec(vi.UNKNOWN_INPUT,x,v)}}),p};this.getDataFromSchema=o=>{const c={};return[a(o,"",c),c]}},vN=new DW,OW={collapsed:!1};function NW(n,e){return{type:yo.FOLDER,schema:n,settings:kt(kt({},OW),e)}}const G2=n=>"__levaInput"in n,UW=(n,e)=>{const t={},i=e?e.toLowerCase():null;return n.forEach(r=>{const[a,o]=Uq(r);(!i||a.toLowerCase().indexOf(i)>-1)&&Nq(t,o,{[a]:{__levaInput:!0,path:r}})}),t},LW=["type","label","path","valueKey","value","settings","setValue","disabled"];function IW(n){let{type:e,label:t,path:i,valueKey:r,value:a,settings:o,setValue:c,disabled:f}=n,p=qn(n,LW);const{displayValue:m,onChange:v,onUpdate:x}=PO({type:e,value:a,settings:o,setValue:c}),_=gh[e].component;return _?re.createElement(CO.Provider,{value:kt({key:r,path:i,id:""+i,label:t,displayValue:m,value:a,onChange:v,onUpdate:x,settings:o,setValue:c,disabled:f},p)},re.createElement($j,{disabled:f},re.createElement(_,null))):(ec(vi.NO_COMPONENT_FOR_TYPE,e,i),null)}const PW=Pt("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function zW({onClick:n,settings:e,label:t}){const i=w0();return re.createElement(Ps,null,re.createElement(PW,{disabled:e.disabled,onClick:()=>n(i.get)},t))}const FW=Pt("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),HW=Pt("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),GW=({label:n,opts:e})=>{let t=typeof n=="string"&&n.trim()===""?null:n,i=e;return typeof e.opts=="object"&&(i.label!==void 0&&(t=e.label),i=e.opts),{label:t,opts:i}};function VW(n){const{label:e,opts:t}=GW(n),i=w0();return re.createElement(Ps,{input:!!e},e&&re.createElement(Ao,null,e),re.createElement(FW,null,Object.entries(t).map(([r,a])=>re.createElement(HW,{key:r,onClick:()=>a(i.get)},r))))}const kW=Pt("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),yN=100;function jW(n,e){n.push(e),n.length>yN&&n.shift()}const XW=N.forwardRef(function({initialValue:n},e){const t=lc("colors","highlight3"),i=lc("colors","elevation2"),r=lc("colors","highlight1"),[a,o]=N.useMemo(()=>[ma(r).alpha(.4).toRgbString(),ma(r).alpha(.1).toRgbString()],[r]),c=N.useRef([n]),f=N.useRef(n),p=N.useRef(n),m=N.useRef(),v=N.useCallback((S,T)=>{if(!S)return;const{width:M,height:b}=S,R=new Path2D,B=M/yN,D=b*.05;for(let F=0;F<c.current.length;F++){const V=v_(c.current[F],f.current,p.current),P=B*F,L=b-V*(b-D*2)-D;R.lineTo(P,L)}T.clearRect(0,0,M,b);const I=new Path2D(R);I.lineTo(B*(c.current.length+1),b),I.lineTo(0,b),I.lineTo(0,0);const U=T.createLinearGradient(0,0,0,b);U.addColorStop(0,a),U.addColorStop(1,o),T.fillStyle=U,T.fill(I),T.strokeStyle=i,T.lineJoin="round",T.lineWidth=14,T.stroke(R),T.strokeStyle=t,T.lineWidth=2,T.stroke(R)},[t,i,a,o]),[x,_]=sX(v);return N.useImperativeHandle(e,()=>({frame:S=>{(f.current===void 0||S<f.current)&&(f.current=S),(p.current===void 0||S>p.current)&&(p.current=S),jW(c.current,S),m.current=requestAnimationFrame(()=>v(x.current,_.current))}}),[x,_,v]),N.useEffect(()=>()=>cancelAnimationFrame(m.current),[]),re.createElement(kW,{ref:x})}),V2=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),YW=N.forwardRef(function({initialValue:n},e){const[t,i]=N.useState(V2(n));return N.useImperativeHandle(e,()=>({frame:r=>i(V2(r))}),[]),re.createElement("div",null,t)});function k2(n){return typeof n=="function"?n():n.current}function qW({label:n,objectOrFn:e,settings:t}){const i=N.useRef(),r=N.useRef(k2(e));return N.useEffect(()=>{const a=window.setInterval(()=>{var o;document.hidden||(o=i.current)===null||o===void 0||o.frame(k2(e))},t.interval);return()=>window.clearInterval(a)},[e,t.interval]),re.createElement(Ps,{input:!0},re.createElement(Ao,{align:"top"},n),t.graph?re.createElement(XW,{ref:i,initialValue:r.current}):re.createElement(YW,{ref:i,initialValue:r.current}))}const WW=["type","label","key"],JW={[yo.BUTTON]:zW,[yo.BUTTON_GROUP]:VW,[yo.MONITOR]:qW},KW=re.memo(({path:n})=>{const[e,{set:t,setSettings:i,disable:r,storeId:a,emitOnEditStart:o,emitOnEditEnd:c}]=lX(n);if(!e)return null;const{type:f,label:p,key:m}=e,v=qn(e,WW);if(f in yo){const x=JW[f];return re.createElement(x,Ri({label:p,path:n},v))}return f in gh?re.createElement(IW,Ri({key:a+n,type:f,label:p,storeId:a,path:n,valueKey:m,setValue:t,setSettings:i,disable:r,emitOnEditStart:o,emitOnEditEnd:c},v)):(gj(vi.UNSUPPORTED_INPUT,f,n),null)});function $W({toggle:n,toggled:e,name:t}){return re.createElement(Wj,{onClick:()=>n()},re.createElement(fM,{toggled:e}),re.createElement("div",null,t))}const QW=({name:n,path:e,tree:t})=>{const i=w0(),r=xM(e,n),{collapsed:a,color:o}=i.getFolderSettings(r),[c,f]=N.useState(!a),p=N.useRef(null),m=lc("colors","folderWidgetColor"),v=lc("colors","folderTextColor");return N.useLayoutEffect(()=>{p.current.style.setProperty("--leva-colors-folderWidgetColor",o||m),p.current.style.setProperty("--leva-colors-folderTextColor",o||v)},[o,m,v]),re.createElement(x_,{ref:p},re.createElement($W,{name:n,toggled:c,toggle:()=>f(x=>!x)}),re.createElement(xN,{parent:r,tree:t,toggled:c}))},xN=re.memo(({isRoot:n=!1,fill:e=!1,flat:t=!1,parent:i,tree:r,toggled:a})=>{const{wrapperRef:o,contentRef:c}=Pq(a),f=w0(),p=([v,x])=>{var _;return(G2(x)?(_=f.getInput(x.path))===null||_===void 0?void 0:_.order:f.getFolderSettings(xM(i,v)).order)||0},m=Object.entries(r).sort((v,x)=>p(v)-p(x));return re.createElement(P1,{ref:o,isRoot:n,fill:e,flat:t},re.createElement(NO,{ref:c,isRoot:n,toggled:a},m.map(([v,x])=>G2(x)?re.createElement(KW,{key:x.path,valueKey:x.valueKey,path:x.path}):re.createElement(QW,{key:v,name:v,path:i,tree:x}))))}),ZW=Pt("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${LO}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),_N=40,E_=Pt("i",{$flexCenter:"",width:_N,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),eJ=Pt("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),tJ=Pt("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${E_}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),nJ=Pt("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),iJ=Pt("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:_N}}}}),rJ=re.forwardRef(({setFilter:n,toggle:e},t)=>{const[i,r]=N.useState(""),a=N.useMemo(()=>bO(n,250),[n]),o=()=>{n(""),r("")},c=f=>{const p=f.currentTarget.value;e(!0),r(p)};return N.useEffect(()=>{a(i)},[i,a]),re.createElement(re.Fragment,null,re.createElement(nJ,{ref:t,value:i,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:f=>f.stopPropagation(),onChange:c}),re.createElement(E_,{onClick:()=>o(),style:{visibility:i?"visible":"hidden"}},re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function aJ({setFilter:n,onDrag:e,onDragStart:t,onDragEnd:i,toggle:r,toggled:a,title:o,drag:c,filterEnabled:f,from:p}){const[m,v]=N.useState(!1),x=N.useRef(null);N.useEffect(()=>{var S,T;m?(S=x.current)===null||S===void 0||S.focus():(T=x.current)===null||T===void 0||T.blur()},[m]);const _=R0(({offset:[S,T],first:M,last:b})=>{e({x:S,y:T}),M&&t({x:S,y:T}),b&&i({x:S,y:T})},{filterTaps:!0,from:({offset:[S,T]})=>[(p==null?void 0:p.x)||S,(p==null?void 0:p.y)||T]});return N.useEffect(()=>{const S=T=>{T.key==="L"&&T.shiftKey&&T.metaKey&&v(M=>!M)};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[]),re.createElement(re.Fragment,null,re.createElement(eJ,{mode:c?"drag":void 0},re.createElement(E_,{active:!a,onClick:()=>r()},re.createElement(fM,{toggled:a,width:12,height:8})),re.createElement(iJ,Ri({},c?_():{},{drag:c,filterEnabled:f}),o===void 0&&c?re.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},re.createElement("circle",{cx:"2",cy:"2",r:"2"}),re.createElement("circle",{cx:"14",cy:"2",r:"2"}),re.createElement("circle",{cx:"26",cy:"2",r:"2"}),re.createElement("circle",{cx:"2",cy:"12",r:"2"}),re.createElement("circle",{cx:"14",cy:"12",r:"2"}),re.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),f&&re.createElement(E_,{active:m,onClick:()=>v(S=>!S)},re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},re.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),re.createElement(tJ,{toggled:m},re.createElement(rJ,{ref:x,setFilter:n,toggle:r})))}const sJ=["store","hidden","theme","collapsed"];function oJ(n){let{store:e,hidden:t=!1,theme:i,collapsed:r=!1}=n,a=qn(n,sJ);const o=fN(()=>Vj(i),[i]),[c,f]=N.useState(!r),p=typeof r=="object"?!r.collapsed:c,m=N.useMemo(()=>typeof r=="object"?v=>{typeof v=="function"?r.onChange(!v(!r.collapsed)):r.onChange(!v)}:f,[r]);return!e||t?null:re.createElement(lM.Provider,{value:o},re.createElement(lJ,Ri({store:e},a,{toggled:p,setToggle:m,rootClass:o.className})))}const lJ=re.memo(({store:n,rootClass:e,fill:t=!1,flat:i=!1,neverHide:r=!1,oneLineLabels:a=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:c=!1,toggled:f,setToggle:p})=>{var m,v;const x=zq(n),[_,S]=N.useState(""),T=N.useMemo(()=>UW(x,_),[x,_]),[M,b]=zO(),R=r||x.length>0,B=typeof o=="object"&&o.title||void 0,D=typeof o=="object"&&(m=o.drag)!==null&&m!==void 0?m:!0,I=typeof o=="object"&&(v=o.filter)!==null&&v!==void 0?v:!0,U=typeof o=="object"&&o.position||void 0,F=typeof o=="object"&&o.onDrag||void 0,V=typeof o=="object"&&o.onDragStart||void 0,P=typeof o=="object"&&o.onDragEnd||void 0;return re.useEffect(()=>{b({x:U==null?void 0:U.x,y:U==null?void 0:U.y})},[U,b]),Gj(),re.createElement(RO.Provider,{value:{hideCopyButton:c}},re.createElement(ZW,{ref:M,className:e,fill:t,flat:i,oneLineLabels:a,hideTitleBar:!o,style:{display:R?"block":"none"}},o&&re.createElement(aJ,{onDrag:L=>{b(L),F==null||F(L)},onDragStart:L=>V==null?void 0:V(L),onDragEnd:L=>P==null?void 0:P(L),setFilter:S,toggle:L=>p(k=>L??!k),toggled:f,title:B,drag:D,filterEnabled:I,from:U}),R&&re.createElement(wO.Provider,{value:n},re.createElement(xN,{isRoot:!0,fill:t,flat:i,tree:T,toggled:f}))))}),cJ=["isRoot"];let M_=!1,nh=null;function bN(n){let{isRoot:e=!1}=n,t=qn(n,cJ);return N.useEffect(()=>(M_=!0,!e&&nh&&(nh.remove(),nh=null),()=>{e||(M_=!1)}),[e]),re.createElement(oJ,Ri({store:vN},t))}function uJ(n){N.useEffect(()=>{n&&!M_&&(nh||(nh=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(nh),X2.createRoot(nh).render(re.createElement(bN,{isRoot:!0})))),M_=!0)},[n])}function fJ(n,e,t,i,r){let a,o,c,f,p;return typeof n=="string"?(o=n,a=e,Array.isArray(t)&&(p=t)):(a=n,Array.isArray(e)?p=e:(f=e,p=t)),{schema:a,folderName:o,folderSettings:c,hookSettings:f,deps:p||[]}}function hJ(n,e,t,i,r){const{folderName:a,schema:o,folderSettings:c,hookSettings:f,deps:p}=fJ(n,e,t),m=typeof o=="function",v=N.useRef(!1),x=N.useRef(!0),_=fN(()=>{v.current=!0;const k=typeof o=="function"?o():o;return a?{[a]:NW(k,c)}:k},p),S=!(f!=null&&f.store);uJ(S);const[T]=N.useState(()=>(f==null?void 0:f.store)||vN),[M,b]=N.useMemo(()=>T.getDataFromSchema(_),[T,_]),[R,B,D,I,U]=N.useMemo(()=>{const k=[],ie=[],te={},ue={},fe={};return Object.values(b).forEach(({path:G,onChange:$,onEditStart:Q,onEditEnd:he,transient:Y})=>{k.push(G),$?(te[G]=$,Y||ie.push(G)):ie.push(G),Q&&(ue[G]=Q),he&&(fe[G]=he)}),[k,ie,te,ue,fe]},[b]),F=N.useMemo(()=>T.orderPaths(R),[R,T]),V=Fq(T,B,M),P=N.useCallback(k=>{const ie=Object.entries(k).reduce((te,[ue,fe])=>Object.assign(te,{[b[ue].path]:fe}),{});T.set(ie,!1)},[T,b]),L=N.useCallback(k=>T.get(b[k].path),[T,b]);return N.useEffect(()=>{const k=!x.current&&v.current;return T.addData(M,k),x.current=!1,v.current=!1,()=>T.disposePaths(F)},[T,F,M]),N.useEffect(()=>{const k=[];return Object.entries(D).forEach(([ie,te])=>{te(T.get(ie),ie,kt({initial:!0,get:T.get},T.getInput(ie)));const ue=T.useStore.subscribe(fe=>{const G=fe.data[ie];return[G.disabled?void 0:G.value,G]},([fe,G])=>te(fe,ie,kt({initial:!1,get:T.get},G)),{equalityFn:db});k.push(ue)}),()=>k.forEach(ie=>ie())},[T,D]),N.useEffect(()=>{const k=[];return Object.entries(I).forEach(([ie,te])=>k.push(T.subscribeToEditStart(ie,te))),Object.entries(U).forEach(([ie,te])=>k.push(T.subscribeToEditEnd(ie,te))),()=>k.forEach(ie=>ie())},[I,U,T]),m?[V,P,L]:V}vc(xo.SELECT,MX);vc(xo.IMAGE,yW);vc(xo.NUMBER,mX);vc(xo.COLOR,Kq);vc(xo.STRING,UX);vc(xo.BOOLEAN,GX);vc(xo.INTERVAL,CW);vc(xo.VECTOR3D,Qq);vc(xo.VECTOR2D,sW);function dJ(n){const{nodes:e,materials:t}=M0("/room-transformed.glb");return J.jsx("group",{...n,dispose:null,children:J.jsxs("group",{rotation:[-Math.PI/2,0,0],children:[J.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Object_2.geometry,material:t.Material}),J.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Object_3.geometry,material:t["Material.002"]}),J.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Object_4.geometry,material:t["Material.003"]}),J.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Object_6.geometry,material:t.krzeslo_1}),J.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Object_7.geometry,material:t.krzeslo_okno}),J.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Object_8.geometry,material:t.krzeslo_prawe}),J.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Object_9.geometry,material:t.krzeslo_srodek}),J.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Object_10.geometry,material:t.podloga}),J.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Object_11.geometry,material:t.sciana_okno}),J.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Object_12.geometry,material:t["stolik.001"]}),J.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Object_16.geometry,material:t["Material.006"]}),J.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Object_5.geometry,material:t["Material.004"]}),J.jsx("mesh",{geometry:e.Object_13.geometry,children:J.jsx("meshStandardMaterial",{transparent:!0,opacity:.5})}),J.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Object_14.geometry,material:t["Material.002"]}),J.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Object_15.geometry,material:t["Material.005"]}),J.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Object_17.geometry,material:t.mata}),J.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Object_18.geometry,material:t.stolik})]})})}M0.preload("C:/Users/denni/Coding Projects/Gro0mp.github.io/public/room-transformed.glb");function pJ(){const n=N.useRef();return x3((e,t)=>{Z6.dampE(n.current.rotation,[e.pointer.y*Math.PI/50,e.pointer.x*Math.PI/20,0],.2,t)}),J.jsx("group",{ref:n,children:J.jsx("directionalLight",{position:[5,5,-8],castShadow:!0,intensity:5,"shadow-mapSize":2048,"shadow-bias":-.001,children:J.jsx("orthographicCamera",{attach:"shadow-camera",args:[-8.5,8.5,8.5,-8.5,.1,20]})})})}function $S({color:n="hotpink",floatIntensity:e=15,position:t=[0,5,-8],scale:i=1}){return J.jsx(VV,{floatIntensity:e,children:J.jsxs("mesh",{castShadow:!0,position:t,scale:i,children:[J.jsx("sphereGeometry",{}),J.jsx("meshStandardMaterial",{color:n,roughness:1})]})})}function mJ(){const[n,e]=N.useState(!1),{debug:t,enabled:i,samples:r,...a}=hJ({debug:!1,enabled:!1,size:{value:35,min:0,max:100,step:.1},focus:{value:.5,min:0,max:2,step:.1},samples:{value:16,min:1,max:40,step:1}});return J.jsxs(J.Fragment,{children:[J.jsx("div",{className:"scene-container",children:J.jsxs(w3,{shadows:!0,camera:{position:[5,2,7],fov:50},gl:{alpha:!0},children:[i&&J.jsx(GV,{...a,samples:n?Math.min(6,r):r}),J.jsx("color",{attach:"background",args:["transparent"]}),J.jsx("fog",{attach:"fog",args:["#d0d0d0",8,35]}),J.jsx("ambientLight",{intensity:.4}),J.jsx(pJ,{}),J.jsx(dJ,{scale:.5,position:[0,-1,0]}),J.jsx($S,{}),J.jsx($S,{position:[2,4,-8],scale:.9}),J.jsx($S,{position:[-2,2,-8],scale:.8}),J.jsx(jV,{inclination:.52,scale:20})]})}),J.jsx(bN,{collapsed:!0})]})}function gJ(){return J.jsxs(J.Fragment,{children:[J.jsx("div",{className:"fixed top-0 left-0 w-full h-full",children:J.jsx(mJ,{})}),J.jsx(_U,{}),J.jsx(bU,{}),J.jsx(RU,{}),J.jsx(AU,{}),J.jsx(wU,{})]})}function vJ({children:n}){const e=Ou(),t=e.pathname==="/"||!e.pathname.includes("/dsa")&&!e.pathname.includes("/chat"),[i,r]=N.useState(!1);return J.jsxs(J.Fragment,{children:[t&&J.jsx(yU,{menuOpen:i,setMenuOpen:r}),t&&J.jsx(xU,{menuOpen:i,setMenuOpen:r}),n]})}function yJ(){const[n,e]=N.useState(!1);return J.jsxs(J.Fragment,{children:[!n&&J.jsx(vU,{onComplete:()=>e(!0)}),J.jsx("div",{className:`font-display min-h-screen transition-opacity duration-700 ${n?"opacity-100":"opacity-0"} bg-black text-gray-100`,children:J.jsx(VL,{children:J.jsx(vJ,{children:J.jsxs(xL,{children:[J.jsx(Xf,{path:"/",element:J.jsx(gJ,{})}),J.jsx(Xf,{path:"/dsa",element:J.jsx(ZL,{})}),J.jsx(Xf,{path:"/dsa/data-structure/array",element:J.jsx(d9,{})}),J.jsx(Xf,{path:"/dsa/data-structure/linked-list",element:J.jsx(p9,{})}),J.jsx(Xf,{path:"/dsa/data-structure/linked-list/singly-linked-list",element:J.jsx(XV,{})}),J.jsx(Xf,{path:"/chat",element:J.jsx(YV,{})})]})})})})]})}X2.createRoot(document.getElementById("root")).render(J.jsx(N.StrictMode,{children:J.jsx(yJ,{})}));
